"use strict";(self.webpackChunkmovieList=self.webpackChunkmovieList||[]).push([[792],{154:()=>{const lf={apiKey:"AIzaSyAE7NUt3lSJqCI6x1a8jgvogUcHoSk92so",authDomain:"random-riot-backend.firebaseapp.com",projectId:"random-riot-backend",storageBucket:"random-riot-backend.appspot.com",messagingSenderId:"963331691549",appId:"1:963331691549:web:a42f4847577d26b75962f4",measurementId:"G-TZG4SS8VP3"};let Nc;function Ry(){return Nc}function Rr(t){const e=Nc;return Nc=t,e}const CG=Symbol("NotFound");class DG extends Error{name="\u0275NotFound";constructor(e){super(e)}}function df(t){return t===CG||"\u0275NotFound"===t?.name}function Py(t,e){return Object.is(t,e)}let Nt=null,kc=!1,My=1;const Ht=Symbol("SIGNAL");function ie(t){const e=Nt;return Nt=t,e}const ya={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xc(t){if(kc)throw new Error("");if(null===Nt)return;Nt.consumerOnSignalRead(t);const e=Nt.nextProducerIndex++;mf(Nt),e<Nt.producerNode.length&&Nt.producerNode[e]!==t&&Vc(Nt)&&gf(Nt.producerNode[e],Nt.producerIndexOfThis[e]),Nt.producerNode[e]!==t&&(Nt.producerNode[e]=t,Nt.producerIndexOfThis[e]=Vc(Nt)?I0(t,Nt,e):0),Nt.producerLastReadVersion[e]=t.version}function Oc(t){if((!Vc(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==My)){if(!t.producerMustRecompute(t)&&!ff(t))return void hf(t);t.producerRecomputeValue(t),hf(t)}}function v0(t){if(void 0===t.liveConsumerNode)return;const e=kc;kc=!0;try{for(const n of t.liveConsumerNode)n.dirty||AG(n)}finally{kc=e}}function E0(){return!1!==Nt?.consumerAllowSignalWrites}function AG(t){t.dirty=!0,v0(t),t.consumerMarkedDirty?.(t)}function hf(t){t.dirty=!1,t.lastCleanEpoch=My}function va(t){return t&&(t.nextProducerIndex=0),ie(t)}function Fc(t,e){if(ie(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Vc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ff(t){mf(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Oc(n),r!==n.version))return!0}return!1}function pf(t){if(mf(t),Vc(t))for(let e=0;e<t.producerNode.length;e++)gf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function I0(t,e,n){if(T0(t),0===t.liveConsumerNode.length&&w0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=I0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function gf(t,e){if(T0(t),1===t.liveConsumerNode.length&&w0(t))for(let r=0;r<t.producerNode.length;r++)gf(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];mf(i),i.producerIndexOfThis[r]=e}}function Vc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function mf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function T0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function w0(t){return void 0!==t.producerNode}const Go=Symbol("UNSET"),Ea=Symbol("COMPUTING"),Oi=Symbol("ERRORED"),RG={...ya,value:Go,dirty:!0,error:null,equal:Py,kind:"computed",producerMustRecompute:t=>t.value===Go||t.value===Ea,producerRecomputeValue(t){if(t.value===Ea)throw new Error("");const e=t.value;t.value=Ea;const n=va(t);let r,i=!1;try{r=t.computation(),ie(null),i=e!==Go&&e!==Oi&&r!==Oi&&t.equal(e,r)}catch(o){r=Oi,t.error=o}finally{Fc(t,n)}i?t.value=e:(t.value=r,t.version++)}};let C0=function PG(){throw new Error};function D0(t){C0(t)}function NG(t,e){const n=Object.create(Oy);n.value=t,void 0!==e&&(n.equal=e);const r=()=>function kG(t){return xc(t),t.value}(n);return r[Ht]=n,[r,s=>yf(n,s),s=>function b0(t,e){E0()||D0(t),yf(t,e(t.value))}(n,s)]}function yf(t,e){E0()||D0(t),t.equal(t.value,e)||(t.value=e,function xG(t){t.version++,function bG(){My++}(),v0(t)}(t))}const Oy={...ya,equal:Py,value:void 0,kind:"signal"};function Ke(t){return"function"==typeof t}function Fy(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vy=Fy(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function vf(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ke(r))try{r()}catch(o){e=o instanceof Vy?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{R0(o)}catch(s){e=e??[],s instanceof Vy?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Vy(e)}}add(e){var n;if(e&&e!==this)if(this.closed)R0(e);else{if(e instanceof tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vf(n,e)}remove(e){const{_finalizers:n}=this;n&&vf(n,e),e instanceof tn&&e._removeParent(this)}}tn.EMPTY=(()=>{const t=new tn;return t.closed=!0,t})();const A0=tn.EMPTY;function S0(t){return t instanceof tn||t&&"closed"in t&&Ke(t.remove)&&Ke(t.add)&&Ke(t.unsubscribe)}function R0(t){Ke(t)?t():t.unsubscribe()}const qo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ef={setTimeout(t,e,...n){const{delegate:r}=Ef;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ef;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function P0(t){Ef.setTimeout(()=>{const{onUnhandledError:e}=qo;if(!e)throw t;e(t)})}function Ly(){}const OG=Uy("C",void 0,void 0);function Uy(t,e,n){return{kind:t,value:e,error:n}}let Wo=null;function If(t){if(qo.useDeprecatedSynchronousErrorHandling){const e=!Wo;if(e&&(Wo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Wo;if(Wo=null,n)throw r}}else t()}class By extends tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,S0(e)&&e.add(this)):this.destination=$G}static create(e,n,r){return new $y(e,n,r)}next(e){this.isStopped?Hy(function VG(t){return Uy("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hy(function FG(t){return Uy("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hy(OG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const UG=Function.prototype.bind;function jy(t,e){return UG.call(t,e)}class BG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tf(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tf(r)}else Tf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tf(n)}}}class $y extends By{constructor(e,n,r){let i;if(super(),Ke(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jy(e.next,o),error:e.error&&jy(e.error,o),complete:e.complete&&jy(e.complete,o)}):i=e}this.destination=new BG(i)}}function Tf(t){qo.useDeprecatedSynchronousErrorHandling?function LG(t){qo.useDeprecatedSynchronousErrorHandling&&Wo&&(Wo.errorThrown=!0,Wo.error=t)}(t):P0(t)}function Hy(t,e){const{onStoppedNotification:n}=qo;n&&Ef.setTimeout(()=>n(t,e))}const $G={closed:!0,next:Ly,error:function jG(t){throw t},complete:Ly},zy="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ko(t){return t}function M0(t){return 0===t.length?Ko:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let tt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function GG(t){return t&&t instanceof By||function zG(t){return t&&Ke(t.next)&&Ke(t.error)&&Ke(t.complete)}(t)&&S0(t)}(n)?n:new $y(n,r,i);return If(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=N0(r))((i,o)=>{const s=new $y({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[zy](){return this}pipe(...n){return M0(n)(this)}toPromise(n){return new(n=N0(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function N0(t){var e;return null!==(e=t??qo.Promise)&&void 0!==e?e:Promise}const qG=Fy(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Sn=(()=>{class t extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new k0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qG}next(n){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?A0:(this.currentObservers=null,o.push(n),new tn(()=>{this.currentObservers=null,vf(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new tt;return n.source=this,n}}return t.create=(e,n)=>new k0(e,n),t})();class k0 extends Sn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:A0}}class nr extends Sn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}class O extends Error{code;constructor(e,n){super(function Fi(t,e){return`${function WG(t){return`NG0${Math.abs(t)}`}(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Qe(t){for(let e in t)if(t[e]===Qe)return e;throw Error("")}function KG(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function zt(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(zt).join(", ")}]`;if(null==t)return""+t;const e=t.overriddenName||t.name;if(e)return`${e}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function Gy(t,e){return t?e?`${t} ${e}`:t:e||""}globalThis;const QG=Qe({__forward_ref__:Qe});function ze(t){return t.__forward_ref__=ze,t.toString=function(){return zt(this())},t}function le(t){return wf(t)?t():t}function wf(t){return"function"==typeof t&&t.hasOwnProperty(QG)&&t.__forward_ref__===ze}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ia(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cf(t){return function e3(t,e){return t.hasOwnProperty(e)&&t[e]||null}(t,bf)}function Df(t){return t&&t.hasOwnProperty(qy)?t[qy]:null}const bf=Qe({\u0275prov:Qe}),qy=Qe({\u0275inj:Qe});class z{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ky(t){return t&&!!t.\u0275providers}const Qy=Qe({\u0275cmp:Qe}),o3=Qe({\u0275dir:Qe}),s3=Qe({\u0275pipe:Qe}),F0=Qe({\u0275mod:Qe}),Yo=Qe({\u0275fac:Qe}),Bc=Qe({__NG_ELEMENT_ID__:Qe}),V0=Qe({__NG_ENV_ID__:Qe});function ue(t){return"string"==typeof t?t:null==t?"":String(t)}function L0(t,e){throw new O(-200,t)}function Yy(t,e){throw new O(-201,!1)}let Zy;function U0(){return Zy}function Rn(t){const e=Zy;return Zy=t,e}function B0(t,e,n){const r=Cf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==e?e:void Yy()}const Zo={},Jy="__NG_DI_FLAG__";class c3{injector;constructor(e){this.injector=e}retrieve(e,n){const r=jc(n)||0;try{return this.injector.get(e,8&r?null:Zo,r)}catch(i){if(df(i))return i;throw i}}}const Af="ngTempTokenPath",d3=/\n/gm,j0="__source";function f3(t,e=0){const n=Ry();if(void 0===n)throw new O(-203,!1);if(null===n)return B0(t,void 0,e);{const r=function p3(t){return{optional:!!(8&t),host:!!(1&t),self:!!(2&t),skipSelf:!!(4&t)}}(e),i=n.retrieve(t,r);if(df(i)){if(r.optional)return null;throw i}return i}}function ce(t,e=0){return(U0()||f3)(le(t),e)}function L(t,e){return ce(t,jc(e))}function jc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xy(t){const e=[];for(let n=0;n<t.length;n++){const r=le(t[n]);if(Array.isArray(r)){if(0===r.length)throw new O(900,!1);let i,o=0;for(let s=0;s<r.length;s++){const a=r[s],u=g3(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(ce(i,o))}else e.push(ce(r))}return e}function $c(t,e){return t[Jy]=e,t.prototype[Jy]=e,t}function g3(t){return t[Jy]}function Jo(t,e){return t.hasOwnProperty(Yo)?t[Yo]:null}function Ta(t,e){t.forEach(n=>Array.isArray(n)?Ta(n,e):e(n))}function H0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Sf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Pf(t,e,n){let r=Hc(t,e);return r>=0?t[1|r]=n:(r=~r,function G0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ev(t,e){const n=Hc(t,e);if(n>=0)return t[1|n]}function Hc(t,e){return function v3(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Pr={},Ge=[],Li=new z(""),q0=new z("",-1),tv=new z("");class Mf{get(e,n=Zo){if(n===Zo)throw new DG(`NullInjectorError: No provider for ${zt(e)}!`);return n}}function Mr(t){return t[F0]||null}function Pe(t){return t[Qy]||null}function yn(t){return t[o3]||null}function Nr(t){return t[s3]||null}function zc(t){return{\u0275providers:t}}function I3(...t){return{\u0275providers:rv(0,t),\u0275fromNgModule:!0}}function rv(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Ta(e,s=>{const a=s;Nf(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&W0(i,o),n}function W0(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];iv(i,o=>{e(o,r)})}}function Nf(t,e,n,r){if(!(t=le(t)))return!1;let i=null,o=Df(t);const s=!o&&Pe(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Df(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)Nf(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Ta(o.imports,d=>{Nf(d,e,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&W0(c,e)}if(!a){const c=Jo(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ge},i),e({provide:tv,useValue:i,multi:!0},i),e({provide:Li,useValue:()=>ce(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;iv(u,d=>{e(d,c)})}}}return i!==t&&void 0!==t.providers}function iv(t,e){for(let n of t)Ky(n)&&(n=n.\u0275providers),Array.isArray(n)?iv(n,e):e(n)}const T3=Qe({provide:String,useValue:Qe});function ov(t){return null!==t&&"object"==typeof t&&T3 in t}function Ui(t){return"function"==typeof t}const sv=new z(""),kf={},Y0={};let av;function uv(){return void 0===av&&(av=new Mf),av}class nn{}class Xo extends nn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,lv(e,s=>this.processProvider(s)),this.records.set(q0,Ca(void 0,this)),i.has("environment")&&this.records.set(nn,Ca(void 0,this));const o=this.records.get(sv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tv,Ge,{self:!0}))}retrieve(e,n){const r=jc(n)||0;try{return this.get(e,Zo,r)}catch(i){if(df(i))return i;throw i}}destroy(){Gc(this),this._destroyed=!0;const e=ie(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return Gc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Gc(this);const n=Rr(this),r=Rn(void 0);try{return e()}finally{Rr(n),Rn(r)}}get(e,n=Zo,r){if(Gc(this),e.hasOwnProperty(V0))return e[V0](this);const i=jc(r),s=Rr(this),a=Rn(void 0);try{if(!(4&i)){let c=this.records.get(e);if(void 0===c){const d=function S3(t){return"function"==typeof t||"object"==typeof t&&"InjectionToken"===t.ngMetadataName}(e)&&Cf(e);c=d&&this.injectableDefInScope(d)?Ca(cv(e),kf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(2&i?uv():this.parent).get(e,n=8&i&&n===Zo?null:n)}catch(u){if(df(u)){if((u[Af]=u[Af]||[]).unshift(zt(e)),s)throw u;return function m3(t,e,n,r){const i=t[Af];throw e[j0]&&i.unshift(e[j0]),t.message=function _3(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=zt(e);if(Array.isArray(e))i=e.map(zt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):zt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(d3,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Af]=null,t}(u,e,"R3InjectorError",this.source)}throw u}finally{Rn(a),Rr(s)}}resolveInjectorInitializers(){const e=ie(null),n=Rr(this),r=Rn(void 0);try{const o=this.get(Li,Ge,{self:!0});for(const s of o)s()}finally{Rr(n),Rn(r),ie(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(zt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let n=Ui(e=le(e))?e:le(e&&e.provide);const r=function D3(t){return ov(t)?Ca(void 0,t.useValue):Ca(Z0(t),kf)}(e);if(!Ui(e)&&!0===e.multi){let i=this.records.get(n);i||(i=Ca(void 0,kf,!0),i.factory=()=>Xy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=ie(null);try{return n.value===Y0?L0(zt(e)):n.value===kf&&(n.value=Y0,n.value=n.factory()),"object"==typeof n.value&&n.value&&function A3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=le(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function cv(t){const e=Cf(t),n=null!==e?e.factory:Jo(t);if(null!==n)return n;if(t instanceof z)throw new O(204,!1);if(t instanceof Function)return function C3(t){if(t.length>0)throw new O(204,!1);const n=function t3(t){return(t?.[bf]??null)||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new O(204,!1)}function Z0(t,e,n){let r;if(Ui(t)){const i=le(t);return Jo(i)||cv(i)}if(ov(t))r=()=>le(t.useValue);else if(function Q0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Xy(t.deps||[]));else if(function K0(t){return!(!t||!t.useExisting)}(t))r=()=>ce(le(t.useExisting));else{const i=le(t&&(t.useClass||t.provide));if(!function b3(t){return!!t.deps}(t))return Jo(i)||cv(i);r=()=>new i(...Xy(t.deps))}return r}function Gc(t){if(t.destroyed)throw new O(205,!1)}function Ca(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lv(t,e){for(const n of t)Array.isArray(n)?lv(n,e):n&&Ky(n)?lv(n.\u0275providers,e):e(n)}function zn(t,e){let n;t instanceof Xo?(Gc(t),n=t):n=new c3(t);const i=Rr(n),o=Rn(void 0);try{return e()}finally{Rr(i),Rn(o)}}function ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function vn(t){return Array.isArray(t)&&!0===t[1]}function pv(t){return!!(4&t.flags)}function $i(t){return t.componentOffset>-1}function Ff(t){return!(1&~t.flags)}function qn(t){return!!t.template}function Hi(t){return!!(512&t[2])}function ni(t){return!(256&~t[2])}function Vt(t){for(;Array.isArray(t);)t=t[0];return t}function Ra(t,e){return Vt(e[t])}function Pn(t,e){return Vt(e[t.index])}function Pa(t,e){return t.data[e]}function En(t,e){const n=e[t];return ut(n)?n:n[0]}function mv(t){return!(128&~t[2])}function Mn(t,e){return null==e?null:t[e]}function iP(t){t[17]=0}function oP(t){1024&t[2]||(t[2]|=1024,mv(t)&&Ma(t))}function Lf(t){return!!(9216&t[2]||t[24]?.dirty)}function _v(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),Lf(t)&&Ma(t)}function Ma(t){t[10].changeDetectionScheduler?.notify(0);let e=ri(t);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,mv(e));)e=ri(e)}function Uf(t,e){if(ni(t))throw new O(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e)}function ri(t){const e=t[3];return vn(e)?e[3]:e}const oe={lFrame:yP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ev=!1;function Iv(){return oe.bindingsEnabled}function V(){return oe.lFrame.lView}function he(){return oe.lFrame.tView}function Kc(t){return oe.lFrame.contextLView=t,t[8]}function Qc(t){return oe.lFrame.contextLView=null,t}function _e(){let t=lP();for(;null!==t&&64===t.type;)t=t.parent;return t}function lP(){return oe.lFrame.currentTNode}function pr(t,e){const n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Tv(){return oe.lFrame.isParent}function fP(){return Ev}function Bf(t){const e=Ev;return Ev=t,e}function Wn(){return oe.lFrame.bindingIndex++}function z3(t,e){const n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cv(e)}function Cv(t){oe.lFrame.currentDirectiveIndex=t}function jf(t){oe.lFrame.currentQueryIndex=t}function q3(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[5]:null}function mP(t,e,n){if(4&n){let i=e,o=t;for(;!(i=i.parent,null!==i||1&n||(i=q3(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;e=i,t=o}const r=oe.lFrame=_P();return r.currentTNode=e,r.lView=t,!0}function Av(t){const e=_P(),n=t[1];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _P(){const t=oe.lFrame,e=null===t?null:t.child;return null===e?yP(t):e}function yP(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function vP(){const t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const EP=vP;function Sv(){const t=vP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gt(){return oe.lFrame.selectedIndex}function os(t){oe.lFrame.selectedIndex=t}function kr(){const t=oe.lFrame;return Pa(t.tView,t.selectedIndex)}let IP=!0;function Zc(){return IP}function Jc(t){IP=t}function TP(t,e=null,n=null,r){const i=wP(t,e,n,r);return i.resolveInjectorInitializers(),i}function wP(t,e=null,n=null,r,i=new Set){const o=[n||Ge,I3(t)];return r=r||("object"==typeof t?void 0:zt(t)),new Xo(o,e||uv(),r||null,i)}class on{static THROW_IF_NOT_FOUND=Zo;static NULL=new Mf;static create(e,n){if(Array.isArray(e))return TP({name:""},n,e,"");{const r=e.name??"";return TP({name:r},e.parent,e.providers,r)}}static \u0275prov=J({token:on,providedIn:"any",factory:()=>ce(q0)});static __NG_ELEMENT_ID__=-1}const gr=new z("");let zi=(()=>class t{static __NG_ELEMENT_ID__=X3;static __NG_ENV_ID__=n=>n})();class CP extends zi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ni(this._lView)}onDestroy(e){const n=this._lView;return Uf(n,e),()=>function yv(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1)}(n,e)}}function X3(){return new CP(V())}class ka{_console=console;handleError(e){this._console.error("ERROR",e)}}const mr=new z("",{providedIn:"root",factory:()=>{const t=L(nn);let e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(ka),e.handleError(n))}}}),DP={provide:Li,useValue:()=>{L(ka)},multi:!0};function Gi(t,e){const[n,r,i]=NG(t,e?.equal),o=n;return o.set=r,o.update=i,o.asReadonly=Rv.bind(o),o}function Rv(){const t=this[Ht];if(void 0===t.readonlyFn){const e=()=>this();e[Ht]=t,t.readonlyFn=e}return t.readonlyFn}function AP(t){return function bP(t){return"function"==typeof t&&void 0!==t[Ht]}(t)&&"function"==typeof t.set}class ss{}const SP=new z("",{providedIn:"root",factory:()=>!1}),RP=new z(""),PP=new z("");let as=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nr(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new tt(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})(),$f=(()=>{class t{internalPendingTasks=L(as);scheduler=L(ss);errorHandler=L(mr);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xc(...t){}let MP=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>new n6})}return t})();class n6{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){const n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(const[n,r]of this.queues)e||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(const r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let NP=null;function qi(){return NP}class i6{}let kP=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>L(o6),providedIn:"platform"})}return t})(),o6=(()=>{class t extends kP{_location;_history;_doc=L(gr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qi().getBaseHref(this._doc)}onPopState(n){const r=qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function xP(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function OP(t){const e=t.search(/#|\?|$/);return"/"===t[e-1]?t.slice(0,e-1)+t.slice(e):t}function us(t){return t&&"?"!==t[0]?`?${t}`:t}let Hf=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>L(a6),providedIn:"root"})}return t})();const s6=new z("");let a6=(()=>{class t extends Hf{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(gr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return xP(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+us(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+us(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+us(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ce(kP),ce(s6,8))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),el=(()=>{class t{_subject=new Sn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function l6(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(OP(FP(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+us(r))}normalize(n){return t.stripTrailingSlash(function c6(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,FP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+us(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+us(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=us;static joinWithSlash=xP;static stripTrailingSlash=OP;static \u0275fac=function(r){return new(r||t)(ce(Hf))};static \u0275prov=J({token:t,factory:()=>function u6(){return new el(ce(Hf))}(),providedIn:"root"})}return t})();function FP(t){return t.replace(/\/index.html$/,"")}function VP(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function C(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){VP(o,r,i,s,a,"next",u)}function a(u){VP(o,r,i,s,a,"throw",u)}s(void 0)})}}function LP(t){return Ke(t?.lift)}function qt(t){return e=>{if(LP(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kt(t,e,n,r,i){return new d6(t,e,n,r,i)}class d6 extends By{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Se(t,e){return qt((n,r)=>{let i=0;n.subscribe(kt(r,o=>{r.next(t.call(e,o,i++))}))})}function si(t){return{toString:t}.toString()}const Oa="__parameters__";function Va(t,e,n){return si(()=>{const r=function Mv(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(Oa)?u[Oa]:Object.defineProperty(u,Oa,{value:[]})[Oa];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const Kn=$c(Va("Optional"),8),Nv=$c(Va("SkipSelf"),4);class T6{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function jP(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}const _r=(()=>{const t=()=>$P;return t.ngInherit=!0,t})();function $P(t){return t.type.prototype.ngOnChanges&&(t.setInput=C6),w6}function w6(){const t=zP(this),e=t?.current;if(e){const n=t.previous;if(n===Pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function C6(t,e,n,r,i){const o=this.declaredInputs[r],s=zP(t)||function D6(t,e){return t[HP]=e}(t,{previous:Pr,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new T6(c&&c.currentValue,n,u===Pr),jP(t,e,i,n)}const HP="__ngSimpleChanges__";function zP(t){return t[HP]||null}const cs=[],Me=function(t,e=null,n){for(let r=0;r<cs.length;r++)(0,cs[r])(t,e,n)};function xv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=d&&(t.destroyHooks??=[]).push(n,d)}}function Gf(t,e,n){GP(t,e,3,n)}function qf(t,e,n,r){(3&t[2])===n&&GP(t,e,n,r)}function Ov(t,e){let n=t[2];(3&n)===e&&(n&=16383,n+=1,t[2]=n)}function GP(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[17]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[17]+=65536),(a<o||-1==o)&&(P6(t,n,e,u),t[17]=(4294901760&t[17])+u+2),u++}function qP(t,e){Me(4,t,e);const n=ie(null);try{e.call(t)}finally{ie(n),Me(5,t,e)}}function P6(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>14<t[17]>>16&&(3&t[2])===e&&(t[2]+=16384,qP(a,o)):qP(a,o)}class nl{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}}function KP(t){return 3===t||4===t||6===t}function QP(t){return 64===t.charCodeAt(0)}function Ua(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||YP(t,n,i,0,-1===n||2===n?e[++r]:null)}}return t}function YP(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n)return void(null!==i&&(t[o+1]=i));o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}function Vv(t){return-1!==t}function rl(t){return 32767&t}function il(t,e){let n=function x6(t){return t>>16}(t),r=e;for(;n>0;)r=r[14],n--;return r}let Lv=!0;function Wf(t){const e=Lv;return Lv=t,e}let O6=0;const xr={};function Kf(t,e){const n=XP(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Uv(r.data,t),Uv(e,null),Uv(r.blueprint,null));const i=Qf(t,e),o=t.injectorIndex;if(Vv(i)){const s=rl(i),a=il(i,e),u=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Uv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function XP(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=sM(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Bv(t,e,n){!function F6(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bc)&&(r=n[Bc]),null==r&&(r=n[Bc]=O6++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function eM(t,e,n){if(8&n||void 0!==t)return t;Yy()}function tM(t,e,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const i=t[9],o=Rn(void 0);try{return i?i.get(e,r,8&n):B0(e,r,8&n)}finally{Rn(o)}}return eM(r,0,n)}function nM(t,e,n,r=0,i){if(null!==t){if(2048&e[2]&&!(2&r)){const s=function j6(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[2]&&!Hi(s);){const a=rM(o,s,n,2|r,xr);if(a!==xr)return a;let u=o.parent;if(!u){const c=s[20];if(c){const d=c.get(n,xr,r);if(d!==xr)return d}u=sM(s),s=s[14]}o=u}return i}(t,e,n,r,xr);if(s!==xr)return s}const o=rM(t,e,n,r,xr);if(o!==xr)return o}return tM(e,n,r,i)}function rM(t,e,n,r,i){const o=function U6(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Bc)?t[Bc]:void 0;return"number"==typeof e?e>=0?255&e:B6:e}(n);if("function"==typeof o){if(!mP(e,t,r))return 1&r?eM(i,0,r):tM(e,n,r,i);try{let s;if(s=o(r),null!=s||8&r)return s;Yy()}finally{EP()}}else if("number"==typeof o){let s=null,a=XP(t,e),u=-1,c=1&r?e[15][5]:null;for((-1===a||4&r)&&(u=-1===a?Qf(t,e):e[a+8],-1!==u&&oM(r,!1)?(s=e[1],a=rl(u),e=il(u,e)):a=-1);-1!==a;){const d=e[1];if(iM(o,a,d.data)){const h=L6(a,e,n,s,r,c);if(h!==xr)return h}u=e[a+8],-1!==u&&oM(r,e[1].data[a+8]===c)&&iM(o,a,e)?(s=d,a=rl(u),e=il(u,e)):a=-1}}return i}function L6(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],d=function Yf(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,d=o>>20,f=i?a+d:t.directiveEnd;for(let g=r?a:a+d;g<f;g++){const _=s[g];if(g<u&&n===_||g>=u&&_.type===n)return g}if(i){const g=s[u];if(g&&qn(g)&&g.type===n)return u}return null}(a,s,n,null==r?$i(a)&&Lv:r!=s&&!!(3&a.type),1&i&&o===a);return null!==d?ol(e,s,d,a):xr}function ol(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof nl){const s=i;s.resolving&&L0(function be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ue(t)}(o[n]));const a=Wf(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Rn(s.injectImpl):null;mP(t,r,0);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function R6(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=$P(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==d&&Rn(d),Wf(a),s.resolving=!1,EP()}}return i}function iM(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function oM(t,e){return!(2&t||1&t&&e)}class pt{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nM(this._tNode,this._lView,e,jc(r),n)}}function B6(){return new pt(_e(),V())}function Lt(t){return si(()=>{const e=t.prototype.constructor,n=e[Yo]||jv(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Yo]||jv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function jv(t){return wf(t)?()=>{const e=jv(le(t));return e&&e()}:Jo(t)}function sM(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[5]:null}function Q6(){return Ba(_e(),V())}function Ba(t,e){return new Qn(Pn(t,e))}let Qn=(()=>class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Q6})();function al(t){return!(128&~t.flags)}Symbol;var Jf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Jf||{});const Xf=new Map;let eq=0;function zv(t){Xf.delete(t[19])}const qv="__ngContext__";function kn(t,e){ut(e)?(t[qv]=e[19],function nq(t){Xf.set(t[19],t)}(e)):t[qv]=e}function TM(t){return CM(t[12])}function wM(t){return CM(t[4])}function CM(t){for(;null!==t&&!vn(t);)t=t[4];return t}let Wv;const tp=new z("",{providedIn:"root",factory:()=>Cq}),Cq="ng",MM=new z(""),cl=new z("",{providedIn:"platform",factory:()=>"unknown"}),NM=new z("",{providedIn:"root",factory:()=>function ds(){if(void 0!==Wv)return Wv;if(typeof document<"u")return document;throw new O(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),kq=new z("",{providedIn:"root",factory:()=>!1});function tN(t,e){const n=t.contentQueries;if(null!==n){const r=ie(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];jf(n[i]),a.contentQueries(2,e[s],s)}}}finally{ie(r)}}}function lE(t,e,n){jf(0);const r=ie(null);try{e(t,n)}finally{ie(r)}}function dE(t,e,n){if(pv(e)){const r=ie(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ie(r)}}}var ai=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ai||{});class sN{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss)`}}function Or(t){return t instanceof Function?t():t}function G5(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const bN="ng-template";function q5(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==G5(e[i+1].toLowerCase(),n,0))return!0}else if(vE(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function vE(t){return 4===t.type&&t.value!==bN}function W5(t,e,n){return e===(4!==t.type||n?t.value:bN)}function K5(t,e,n){let r=4;const i=t.attrs,o=null!==i?function Z5(t){for(let e=0;e<t.length;e++)if(KP(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!W5(t,u,n)||""===u&&1===e.length){if(yr(r))return!1;s=!0}}else if(8&r){if(null===i||!q5(t,i,u,n)){if(yr(r))return!1;s=!0}}else{const c=e[++a],d=Q5(u,i,vE(t),n);if(-1===d){if(yr(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>o?"":i[d+1].toLowerCase(),2&r&&c!==h){if(yr(r))return!1;s=!0}}}}else{if(!s&&!yr(r)&&!yr(u))return!1;if(s&&yr(u))continue;s=!1,r=u|1&r}}return yr(r)||s}function yr(t){return!(1&t)}function Q5(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function J5(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function AN(t,e,n=!1){for(let r=0;r<e.length;r++)if(K5(t,e[r],n))return!0;return!1}function SN(t,e){return t?":not("+e.trim()+")":e}function e9(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!yr(s)&&(e+=SN(o,i),i=""),r=s,o=o||!yr(r);n++}return""!==i&&(e+=SN(o,i)),e}const xe={};function hp(t,e,n){return t.createElement(e,n)}function fs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PN(t,e,n){t.appendChild(e,n)}function MN(t,e,n,r,i){null!==r?fs(t,e,n,r,i):PN(t,e,n)}function kN(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&function k6(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];QP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}}(t,e,r),null!==i&&function i9(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}(t,e,i),null!==o&&function r9(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function TE(t,e,n,r,i,o,s,a,u,c,d){const h=26+r,f=h+i,g=function o9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:xe);return n}(h,f),_="function"==typeof c?c():c;return g[1]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1,ssrId:d}}function fp(t,e,n,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[0]=i,h[2]=1228|r,(null!==c||t&&2048&t[2])&&(h[2]|=2048),iP(h),h[3]=h[14]=t,h[8]=n,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[9]=u||t&&t[9]||null,h[5]=o,h[19]=function tq(){return eq++}(),h[6]=d,h[20]=c,h[15]=2==e.type?t[15]:h,h}function wE(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ml(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function CE(t,e){return t[12]?t[13][4]=e:t[12]=e,t[13]=e,e}function Yn(t=1){ON(he(),V(),Gt()+t,!1)}function ON(t,e,n,r){if(!r)if(3&~e[2]){const o=t.preOrderHooks;null!==o&&qf(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Gf(e,o,n)}os(n)}var pp=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(pp||{});function _l(t,e,n,r){const i=ie(null);try{const[o,s,a]=t.inputs[n];let u=null;0!==(s&pp.SignalBased)&&(u=e[o][Ht]),null!==u&&void 0!==u.transformFn?r=u.transformFn(r):null!==a&&(r=a.call(e,r)),null!==t.setInput?t.setInput(e,u,r,n,o):jP(e,u,o,r)}finally{ie(i)}}function FN(t,e,n,r,i){const o=Gt(),s=2&r;try{os(-1),s&&e.length>26&&ON(t,e,26,!1),Me(s?2:0,i,n),n(r,i)}finally{os(o),Me(s?3:1,i,n)}}function gp(t,e,n){(function h9(t,e,n){const r=n.directiveStart,i=n.directiveEnd;$i(n)&&function s9(t,e,n){const r=Pn(e,t),i=function xN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=TE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}(n),o=t[10].rendererFactory,s=CE(t,fp(t,i,null,wE(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Kf(n,e);const o=n.initialInputs;for(let s=r;s<i;s++){const a=t.data[s],u=ol(e,t,s,n);kn(u,e),null!==o&&m9(0,s-r,u,a,0,o),qn(a)&&(En(n.index,e)[8]=ol(e,t,s,n))}})(t,e,n),!(64&~n.flags)&&function f9(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function G3(){return oe.lFrame.currentDirectiveIndex}();try{os(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Cv(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&p9(u,c)}}finally{os(-1),Cv(s)}}(t,e,n)}function DE(t,e,n=Pn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}let VN=()=>null;function bE(t,e,n,r,i,o){ME(t,e[1],e,n,r)?$i(t)&&function d9(t,e){const n=En(e,t);16&n[2]||(n[2]|=64)}(e,t.index):function AE(t,e,n,r,i,o){if(3&t.type){const s=Pn(t,e);n=function l9(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),r=null!=o?o(r,t.value||"",n):r,i.setProperty(s,n,r)}}(t,e,n,r,i,o)}function p9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function SE(t,e){const n=t.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];AN(e,o.selectors,!1)&&(r??=[],qn(o)?r.unshift(o):r.push(o))}return r}function m9(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;a+=2)_l(r,n,s[a],s[a+1])}function ME(t,e,n,r,i){const o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r];let a=!1;if(s)for(let u=0;u<s.length;u+=2){const c=s[u];_l(e.data[c],n[c],s[u+1],i),a=!0}if(o)for(const u of o)_l(e.data[u],n[u],r,i),a=!0;return a}function y9(t,e){const n=En(e,t),r=n[1];!function v9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=null),Me(18),mp(r,n,n[8]),Me(19,n[8])}function mp(t,e,n){Av(e);try{const r=t.viewQuery;null!==r&&lE(1,r,n);const i=t.template;null!==i&&FN(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[18]?.finishViewCreation(t),t.staticContentQueries&&tN(t,e),t.staticViewQueries&&lE(2,t.viewQuery,n);const o=t.components;null!==o&&function E9(t,e){for(let n=0;n<e.length;n++)y9(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Sv()}}function ps(t,e){return!e||null===e.firstChild||al(t)}function kE(t,e){return undefined(t,e)}var Yi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yi||{});function gs(t){return!(32&~t.flags)}function Qa(t,e,n,r,i){if(null!=r){let o,s=!1;vn(r)?o=r:ut(r)&&(s=!0,r=r[0]);const a=Vt(r);0===t&&null!==n?null==i?PN(e,n,a):fs(e,n,a,i||null,!0):1===t&&null!==n?fs(e,n,a,i||null,!0):2===t?function gl(t,e,n){t.removeChild(null,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function S9(t,e,n,r,i){const o=n[7];o!==Vt(n)&&Qa(e,t,r,o,i);for(let a=10;a<n.length;a++){const u=n[a];yp(u[1],u,t,e,r,o)}}(e,t,o,n,i)}}function $N(t,e){e[10].changeDetectionScheduler?.notify(9),yp(t,e,e[11],2,null,null)}function xE(t,e){const n=t[9],r=n.indexOf(e);n.splice(r,1)}function yl(t,e){if(ni(e))return;const n=e[11];n.destroyNode&&yp(t,e,n,3,null,null),function C9(t){let e=t[12];if(!e)return OE(t[1],t);for(;e;){let n=null;if(ut(e))n=e[12];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)ut(e)&&OE(e[1],e),e=e[3];null===e&&(e=t),ut(e)&&OE(e[1],e),n=e&&e[4]}e=n}}(e)}function OE(t,e){if(ni(e))return;const n=ie(null);try{e[2]&=-129,e[2]|=256,e[24]&&pf(e[24]),function b9(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof nl)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Me(4,a,u);try{u.call(a)}finally{Me(5,a,u)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}(t,e),function D9(t,e){const n=t.cleanup,r=e[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[7]=null);const i=e[21];if(null!==i){e[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=e[23];if(null!==o){e[23]=null;for(const s of o)s.destroy()}}(t,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&vn(e[3])){r!==e[3]&&xE(r,e);const i=e[18];null!==i&&i.detachView(t)}zv(e)}finally{ie(n)}}function FE(t,e,n){return function HN(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[0];if($i(r)){const{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ai.None||i===ai.Emulated)return null}return Pn(r,n)}(t,e.parent,n)}let qN=function GN(t,e,n){return 40&t.type?Pn(t,n):null};function _p(t,e,n,r){const i=FE(t,r,e),o=e[11],a=function zN(t,e,n){return qN(t,e,n)}(r.parent||e[5],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)MN(o,i,n[u],a,!1);else MN(o,i,n,a,!1)}function ms(t,e){if(null!==e){const n=e.type;if(3&n)return Pn(e,t);if(4&n)return LE(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ms(t,r);{const i=t[e.index];return vn(i)?LE(-1,i):Vt(i)}}if(128&n)return ms(t,e.next);if(32&n)return kE(e,t)()||Vt(t[e.index]);{const r=KN(t,e);return null!==r?Array.isArray(r)?r[0]:ms(ri(t[15]),r):ms(t,e.next)}}return null}function KN(t,e){return null!==e?t[15][5].projection[e.projection]:null}function LE(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return ms(r,i)}return e[7]}function UE(t,e,n,r,i,o,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],u=n.type;if(s&&0===e&&(a&&kn(Vt(a),r),n.flags|=2),!gs(n))if(8&u)UE(t,e,n.child,r,i,o,!1),Qa(e,t,i,a,o);else if(32&u){const c=kE(n,r);let d;for(;d=c();)Qa(e,t,i,d,o);Qa(e,t,i,a,o)}else 16&u?QN(t,e,r,n,i,o):Qa(e,t,i,a,o);n=s?n.projectionNext:n.next}}function yp(t,e,n,r,i,o){UE(n,r,t.firstChild,e,i,o,!1)}function QN(t,e,n,r,i,o){const s=n[15],u=s[5].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Qa(e,t,i,u[c],o);else{let c=u;const d=s[3];al(r)&&(c.flags|=128),UE(t,e,c,d,i,o,!0)}}function vl(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=e[n.index];null!==o&&r.push(Vt(o)),vn(o)&&P9(o,r);const s=n.type;if(8&s)vl(t,e,n.child,r);else if(32&s){const a=kE(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=KN(e,n);if(Array.isArray(a))r.push(...a);else{const u=ri(e[15]);vl(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function P9(t,e){for(let n=10;n<t.length;n++){const r=t[n],i=r[1].firstChild;null!==i&&vl(r[1],r,i,e)}t[7]!==t[0]&&e.push(t[7])}function YN(t){if(null!==t[25]){for(const e of t[25])e.impl.addSequence(e);t[25].length=0}}let ZN=[];const x9={...ya,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ma(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},F9={...ya,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ri(t.lView);for(;e&&!JN(e[1]);)e=ri(e);e&&oP(e)},consumerOnSignalRead(){this.lView[24]=this}};function JN(t){return 2!==t.type}function XN(t){if(null===t[23])return;let e=!0;for(;e;){let n=!1;for(const r of t[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(8192&t[2])}}function vp(t,e=0){const r=t[10].rendererFactory;r.begin?.();try{!function L9(t,e){const n=fP();try{Bf(!0),BE(t,e);let r=0;for(;Lf(t);){if(100===r)throw new O(103,!1);r++,BE(t,1)}}finally{Bf(n)}}(t,e)}finally{r.end?.()}}function ek(t,e,n,r){if(ni(e))return;const i=e[2];Av(e);let a=!0,u=null,c=null;JN(t)?(c=function M9(t){return t[24]??function N9(t){const e=ZN.pop()??Object.create(x9);return e.lView=t,e}(t)}(e),u=va(c)):null===function ky(){return Nt}()?(a=!1,c=function O9(t){const e=t[24]??Object.create(F9);return e.lView=t,e}(e),u=va(c)):e[24]&&(pf(e[24]),e[24]=null);try{iP(e),function pP(t){return oe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&FN(t,e,n,2,r);const d=!(3&~i);if(d){const g=t.preOrderCheckHooks;null!==g&&Gf(e,g,null)}else{const g=t.preOrderHooks;null!==g&&qf(e,g,0,null),Ov(e,0)}if(function B9(t){for(let e=TM(t);null!==e;e=wM(e)){if(!(2&e[2]))continue;const n=e[9];for(let r=0;r<n.length;r++)oP(n[r])}}(e),XN(e),tk(e,0),null!==t.contentQueries&&tN(t,e),d){const g=t.contentCheckHooks;null!==g&&Gf(e,g)}else{const g=t.contentHooks;null!==g&&qf(e,g,1),Ov(e,1)}!function $9(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)os(~i);else{const o=i,s=n[++r],a=n[++r];z3(s,o);const u=e[o];Me(24,u),a(2,u),Me(25,u)}}}finally{os(-1)}}(t,e);const h=t.components;null!==h&&rk(e,h,0);const f=t.viewQuery;if(null!==f&&lE(2,f,r),d){const g=t.viewCheckHooks;null!==g&&Gf(e,g)}else{const g=t.viewHooks;null!==g&&qf(e,g,2),Ov(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[22]){for(const g of e[22])g();e[22]=null}YN(e),e[2]&=-73}catch(d){throw Ma(e),d}finally{null!==c&&(Fc(c,u),a&&function k9(t){t.lView[24]!==t&&(t.lView=null,ZN.push(t))}(c)),Sv()}}function tk(t,e){for(let n=TM(t);null!==n;n=wM(n))for(let r=10;r<n.length;r++)nk(n[r],e)}function j9(t,e,n){Me(18);const r=En(e,t);nk(r,n),Me(19,r[8])}function nk(t,e){mv(t)&&BE(t,e)}function BE(t,e){const r=t[1],i=t[2],o=t[24];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!ff(o)),s||=!1,o&&(o.dirty=!1),t[2]&=-9217,s)ek(r,t,r.template,t[8]);else if(8192&i){const a=ie(null);try{XN(t),tk(t,1);const u=r.components;null!==u&&rk(t,u,1),YN(t)}finally{ie(a)}}}function rk(t,e,n){for(let r=0;r<e.length;r++)j9(t,e[r],n)}function El(t,e){const n=fP()?64:1088;for(t[10].changeDetectionScheduler?.notify(e);t;){t[2]|=n;const r=ri(t);if(Hi(t)&&!r)return t;t=r}return null}function ik(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Il(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[16];null!==i&&i!==t&&xE(i,r),e>0&&(t[n-1][4]=r[4]);const o=Sf(t,10+e);!function jN(t,e){$N(t,e),e[0]=null,e[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function sk(t,e){const n=t[9],r=e[3];(ut(r)||e[15]!==r[3][15])&&(t[2]|=2),null===n?t[9]=[e]:n.push(e)}class Tl{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const e=this._lView,n=e[1];return vl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return ni(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(vn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Il(e,r),Sf(n,r))}this._attachedToViewContainer=!1}yl(this._lView[1],this._lView)}onDestroy(e){Uf(this._lView,e)}markForCheck(){El(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){_v(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,vp(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Hi(this._lView),n=this._lView[16];null!==n&&!e&&xE(n,this._lView),$N(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e;const n=Hi(this._lView),r=this._lView[16];null!==r&&!n&&sk(r,this._lView),_v(this._lView)}}let ci=(()=>class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=z9;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const o=function Ka(t,e,n,r){const i=ie(null);try{const o=e.tView,u=fp(t,o,n,4096&t[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[16]=t[e.index];const d=t[18];return null!==d&&(u[18]=d.createEmbeddedView(o)),mp(o,u,n),u}finally{ie(i)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Tl(o)}})();function z9(){return function Ep(t,e){return 4&t.type?new ci(e,t,Ba(t,e)):null}(_e(),V())}function Za(t,e,n,r,i){let o=t.data[e];if(null===o)o=function GE(t,e,n,r,i){const o=lP(),s=Tv(),u=t.data[e]=function X9(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function cP(){return null!==oe.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return function J9(t,e,n,r){null===t.firstChild&&(t.firstChild=e),null!==n&&(r?null==n.child&&null!==e.parent&&(n.child=e):null===n.next&&(n.next=e,e.prev=n))}(t,u,o,s),u}(t,e,n,r,i),function H3(){return oe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Yc(){const t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return pr(o,!0),o}let O8=class{},Mk=class{};class F8{resolveComponentFactory(e){throw new O(917,!1)}}let Sp=class{static NULL=new F8};class JE{}let li=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function V8(){const t=V(),n=En(_e().index,t);return(ut(n)?n:t)[11]}()})(),L8=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>null})}return t})();const eI={};class Xa{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,eI,r);return i!==eI||n===eI?i:this.parentInjector.get(e,n,r)}}function tI(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Gy(i,a):2==o&&(r=Gy(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function j(t,e=0){const n=V();return null===n?ce(t,e):nM(_e(),n,le(t),e)}function nI(t,e,n,r,i){const o=null===r?null:{"":-1},s=i(t,n);if(null!==s){let a=s,u=null,c=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,u,c]=d.resolveHostDirectives(s);break}!function G8(t,e,n,r,i,o,s){const a=r.length;let u=!1;for(let f=0;f<a;f++){const g=r[f];!u&&qn(g)&&(u=!0,z8(t,n,f)),Bv(Kf(n,e),t,g.type)}!function Z8(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,a);for(let f=0;f<a;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,h=ml(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){const g=r[f];if(n.mergedAttrs=Ua(n.mergedAttrs,g.hostAttrs),W8(t,n,e,h,g),Y8(h,g,i),null!==s&&s.has(g)){const[v,I]=s.get(g);n.directiveToIndex.set(g.type,[h,v+n.directiveStart,I+n.directiveStart])}else(null===o||!o.has(g))&&n.directiveToIndex.set(g.type,h);null!==g.contentQueries&&(n.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=64);const _=g.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!d&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}!function q8(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){const i=t.data[r];if(null!==n&&n.has(i)){const o=n.get(i);xk(0,e,o,r),xk(1,e,o,r),Fk(e,r,!0)}else kk(0,e,i,r),kk(1,e,i,r),Fk(e,r,!1)}}(t,n,o)}(t,e,n,a,o,u,c)}null!==o&&null!==r&&function H8(t,e,n){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new O(-301,!1);r.push(e[i],o)}}(n,r,o)}function z8(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kk(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===t?e.inputs??={}:e.outputs??={},s[o]??=[],s[o].push(r),Ok(e,o)}}function xk(t,e,n,r){const i=0===t?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===t?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Ok(e,s)}}function Ok(t,e){"class"===e?t.flags|=8:"style"===e&&(t.flags|=16)}function Fk(t,e,n){const{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(null===r||!n&&null===i||n&&null===o||vE(t))return t.initialInputs??=[],void t.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!n&&i.hasOwnProperty(u)){const c=i[u];for(const d of c)if(d===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){const c=o[u];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}t.initialInputs??=[],t.initialInputs.push(s)}function W8(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Jo(i.type)),s=new nl(o,qn(i),j);t.blueprint[r]=s,n[r]=s,function K8(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Q8(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ml(t,n,i.hostVars,xe),i)}function Y8(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qn(e)&&(n[""]=t)}}function Vk(t,e,n,r,i,o,s,a){const u=e.consts,d=Za(e,t,2,r,Mn(u,s));return o&&nI(e,n,d,Mn(u,a),i),d.mergedAttrs=Ua(d.mergedAttrs,d.attrs),null!==d.attrs&&tI(d,d.attrs,!1),null!==d.mergedAttrs&&tI(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}function Lk(t,e){xv(t,e),pv(e)&&t.queries.elementEnd(e)}function Pp(t){return!!function rI(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function nt(t,e,n){return n!==xe&&(!Object.is(t[e],n)&&(t[e]=n,!0))}function Np(t,e,n){return function r(i){El($i(t)?En(t.index,e):e,5);const s=e[8];let a=Uk(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=Uk(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Uk(t,e,n,r){const i=ie(null);try{return Me(6,e,n),!1!==n(r)}catch(o){return function PE(t,e){const n=t[9];n&&n.get(mr,null)?.(e)}(t,o),!1}finally{Me(7,e,n),ie(i)}}function Bk(t,e,n,r,i,o,s){const a=e.firstCreatePass?function uP(t){return t.cleanup??=[]}(e):null,u=function aP(t){return t[7]??=[]}(n),c=u.length;u.push(i,o),a&&a.push(r,t,c,(c+1)*(s?-1:1))}function kp(t,e,n,r,i,o){const a=e[1],h=e[n][a.data[n].outputs[r]].subscribe(o);Bk(t.index,a,e,i,o,h,!0)}const Ji=Symbol("BINDING");class jk extends Sp{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Pe(e);return new iI(n,this.ngModule)}}class iI extends Mk{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function lW(t){return Object.keys(t).map(e=>{const[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:0!==(r&pp.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function dW(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function t9(t){return t.map(e9).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Me(22);const a=ie(null);try{const u=this.componentDef,c=function gW(t,e,n,r){const i=t?["ng-version","20.0.5"]:function n9(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!yr(i))break;i=o}r++}return n.length&&e.push(1,...n),e}(e.selectors[0]);let o=null,s=null,a=0;if(n)for(const d of n)a+=d[Ji].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){const h=r[d];if("function"!=typeof h)for(const f of h.bindings){a+=f[Ji].requiredVars;const g=d+1;f.create&&(f.targetIdx=g,(o??=[]).push(f)),f.update&&(f.targetIdx=g,(s??=[]).push(f))}}const u=[e];if(r)for(const d of r){const f=yn("function"==typeof d?d:d.type);u.push(f)}return TE(0,null,function mW(t,e){return t||e?n=>{if(1&n&&t)for(const r of t)r.create();if(2&n&&e)for(const r of e)r.update()}:null}(o,s),1,a,u,null,null,null,[i],null)}(r,u,s,o),d=function hW(t,e,n){let r=e instanceof nn?e:e?.injector;return r&&null!==t.getStandaloneInjector&&(r=t.getStandaloneInjector(r)||r),r?new Xa(n,r):n}(u,i||this.ngModule,e),h=function fW(t){const e=t.get(JE,null);if(null===e)throw new O(407,!1);return{rendererFactory:e,sanitizer:t.get(L8,null),changeDetectionScheduler:t.get(ss,null),ngReflect:!1}}(d),f=h.rendererFactory.createRenderer(null,u),g=r?function a9(t,e,n,r){const o=r.get(kq,!1)||n===ai.ShadowDom,s=t.selectRootElement(e,o);return function u9(t){VN(t)}(s),s}(f,r,u.encapsulation,d):function pW(t,e){const n=(t.selectors[0][0]||"div").toLowerCase();return hp(e,n,"svg"===n?"svg":"math"===n?"math":null)}(u,f),_=s?.some($k)||o?.some(S=>"function"!=typeof S&&S.bindings.some($k)),v=fp(null,c,null,512|wE(u),null,null,h,f,d,null,null);v[26]=g,Av(v);let I=null;try{const S=Vk(26,c,v,"#host",()=>c.directiveRegistry,!0,0);g&&(kN(f,g,S),kn(g,v)),gp(c,v,S),dE(c,S,v),Lk(c,S),void 0!==n&&function yW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o&&o.length?Array.from(o):null)}}(S,this.ngContentSelectors,n),I=En(S.index,v),v[8]=I[8],mp(c,v,null)}catch(S){throw null!==I&&zv(I),zv(v),S}finally{Me(23),Sv()}return new _W(this.componentType,v,!!_)}finally{ie(a)}}}function $k(t){const e=t[Ji].kind;return"input"===e||"twoWay"===e}class _W extends O8{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Pa(n[1],26),this.location=Ba(this._tNode,n),this.instance=En(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Tl(n,void 0),this.componentType=e}setInput(e,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;ME(r,i[1],i,e,n),this.previousInputValues.set(e,n),El(En(r.index,i),1)}get injector(){return new pt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let vr=(()=>class t{static __NG_ELEMENT_ID__=vW})();function vW(){return function Gk(t,e){let n;const r=e[t.index];return vn(r)?n=r:(n=ik(r,e,null,t),e[t.index]=n,CE(e,n)),qk(n,e,t,r),new Hk(n,t,e)}(_e(),V())}const EW=vr,Hk=class extends EW{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new pt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qf(this._hostTNode,this._hostLView);if(Vv(e)){const n=il(e,this._hostLView),r=rl(e);return new pt(n[1].data[r+8],n)}return new pt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=zk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,ps(this._hostTNode,null)),a}createComponent(e,n,r,i,o,s,a){const u=e&&!function tl(t){return"function"==typeof t}(e);let c;if(u)c=n;else{const I=n||{};c=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}const d=u?e:new iI(Pe(e)),h=r||this.parentInjector;if(!o&&null==d.ngModule){const S=(u?h:this.parentInjector).get(nn,null);S&&(o=S)}Pe(d.componentType??{});const v=d.create(h,i,null,o,s,a);return this.insertImpl(v.hostView,c,ps(this._hostTNode,null)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function x3(t){return vn(t[3])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[3],c=new Hk(u,u[5],u[3]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return function Ya(t,e,n,r=!0){const i=e[1];if(function H9(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],H0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[16];null!==s&&n!==s&&sk(s,e);const a=e[18];null!==a&&a.insertView(t),_v(e),e[2]|=128}(i,e,t,n),r){const s=LE(n,t),a=e[11],u=a.parentNode(t[7]);null!==u&&function w9(t,e,n,r,i,o){r[0]=i,r[5]=e,yp(t,r,n,1,i,o)}(i,t[5],a,e,u,s)}const o=e[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}(s,i,o,r),e.attachToViewContainerRef(),H0(oI(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=zk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Il(this._lContainer,n);r&&(Sf(oI(this._lContainer),n),yl(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Il(this._lContainer,n);return r&&null!=Sf(oI(this._lContainer),n)?new Tl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zk(t){return t[8]}function oI(t){return t[8]||(t[8]=[])}let qk=function Kk(t,e,n,r){if(t[7])return;let i;i=8&n.type?Vt(r):function IW(t,e){const n=t[11],r=n.createComment(""),i=Pn(e,t),o=n.parentNode(i);return fs(n,o,r,n.nextSibling(i),!1),r}(e,n),t[7]=i};const sx=new Set;let Es=class{},ax=class{};class mI extends Es{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jk(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;const o=Mr(e);this._bootstrapComponents=Or(o.bootstrap),this._r3Injector=wP(e,n,[{provide:Es,useValue:this},{provide:Sp,useValue:this.componentFactoryResolver},...r],zt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ux extends ax{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new mI(this.moduleType,e,[])}}class cx extends Es{injector;componentFactoryResolver=new jk(this);instance=null;constructor(e){super();const n=new Xo([...e.providers,{provide:Es,useValue:this},{provide:Sp,useValue:this.componentFactoryResolver}],e.parent||uv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function _I(t,e,n=null){return new cx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let jW=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=rv(0,n.type),i=r.length>0?_I([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(ce(nn))})}return t})();function Xi(t){return si(()=>{const e=lx(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(jW).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ai.Emulated,styles:t.styles||Ge,_:null,schemas:t.schemas||null,tView:null,id:""};e.standalone&&function ar(t){sx.has(t)||(sx.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}("NgStandalone"),dx(n);const r=t.dependencies;return n.directiveDefs=xp(r,!1),n.pipeDefs=xp(r,!0),n.id=function WW(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function $W(t){return Pe(t)||yn(t)}function HW(t){return null!==t}function xl(t){return si(()=>({type:t.type,bootstrap:t.bootstrap||Ge,declarations:t.declarations||Ge,imports:t.imports||Ge,exports:t.exports||Ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zW(t,e){if(null==t)return Pr;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=pp.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function GW(t){if(null==t)return Pr;const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function se(t){return si(()=>{const e=lx(t);return dx(e),e})}function xn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function lx(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Pr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||Ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:zW(t.inputs,e),outputs:GW(t.outputs),debugInfo:null}}function dx(t){t.features?.forEach(e=>e(t))}function xp(t,e){if(!t)return null;const n=e?Nr:$W;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(HW)}function Oe(t){let e=function hx(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(qn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=yI(t.inputs),s.declaredInputs=yI(t.declaredInputs),s.outputs=yI(t.outputs);const a=i.hostBindings;a&&JW(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&YW(t,u),c&&ZW(t,c),KW(t,i),KG(t.outputs,i.outputs),qn(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Oe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function QW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ua(i.hostAttrs,n=Ua(n,i.hostAttrs))}}(r)}function KW(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function yI(t){return t===Pr?{}:t===Ge?[]:t}function YW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function ZW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function JW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Ol(t,e,n,r,i,o,s,a){const u=V(),c=he();return function Is(t,e,n,r,i,o,s,a,u,c,d){const h=n+26,f=e.firstCreatePass?function o7(t,e,n,r,i,o,s,a,u){const c=e.consts,d=Za(e,t,4,s||null,a||null);Iv()&&nI(e,n,d,Mn(c,u),SE),d.mergedAttrs=Ua(d.mergedAttrs,d.attrs),xv(e,d);const h=d.tView=TE(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(h,e,t,r,i,o,s,a,c):e.data[h];u&&(f.flags|=u),pr(f,!1);const g=_x(e,t,f,n);Zc()&&_p(e,t,g,f),kn(g,t);const _=ik(g,t,g,f);return t[h]=_,CE(t,_),Ff(f)&&gp(e,t,f),null!=c&&DE(t,f,d),f}(u,c,t,e,n,r,i,Mn(c.consts,o),void 0,s,a),Ol}let _x=function yx(t,e,n,r){return Jc(!0),e[11].createComment("")};var EI=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(EI||{});const Ll=new z(""),wx=!1,At=class d7 extends Sn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,function dv(){return void 0!==U0()||null!=Ry()}()&&(this.destroyRef=L(zi,{optional:!0})??void 0,this.pendingTasks=L(as,{optional:!0})??void 0)}emit(e){const n=ie(null);try{super.next(e)}finally{ie(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof tn&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Cx(t){let e,n;function r(){t=Xc;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Dx(t){return queueMicrotask(()=>t()),()=>{t=Xc}}const II="isAngularZone",Lp=II+"_ID";let h7=0;class Ae{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new At(!1);onMicrotaskEmpty=new At(!1);onStable=new At(!1);onError=new At(!1);constructor(e){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=wx}=e;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function g7(t){const e=()=>{!function p7(t){function e(){Cx(()=>{t.callbackScheduled=!1,wI(t),t.isCheckStableRunning=!0,TI(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),wI(t))}(t)},n=h7++;t._inner=t._inner.fork({name:"angular",properties:{[II]:!0,[Lp]:n,[Lp+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(function m7(t){return Sx(t,"__ignore_ng_zone__")}(u))return r.invokeTask(o,s,a,u);try{return bx(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Ax(t)}},onInvoke:(r,i,o,s,a,u,c)=>{try{return bx(t),r.invoke(o,s,a,u,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function _7(t){return Sx(t,"__scheduler_tick__")}(u)&&e(),Ax(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,wI(t),TI(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(II)}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,f7,Xc,Xc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const f7={};function TI(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wI(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function bx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ax(t){t._nesting--,TI(t)}class CI{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new At;onMicrotaskEmpty=new At;onStable=new At;onError=new At;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function Sx(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}let Rx=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})(),jx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const eO=new z("");function jl(t){return!!t&&"function"==typeof t.then}function tO(t){return!!t&&"function"==typeof t.subscribe}const nO=new z("");let rO=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=L(nO,{optional:!0})??[];injector=L(on);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=zn(this.injector,i);if(jl(o))n.push(o);else if(tO(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const iO=new z("");let to=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(mr);afterRenderManager=L(Rx);zonelessEnabled=L(SP);rootEffectScheduler=L(MP);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Sn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(as);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Se(n=>!n))}constructor(){L(Ll,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=L(nn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=on.NULL){return this._injector.get(Ae).run(()=>{Me(10);const s=n instanceof Mk;if(!this._injector.get(rO).done)throw new O(405,"");let u;u=s?n:this._injector.get(Sp).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const c=function AK(t){return t.isBoundToModule}(u)?void 0:this._injector.get(Es),h=u.create(i,[],r||u.selector,c),f=h.location.nativeElement,g=h.injector.get(eO,null);return g?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),zp(this.components,h),g?.unregisterApplication(f)}),this._loadComponent(h),Me(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(EI.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);const n=ie(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ie(n),this.afterTick.next(),Me(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(JE,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews)(r||Lf(i))&&(vp(i,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Lf(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;zp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(iO,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Hl(t,e,n){const r=V();return nt(r,Wn(),e)&&(he(),bE(kr(),r,t,e,r[11],n)),Hl}function $I(t,e,n,r,i){ME(e,t,n,i?"class":"style",r)}function fe(t,e,n,r){const i=V(),o=he(),s=26+t,a=i[11],u=o.firstCreatePass?Vk(s,o,i,e,SE,Iv(),n,r):o.data[s],c=_O(o,i,u,a,e,t);i[s]=c;const d=Ff(u);return pr(u,!0),kN(a,c,u),!gs(u)&&Zc()&&_p(o,i,c,u),(0===function F3(){return oe.lFrame.elementDepthCount}()||d)&&kn(c,i),function V3(){oe.lFrame.elementDepthCount++}(),d&&(gp(o,i,u),dE(o,u,i)),null!==r&&DE(i,u),fe}function ge(){let t=_e();Tv()?function wv(){oe.lFrame.isParent=!1}():(t=t.parent,pr(t,!1));const e=t;(function U3(t){return oe.skipHydrationRootTNode===t})(e)&&function $3(){oe.skipHydrationRootTNode=null}(),function L3(){oe.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&Lk(n,e),null!=e.classesWithoutHost&&function M6(t){return!!(8&t.flags)}(e)&&$I(n,e,V(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function N6(t){return!!(16&t.flags)}(e)&&$I(n,e,V(),e.stylesWithoutHost,!1),ge}function qp(t,e,n,r){return fe(t,e,n,r),ge(),qp}let _O=(t,e,n,r,i,o)=>(Jc(!0),hp(r,i,function J3(){return oe.lFrame.currentNamespace}()));function Wp(){return V()}const Kp="en-US";let CO=Kp;function Ne(t,e,n){const r=V(),i=he(),o=_e();return WI(i,r,r[11],o,t,e,n),Ne}function WI(t,e,n,r,i,o,s){let a=!0,u=null;if((3&r.type||s)&&(u??=Np(r,e,o),function tW(t,e,n,r,i,o,s,a){const u=Ff(t);let c=!1,d=null;if(!r&&u&&(d=function nW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],u=i[o+2];return a&&a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,n,o,t.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0;else{const h=Pn(t,n),f=r?r(h):h,g=i.listen(f,o,a);Bk(r?v=>r(Vt(v[t.index])):t.index,e,n,o,a,g,!1)}return c}(r,t,e,s,n,i,o,u)&&(a=!1)),a){const c=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){const f=d[h],g=d[h+1];u??=Np(r,e,o),kp(r,e,f,g,i,u)}if(c&&c.length)for(const h of c)u??=Np(r,e,o),kp(r,e,h,i,i,u)}}function ro(t=1){return function W3(t){return(oe.lFrame.contextLView=function sP(t,e){for(;t>0;)e=e[14],t--;return e}(t,oe.lFrame.contextLView))[8]}(t)}function Jp(t,e){return t<<17|e<<2}function As(t){return t>>17&32767}function KI(t){return 2|t}function uu(t){return(131068&t)>>2}function QI(t,e){return-131069&t|e<<2}function YI(t){return 1|t}function qO(t,e,n,r){const i=t[n+1],o=null===e;let s=r?As(i):uu(i),a=!1;for(;0!==s&&(!1===a||o);){const c=t[s+1];RY(t[s],e)&&(a=!0,t[s+1]=r?YI(c):KI(c)),s=r?As(c):uu(c)}a&&(t[n+1]=r?KI(i):YI(i))}function RY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Hc(t,e)>=0}function Xp(t,e){return function e1(t,e,n,r){const i=V(),o=he(),s=function oi(t){const e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function r1(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Gt()],s=function n1(t,e){return e>=t.expandoStartIndex}(t,n);(function a1(t,e){return!!(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function BY(t,e,n,r){const i=function Dv(t){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ql(n=ZI(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ZI(i,t,e,n,r),null===o){let u=function jY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==uu(r))return t[As(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ZI(null,t,e,u[1],r),u=Ql(u,e.attrs,r),function $Y(t,e,n,r){t[As(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function HY(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ql(r,t[o].hostAttrs,n);return Ql(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function AY(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=As(s),u=uu(s);t[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||Hc(n,d)>0)&&(c=!0)):d=n,i)if(0!==u){const f=As(t[a+1]);t[r+1]=Jp(f,a),0!==f&&(t[f+1]=QI(t[f+1],r)),t[a+1]=function DY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Jp(a,0),0!==a&&(t[a+1]=QI(t[a+1],r)),a=r;else t[r+1]=Jp(u,0),0===a?a=r:t[u+1]=QI(t[u+1],r),u=r;c&&(t[r+1]=KI(t[r+1])),qO(t,d,r,!0),qO(t,d,r,!1),function SY(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Hc(o,e)>=0&&(n[r+1]=YI(n[r+1]))}(e,d,t,r,o),s=Jp(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==xe&&nt(i,s,e)&&function o1(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],d=function bY(t){return!(1&~t)}(c)?s1(u,e,n,i,uu(c),s):void 0;eg(d)||(eg(o)||function CY(t){return!(2&~t)}(c)&&(o=s1(u,null,n,i,a,s)),function R9(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Yi.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yi.Important),t.setStyle(n,r,i,o))}}(r,s,Ra(Gt(),n),i,o))}(o,o.data[Gt()],i,i[11],t,i[s+1]=function WY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=zt(function Qi(t){return t instanceof sN?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}(t,e,null,!0),Xp}function ZI(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ql(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ql(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Pf(t,s,!!n||e[++o]))}return void 0===t?null:t}function s1(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let f=n[i+1];f===xe&&(f=h?Ge:void 0);let g=h?ev(f,r):d===r?f:void 0;if(c&&!eg(g)&&(g=ev(u,r)),eg(g)&&(a=g,s))return a;const _=t[i+1];i=s?As(_):uu(_)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=ev(u,r))}return a}function eg(t){return void 0!==t}function ve(t,e=""){const n=V(),r=he(),i=t+26,o=r.firstCreatePass?Za(r,i,1,e,null):r.data[i],s=u1(r,n,o,e,t);n[i]=s,Zc()&&_p(r,n,s,o),pr(o,!1)}let u1=(t,e,n,r,i)=>(Jc(!0),function EE(t,e){return t.createText(e)}(e[11],r));function tg(t){return Ss("",t),tg}function Ss(t,e,n){const r=V(),i=function l1(t,e,n,r=""){return nt(t,Wn(),n)?e+ue(n)+r:xe}(r,t,e,n);return i!==xe&&function di(t,e,n){const r=Ra(e,t);!function RN(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Gt(),i),Ss}function Yl(t,e,n){AP(e)&&(e=e());const r=V();return nt(r,Wn(),e)&&(he(),bE(kr(),r,t,e,r[11],n)),Yl}function ng(t,e){const n=AP(t);return n&&t.set(e),n}function Zl(t,e){const n=V(),r=he(),i=_e();return WI(r,n,n[11],i,t,e),Zl}function JI(t,e,n,r,i){if(t=le(t),Array.isArray(t))for(let o=0;o<t.length;o++)JI(t[o],e,n,r,i);else{const o=he(),s=V(),a=_e();let u=Ui(t)?t:le(t.provide);const c=Z0(t),d=1048575&a.providerIndexes,h=a.directiveStart,f=a.providerIndexes>>20;if(Ui(t)||!t.multi){const g=new nl(c,i,j),_=eT(u,e,i?d:d+f,h);-1===_?(Bv(Kf(a,s),o,u),XI(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{const g=eT(u,e,d+f,h),_=eT(u,e,d,d+f),I=_>=0&&n[_];if(i&&!I||!i&&!(g>=0&&n[g])){Bv(Kf(a,s),o,u);const S=function dZ(t,e,n,r,i){const o=new nl(t,n,j);return o.multi=[],o.index=e,o.componentProviders=0,S1(o,i,r&&!n),o}(i?lZ:cZ,n.length,i,r,c);!i&&I&&(n[_].providerFactory=S),XI(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else XI(o,t,g>-1?g:_,S1(n[i?_:g],c,!i&&r));!i&&r&&I&&n[_].componentProviders++}}}function XI(t,e,n,r){const i=Ui(e),o=function w3(t){return!!t.useClass}(e);if(i||o){const u=(o?le(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,u]):c[d+1].push(r,u)}else c.push(n,u)}}}function S1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function eT(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cZ(t,e,n,r){return tT(this.multi,[])}function lZ(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ol(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),tT(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],tT(i,o);return o}function tT(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function rt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function uZ(t,e,n){const r=he();if(r.firstCreatePass){const i=qn(t);JI(n,r.data,r.blueprint,i,!0),JI(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}function P1(t,e,n,r,i,o){const s=e+n;return nt(t,s,i)?function Fr(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function Jl(t,e){const n=t[e];return n===xe?void 0:n}(t,s+1)}function ig(t,e){const n=he();let r;const i=t+26;n.firstCreatePass?(r=function DZ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Jo(r.type)),a=Rn(j);try{const u=Wf(!1),c=o();return Wf(u),function gv(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,V(),i,c),c}finally{Rn(a)}}function og(t,e,n){const r=t+26,i=V(),o=function is(t,e){return t[e]}(i,r);return function Xl(t,e){return t[1].data[e].pure}(i,r)?P1(i,function In(){const t=oe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n)}class iJ{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let oJ=(()=>{class t{compileModuleSync(n){return new ux(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Or(Mr(n).declarations).reduce((s,a)=>{const u=Pe(a);return u&&s.push(new iI(u)),s},[]);return new iJ(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aJ=(()=>{class t{zone=L(Ae);changeDetectionScheduler=L(ss);applicationRef=L(to);applicationErrorHandler=L(mr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ae({...aT(),scheduleInRootZone:n}),[{provide:Ae,useFactory:t},{provide:Li,multi:!0,useFactory:()=>{const r=L(aJ,{optional:!0});return()=>r.initialize()}},{provide:Li,multi:!0,useFactory:()=>{const r=L(cJ);return()=>{r.initialize()}}},!0===e?{provide:RP,useValue:!0}:[],{provide:PP,useValue:n??wx},{provide:mr,useFactory:()=>{const r=L(Ae),i=L(nn);let o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(ka),o.handleError(s))})}}}]}function aT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let cJ=(()=>{class t{subscription=new tn;initialized=!1;zone=L(Ae);pendingTasks=L(as);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cT=(()=>{class t{applicationErrorHandler=L(mr);appRef=L(to);taskService=L(as);ngZone=L(Ae);zonelessEnabled=L(SP);tracing=L(Ll,{optional:!0});disableScheduling=L(RP,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new tn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Lp):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(PP,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof CI||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?Dx:Cx;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Lp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Dx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const oo=new z("",{providedIn:"root",factory:()=>L(oo,{optional:!0,skipSelf:!0})||function lJ(){return typeof $localize<"u"&&$localize.locale||Kp}()}),lg=Symbol("InputSignalNode#UNSET"),rF={...Oy,transformFn:void 0,applyValueToInputSignal(t,e){yf(t,e)}};function iF(t,e){const n=Object.create(rF);function r(){if(xc(n),n.value===lg)throw new O(-950,null);return n.value}return n.value=t,n.transformFn=e?.transform,r[Ht]=n,r}function oF(t,e){return iF(t,e)}new z("").__NG_ELEMENT_ID__=t=>{const e=_e();if(null===e)throw new O(204,!1);if(2&e.type)return e.value;if(8&t)return null;throw new O(204,!1)};const IJ=(oF.required=function EJ(t){return iF(lg,t)},oF);class td{full;major;minor;patch;constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const TJ=new td("20.0.5"),dg=new z(""),AJ=new z("");function nd(t){return!t.moduleRef}let dF,so=null;function _F(){return!1}let hg=(()=>class t{static __NG_ELEMENT_ID__=kJ})();function kJ(t){return function xJ(t,e,n){if($i(t)&&!n){const r=En(t.index,e);return new Tl(r,r)}return 175&t.type?new Tl(e[15],e):null}(_e(),V(),!(16&~t))}class vF{constructor(){}supports(e){return Pp(e)}create(e){return new FJ(e)}}const OJ=(t,e)=>e;class FJ{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||OJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<IF(r,i,o)?n:r,a=IF(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,d=u-i;if(c!=d){for(let f=0;f<c;f++){const g=f<o.length?o[f]:o[f]=0,_=g+f;d<=_&&_<c&&(o[f]=g+1)}o[s.previousIndex]=d-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Pp(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function X8(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new VJ(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new EF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class VJ{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}}class LJ{_head=null;_tail=null;add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EF{map=new Map;put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new LJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function wF(){return new pT([new vF])}let pT=(()=>{class t{factories;static \u0275prov=J({token:t,providedIn:"root",factory:wF});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||wF()),deps:[[t,new Nv,new Kn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new O(901,!1)}}return t})();function HJ(t){Me(8);try{const{rootComponent:e,appProviders:n,platformProviders:r}=t,i=function NJ(t=[]){if(so)return so;const e=function gF(t=[],e){return on.create({name:e,providers:[{provide:sv,useValue:"platform"},{provide:dg,useValue:new Set([()=>so=null])},...t]})}(t);return so=e,function bK(){!function MG(t){C0=t}(()=>{throw new O(600,"")})}(),function mF(t){const e=t.get(MM,null);zn(t,()=>{e?.forEach(n=>n())})}(e),e}(r),o=[sT({}),{provide:ss,useExisting:cT},DP,...n||[]];return function lF(t){const e=nd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ae);return n.run(()=>{nd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(mr);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),nd(t)){const o=()=>e.destroy(),s=t.platformInjector.get(dg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(dg);s.add(o),t.moduleRef.onDestroy(()=>{zp(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return function RJ(t,e,n){try{const r=n();return jl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}(r,n,()=>{const o=e.get(rO);return o.runInitializers(),o.donePromise.then(()=>{if(function NQ(t){"string"==typeof t&&(CO=t.toLowerCase().replace(/_/g,"-"))}(e.get(oo,Kp)||Kp),!e.get(AJ,!0))return nd(t)?e.get(to):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(nd(t)){const u=e.get(to);return void 0!==t.rootComponent&&u.bootstrap(t.rootComponent),u}return dF?.(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new cx({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Me(9)}}function yg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ao(t){return this instanceof ao?(this.v=t,this):new ao(t)}function $F(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function ET(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const HF=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function zF(t){return Ke(t?.then)}function GF(t){return Ke(t[zy])}function qF(t){return Symbol.asyncIterator&&Ke(t?.[Symbol.asyncIterator])}function WF(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const KF=function jX(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function QF(t){return Ke(t?.[KF])}function YF(t){return function jF(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(_){return Promise.resolve(_).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,_){r[g]&&(i[g]=function(v){return new Promise(function(I,S){o.push([g,v,I,S])>1||u(g,v)})},_&&(i[g]=_(i[g])))}function u(g,_){try{!function c(g){g.value instanceof ao?Promise.resolve(g.value.v).then(d,h):f(o[0][2],g)}(r[g](_))}catch(v){f(o[0][3],v)}}function d(g){u("next",g)}function h(g){u("throw",g)}function f(g,_){g(_),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ao(n.read());if(i)return yield ao(void 0);yield yield ao(r)}}finally{n.releaseLock()}})}function ZF(t){return Ke(t?.getReader)}function Lr(t){if(t instanceof tt)return t;if(null!=t){if(GF(t))return function $X(t){return new tt(e=>{const n=t[zy]();if(Ke(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(HF(t))return function HX(t){return new tt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(zF(t))return function zX(t){return new tt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,P0)})}(t);if(qF(t))return JF(t);if(QF(t))return function GX(t){return new tt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ZF(t))return function qX(t){return JF(YF(t))}(t)}throw WF(t)}function JF(t){return new tt(e=>{(function WX(t,e){var n,r,i,o;return function UF(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$F(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function hi(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function vg(t,e=0){return qt((n,r)=>{n.subscribe(kt(r,i=>hi(r,t,()=>r.next(i),e),()=>hi(r,t,()=>r.complete(),e),i=>hi(r,t,()=>r.error(i),e)))})}function Eg(t,e=0){return qt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function XF(t,e){if(!t)throw new Error("Iterable cannot be null");return new tt(n=>{hi(n,e,()=>{const r=t[Symbol.asyncIterator]();hi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function sn(t,e){return e?function XX(t,e){if(null!=t){if(GF(t))return function KX(t,e){return Lr(t).pipe(Eg(e),vg(e))}(t,e);if(HF(t))return function YX(t,e){return new tt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(zF(t))return function QX(t,e){return Lr(t).pipe(Eg(e),vg(e))}(t,e);if(qF(t))return XF(t,e);if(QF(t))return function ZX(t,e){return new tt(n=>{let r;return hi(n,e,()=>{r=t[KF](),hi(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ke(r?.return)&&r.return()})}(t,e);if(ZF(t))return function JX(t,e){return XF(YF(t),e)}(t,e)}throw WF(t)}(t,e):Lr(t)}function TT(t){return t[t.length-1]}function eV(t){return Ke(TT(t))?t.pop():void 0}function Ig(t){return function eee(t){return t&&Ke(t.schedule)}(TT(t))?t.pop():void 0}function de(...t){return sn(t,Ig(t))}const Tg=Fy(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:tee}=Array,{getPrototypeOf:nee,prototype:ree,keys:iee}=Object;function tV(t){if(1===t.length){const e=t[0];if(tee(e))return{args:e,keys:null};if(function oee(t){return t&&"object"==typeof t&&nee(t)===ree}(e)){const n=iee(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:see}=Array;function nV(t){return Se(e=>function aee(t,e){return see(e)?t(...e):t(e)}(t,e))}function rV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function iV(...t){const e=Ig(t),n=eV(t),{args:r,keys:i}=tV(t);if(0===r.length)return sn([],e);const o=new tt(function uee(t,e,n=Ko){return r=>{oV(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)oV(e,()=>{const c=sn(t[u],e);let d=!1;c.subscribe(kt(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>rV(i,s):Ko));return n?o.pipe(nV(n)):o}function oV(t,e,n){t?hi(n,t,e):e()}function wn(t,e,n=1/0){return Ke(e)?wn((r,i)=>Se((o,s)=>e(r,o,i,s))(Lr(t(r,i))),n):("number"==typeof e&&(n=e),qt((r,i)=>function cee(t,e,n,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const f=()=>{h&&!u.length&&!c&&e.complete()},g=v=>c<r?_(v):u.push(v),_=v=>{o&&e.next(v),c++;let I=!1;Lr(n(v,d++)).subscribe(kt(e,S=>{i?.(S),o?g(S):e.next(S)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;u.length&&c<r;){const S=u.shift();s?hi(e,s,()=>_(S)):_(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(kt(e,g,()=>{h=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function CT(...t){return function lee(){return function wT(t=1/0){return wn(Ko,t)}(1)}()(sn(t,Ig(t)))}function DT(t){return new tt(e=>{Lr(t()).subscribe(e)})}function wg(t,e){const n=Ke(t)?t:()=>t,r=i=>i.error(n());return new tt(e?i=>e.schedule(r,0,i):r)}const Er=new tt(t=>t.complete());function bT(){return qt((t,e)=>{let n=null;t._refCount++;const r=kt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class sV extends tt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,LP(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tn;const n=this.getSubject();e.add(this.source.subscribe(kt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tn.EMPTY)}return e}refCount(){return bT()(this)}}function Ur(t,e){return qt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(kt(r,u=>{i?.unsubscribe();let c=0;const d=o++;Lr(t(u,d)).subscribe(i=kt(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fu(t){return t<=0?()=>Er:qt((e,n)=>{let r=0;e.subscribe(kt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function uo(t,e){return qt((n,r)=>{let i=0;n.subscribe(kt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Cg(t){return qt((e,n)=>{let r=!1;e.subscribe(kt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function aV(t=fee){return qt((e,n)=>{let r=!1;e.subscribe(kt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fee(){return new Tg}function Ps(t,e){const n=arguments.length>=2;return r=>r.pipe(t?uo((i,o)=>t(i,o,r)):Ko,fu(1),n?Cg(e):aV(()=>new Tg))}function Dg(t,e){return Ke(e)?wn(t,e,1):wn(t,1)}function an(t,e,n){const r=Ke(t)||e||n?{next:t,error:e,complete:n}:t;return r?qt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(kt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ko}function pu(t){return qt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(kt(n,void 0,void 0,s=>{o=Lr(t(s,pu(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function AT(t){return t<=0?()=>Er:qt((e,n)=>{let r=[];e.subscribe(kt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ST(t){return qt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function uV(t){return qt((e,n)=>{Lr(t).subscribe(kt(n,()=>n.complete(),Ly)),!n.closed&&e.subscribe(n)})}let _ee=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ce(gr))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const me="primary",od=Symbol("RouteTitle");class Iee{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function gu(t){return new Iee(t)}function Tee(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Br(t,e){const n=t?RT(t):void 0,r=e?RT(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!dV(t[i],e[i]))return!1;return!0}function RT(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function dV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function hV(t){return t.length>0?t[t.length-1]:null}function fi(t){return function gX(t){return!!t&&(t instanceof tt||Ke(t.lift)&&Ke(t.subscribe))}(t)?t:jl(t)?sn(Promise.resolve(t)):de(t)}const Cee={exact:function gV(t,e,n){if(!Ns(t.segments,e.segments)||!bg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!gV(t.children[r],e.children[r],n))return!1;return!0},subset:mV},fV={exact:function Dee(t,e){return Br(t,e)},subset:function bee(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dV(t[n],e[n]))},ignored:()=>!0};function pV(t,e,n){return Cee[n.paths](t.root,e.root,n.matrixParams)&&fV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function mV(t,e,n){return _V(t,e,e.segments,n)}function _V(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ns(i,n)||e.hasChildren()||!bg(i,n,r))}if(t.segments.length===n.length){if(!Ns(t.segments,n)||!bg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!mV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Ns(t.segments,i)&&bg(t.segments,i,r)&&t.children[me])&&_V(t.children[me],e,o,r)}}function bg(t,e,n){return e.every((r,i)=>fV[n](t[i].parameters,r.parameters))}class Ms{root;queryParams;fragment;_queryParamMap;constructor(e=new Ue([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gu(this.queryParams),this._queryParamMap}toString(){return Ree.serialize(this)}}class Ue{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rg(this)}}class sd{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=gu(this.parameters),this._parameterMap}toString(){return EV(this)}}function Ns(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ag=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>new Sg,providedIn:"root"})}return t})();class Sg{parse(e){const n=new Bee(e);return new Ms(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ad(e.root,!0)}`,r=function Nee(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Pg(n)}=${Pg(i)}`).join("&"):`${Pg(n)}=${Pg(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Pee(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Ree=new Sg;function Rg(t){return t.segments.map(e=>EV(e)).join("/")}function ad(t,e){if(!t.hasChildren())return Rg(t);if(e){const n=t.children[me]?ad(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${ad(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function See(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===me?[ad(t.children[me],!1)]:[`${i}:${ad(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[me]?`${Rg(t)}/${n[0]}`:`${Rg(t)}/(${n.join("//")})`}}function yV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pg(t){return yV(t).replace(/%3B/gi,";")}function PT(t){return yV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mg(t){return decodeURIComponent(t)}function vV(t){return Mg(t.replace(/\+/g,"%20"))}function EV(t){return`${PT(t.path)}${function Mee(t){return Object.entries(t).map(([e,n])=>`;${PT(e)}=${PT(n)}`).join("")}(t.parameters)}`}const kee=/^[^\/()?;#]+/;function MT(t){const e=t.match(kee);return e?e[0]:""}const xee=/^[^\/()?;=#]+/,Fee=/^[^=?&#]+/,Lee=/^[^&#]+/;class Bee{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Ue(e,n)),r}parseSegment(){const e=MT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new sd(Mg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Oee(t){const e=t.match(xee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=MT(this.remaining);i&&(r=i,this.capture(r))}e[Mg(n)]=Mg(r)}parseQueryParam(e){const n=function Vee(t){const e=t.match(Fee);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Uee(t){const e=t.match(Lee);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=vV(n),o=vV(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=MT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[me]:new Ue([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}}function IV(t){return t.segments.length>0?new Ue([],{[me]:t}):t}function TV(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=TV(i);if(r===me&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function jee(t){if(1===t.numberOfChildren&&t.children[me]){const e=t.children[me];return new Ue(t.segments.concat(e.segments),e.children)}return t}(new Ue(t.segments,e))}function ks(t){return t instanceof Ms}function wV(t){let e;const i=IV(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new Ue(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function CV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return NT(i,i,i,n,r);const o=function Hee(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new bV(n,e,r)}(e);if(o.toRoot())return NT(i,i,new Ue([],{}),n,r);const s=function zee(t,e,n){if(t.isAbsolute)return new kg(e,!0,0);if(!n)return new kg(e,!1,NaN);if(null===n.parent)return new kg(n,!0,0);const r=Ng(t.commands[0])?0:1;return function Gee(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new kg(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?cd(s.segmentGroup,s.index,o.commands):AV(s.segmentGroup,s.index,o.commands);return NT(i,s.segmentGroup,a,n,r)}function Ng(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ud(t){return"object"==typeof t&&null!=t&&t.outlets}function NT(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=t===e?n:DV(t,e,n);const a=IV(TV(s));return new Ms(a,o,i)}function DV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:DV(o,e,n)}),new Ue(t.segments,r)}class bV{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ng(r[0]))throw new O(4003,!1);const i=r.find(ud);if(i&&i!==hV(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kg{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function AV(t,e,n){if(t??=new Ue([],{}),0===t.segments.length&&t.hasChildren())return cd(t,e,n);const r=function Wee(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(ud(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!RV(u,c,s))return o;r+=2}else{if(!RV(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Ue(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new Ue(t.segments.slice(r.pathIndex),t.children),cd(o,0,i)}return r.match&&0===i.length?new Ue(t.segments,{}):r.match&&!t.hasChildren()?kT(t,e,n):r.match?cd(t,0,i):kT(t,e,n)}function cd(t,e,n){if(0===n.length)return new Ue(t.segments,{});{const r=function qee(t){return ud(t[0])?t[0].outlets:{[me]:t}}(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&1===t.numberOfChildren&&0===t.children[me].segments.length){const o=cd(t.children[me],e,n);return new Ue(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=AV(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ue(t.segments,i)}}function kT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ud(o)){const u=Kee(o.outlets);return new Ue(r,u)}if(0===i&&Ng(n[0])){r.push(new sd(t.segments[e].path,SV(n[0]))),i++;continue}const s=ud(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ng(a)?(r.push(new sd(s,SV(a))),i+=2):(r.push(new sd(s,{})),i++)}return new Ue(r,{})}function Kee(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=kT(new Ue([],{}),0,r))}),e}function SV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function RV(t,e,n){return t==n.path&&Br(e,n.parameters)}const xg="imperative";var Ce=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ce||{});class jr{id;url;constructor(e,n){this.id=e,this.url=n}}class xT extends jr{type=Ce.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xs extends jr{urlAfterRedirects;type=Ce.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ln=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Ln||{}),OT=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(OT||{});class Os extends jr{reason;code;type=Ce.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ld extends jr{reason;code;type=Ce.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}}class FT extends jr{error;target;type=Ce.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PV extends jr{urlAfterRedirects;state;type=Ce.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qee extends jr{urlAfterRedirects;state;type=Ce.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yee extends jr{urlAfterRedirects;state;shouldActivate;type=Ce.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zee extends jr{urlAfterRedirects;state;type=Ce.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jee extends jr{urlAfterRedirects;state;type=Ce.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xee{route;type=Ce.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ete{route;type=Ce.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tte{snapshot;type=Ce.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nte{snapshot;type=Ce.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rte{snapshot;type=Ce.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ite{snapshot;type=Ce.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VT{}class Og{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function Ir(t){return t.outlet||me}function dd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class dte{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return dd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new hd(this.rootInjector)}}let hd=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dte(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ce(nn))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class MV{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=LT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=LT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=UT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return UT(e,this._root).map(n=>n.value)}}function LT(t,e){if(t===e.value)return e;for(const n of e.children){const r=LT(t,n);if(r)return r}return null}function UT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=UT(t,n);if(r.length)return r.unshift(e),r}return[]}class Tr{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function mu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class NV extends MV{snapshot;constructor(e,n){super(e),this.snapshot=n,BT(this,e)}toString(){return this.snapshot.toString()}}function kV(t){const e=function hte(t){const o=new Vg([],{},{},"",{},me,t,null,{});return new xV("",new Tr(o,[]))}(t),n=new nr([new sd("",{})]),r=new nr({}),i=new nr({}),o=new nr({}),s=new nr(""),a=new Fs(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new NV(new Tr(a,[]),e)}class Fs{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Se(c=>c[od]))??de(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Se(e=>gu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Se(e=>gu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fg(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&FV(i)&&(r.resolve[od]=i.title),r}class Vg{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[od]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xV extends MV{url;constructor(e,n){super(n),this.url=e,BT(this,n)}toString(){return OV(this._root)}}function BT(t,e){e.value._routerState=t,e.children.forEach(n=>BT(t,n))}function OV(t){const e=t.children.length>0?` { ${t.children.map(OV).join(", ")} } `:"";return`${t.value}${e}`}function jT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Br(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Br(e.params,n.params)||t.paramsSubject.next(n.params),function wee(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Br(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Br(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $T(t,e){const n=Br(t.params,e.params)&&function Aee(t,e){return Ns(t,e)&&t.every((n,r)=>Br(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||$T(t.parent,e.parent))}function FV(t){return"string"==typeof t.title||null===t.title}const fte=new z("");let HT=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new At;deactivateEvents=new At;attachEvents=new At;detachEvents=new At;routerOutletData=IJ(void 0);parentContexts=L(hd);location=L(vr);changeDetector=L(hg);inputBinder=L(zT,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pte(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=se({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_r]})}return t})();class pte{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Fs?this.route:e===hd?this.childContexts:e===fte?this.outletData:this.parent.get(e,n)}}const zT=new z("");let VV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Xi({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&qp(0,"router-outlet")},dependencies:[HT],encapsulation:2})}return t})();function GT(t){const e=t.children&&t.children.map(GT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=VV),n}function fd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function mte(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fd(t,r,i);return fd(t,r)})}(t,e,n);return new Tr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>fd(t,a)),s}}const r=function _te(t){return new Fs(new nr(t.url),new nr(t.params),new nr(t.queryParams),new nr(t.fragment),new nr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>fd(t,o));return new Tr(r,i)}}class qT{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const LV="ngNavigationCancelingError";function Lg(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ks(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UV(!1,Ln.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function UV(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[LV]=!0,n.cancellationCode=e,n}function BV(t){return!!t&&t[LV]}class Ete{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=mu(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=mu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=mu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=mu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ite(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nte(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(jT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jT(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class jV{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ug{component;route;constructor(e,n){this.component=e,this.route=n}}function Ite(t,e,n){const r=t._root;return pd(r,e?e._root:null,n,[r.value])}function _u(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function XG(t){return null!==Cf(t)}(t)?e.get(t):t:r}function pd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=mu(e);return t.children.forEach(s=>{(function wte(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Cte(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ns(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(t.url,e.url)||!Br(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$T(t,e)||!Br(t.queryParams,e.queryParams);default:return!$T(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jV(r)):(o.data=s.data,o._resolvedData=s._resolvedData),pd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ug(a.outlet.component,s))}else s&&gd(e,a,i),i.canActivateChecks.push(new jV(r)),pd(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gd(a,n.getContext(s),i)),i}function gd(t,e,n){const r=mu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{gd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Ug(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function md(t){return"function"==typeof t}function $V(t){return t instanceof Tg||"EmptyError"===t?.name}const Bg=Symbol("INITIAL_VALUE");function yu(){return Ur(t=>iV(t.map(e=>e.pipe(fu(1),function hee(...t){const e=Ig(t);return qt((n,r)=>{(e?CT(t,n,e):CT(t,n)).subscribe(r)})}(Bg)))).pipe(Se(e=>{for(const n of e)if(!0!==n){if(n===Bg)return Bg;if(!1===n||Mte(n))return n}return!0}),uo(e=>e!==Bg),fu(1)))}function Mte(t){return ks(t)||t instanceof qT}function HV(t){return function HG(...t){return M0(t)}(an(e=>{if("boolean"!=typeof e)throw Lg(0,e)}),Se(e=>!0===e))}class WT{segmentGroup;constructor(e){this.segmentGroup=e||null}}class KT extends Error{urlTree;constructor(e){super(),this.urlTree=e}}function vu(t){return wg(new WT(t))}class zte{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return de(r);if(i.numberOfChildren>1||!i.children[me])return wg(new O(4e3,!1));i=i.children[me]}}applyRedirectCommands(e,n,r,i,o){return function Gte(t,e,n){if("string"==typeof t)return de(t);const r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:c,data:d,title:h}=e;return fi(zn(n,()=>r({params:c,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:h})))}(n,i,o).pipe(Se(s=>{if(s instanceof Ms)throw new KT(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if("/"===s[0])throw new KT(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Ms(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ue(o,s)}createSegments(e,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const QT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qte(t,e,n,r,i){const o=zV(t,e,n);return o.matched?(r=function ste(t,e){return t.providers&&!t._injector&&(t._injector=_I(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function jte(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?de(i.map(s=>{const a=_u(s,t);return fi(function Pte(t){return t&&md(t.canMatch)}(a)?a.canMatch(e,n):zn(t,()=>a(e,n)))})).pipe(yu(),HV()):de(!0)}(r,e,n).pipe(Se(s=>!0===s?o:{...QT}))):de(o)}function zV(t,e,n){if("**"===e.path)return function Wte(t){return{matched:!0,parameters:t.length>0?hV(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...QT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Tee)(n,t,e);if(!i)return{...QT};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GV(t,e,n,r){return n.length>0&&function Yte(t,e,n){return n.some(r=>jg(t,e,r)&&Ir(r)!==me)}(t,n,r)?{segmentGroup:new Ue(e,Qte(r,new Ue(n,t.children))),slicedSegments:[]}:0===n.length&&function Zte(t,e,n){return n.some(r=>jg(t,e,r))}(t,n,r)?{segmentGroup:new Ue(t.segments,Kte(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ue(t.segments,t.children),slicedSegments:n}}function Kte(t,e,n,r){const i={};for(const o of n)if(jg(t,e,o)&&!r[Ir(o)]){const s=new Ue([],{});i[Ir(o)]=s}return{...r,...i}}function Qte(t,e){const n={};n[me]=e;for(const r of t)if(""===r.path&&Ir(r)!==me){const i=new Ue([],{});n[Ir(r)]=i}return n}function jg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Xte{}class nne{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zte(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){const e=GV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Se(({children:n,rootSnapshot:r})=>{const i=new Tr(r,n),o=new xV("",i),s=function $ee(t,e,n=null,r=null){return CV(wV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const n=new Vg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(Se(r=>({children:r,rootSnapshot:n})),pu(r=>{if(r instanceof KT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof WT?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Se(s=>s instanceof Tr?[s]:[]))}processChildren(e,n,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return sn(o).pipe(Dg(s=>{const a=r.children[s],u=function lte(t,e){const n=t.filter(r=>Ir(r)===e);return n.push(...t.filter(r=>Ir(r)!==e)),n}(n,s);return this.processSegmentGroup(e,u,a,s,i)}),function gee(t,e){return qt(function pee(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(kt(s,d=>{const h=c++;u=a?t(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Cg(null),function mee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?uo((i,o)=>t(i,o,r)):Ko,AT(1),n?Cg(e):aV(()=>new Tg))}(),wn(s=>{if(null===s)return vu(r);const a=qV(s);return function rne(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}(a),de(a)}))}processSegment(e,n,r,i,o,s,a){return sn(n).pipe(Dg(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(pu(c=>{if(c instanceof WT)return de(null);throw c}))),Ps(u=>!!u),pu(u=>{if($V(u))return function Jte(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?de(new Xte):vu(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Ir(r)===s||s!==me&&jg(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):vu(i):vu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){const{matched:u,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=zV(n,i,o);if(!u)return vu(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=new Vg(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WV(i),Ir(i),i.component??i._loadedComponent??null,i,KV(i)),_=Fg(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(_.params),g.data=Object.freeze(_.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e).pipe(Ur(I=>this.applyRedirects.lineralizeSegments(i,I)),wn(I=>this.processSegment(e,r,n,I.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){const a=qte(n,r,i,e);return"**"===r.path&&(n.children={}),a.pipe(Ur(u=>u.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Ur(({routes:c})=>{const d=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:g}=u,_=new Vg(f,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WV(r),Ir(r),r.component??r._loadedComponent??null,r,KV(r)),v=Fg(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);const{segmentGroup:I,slicedSegments:S}=GV(n,f,g,c);if(0===S.length&&I.hasChildren())return this.processChildren(d,c,I,_).pipe(Se(F=>new Tr(_,F)));if(0===c.length&&0===S.length)return de(new Tr(_,[]));const A=Ir(r)===o;return this.processSegment(d,c,I,S,A?me:o,!0,_).pipe(Se(F=>new Tr(_,F instanceof Tr?[F]:[])))})):vu(n)))}getChildConfig(e,n,r){return n.children?de({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?de({routes:n._loadedRoutes,injector:n._loadedInjector}):function Bte(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?de(!0):de(i.map(s=>{const a=_u(s,t);return fi(function bte(t){return t&&md(t.canLoad)}(a)?a.canLoad(e,n):zn(t,()=>a(e,n)))})).pipe(yu(),HV())}(e,n,r).pipe(wn(i=>i?this.configLoader.loadChildren(e,n).pipe(an(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Hte(){return wg(UV(!1,Ln.GuardRejected))}())):de({routes:[],injector:e})}}function ine(t){const e=t.value.routeConfig;return e&&""===e.path}function qV(t){const e=[],n=new Set;for(const r of t){if(!ine(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=qV(r.children);e.push(new Tr(r.value,i))}return e.filter(r=>!n.has(r))}function WV(t){return t.data||{}}function KV(t){return t.resolve||{}}function QV(t){const e=t.children.map(n=>QV(n)).flat();return[t,...e]}function YT(t){return Ur(e=>{const n=t(e);return n?sn(n).pipe(Se(()=>e)):de(e)})}let YV=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(n){return n.data[od]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>L(lne),providedIn:"root"})}return t})(),lne=(()=>{class t extends YV{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ce(_ee))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $g=new z("",{providedIn:"root",factory:()=>({})}),ZT=new z("");let ZV=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(oJ);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return de(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=fi(n.loadComponent()).pipe(Se(JV),an(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ST(()=>{this.componentLoaders.delete(n)})),i=new sV(r,()=>new Sn).pipe(bT());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function dne(t,e,n,r){return fi(t.loadChildren()).pipe(Se(JV),wn(i=>i instanceof ax||Array.isArray(i)?de(i):sn(e.compileModuleAsync(i))),Se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(ZT,[],{optional:!0,self:!0}).flat()),{routes:s.map(GT),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ST(()=>{this.childrenLoaders.delete(r)})),s=new sV(o,()=>new Sn).pipe(bT());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JV(t){return function hne(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let JT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>L(fne),providedIn:"root"})}return t})(),fne=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pne=new z(""),_ne=new z("");let yne=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Sn;transitionAbortWithErrorSubject=new Sn;configLoader=L(ZV);environmentInjector=L(nn);destroyRef=L(zi);urlSerializer=L(Ag);rootContexts=L(hd);location=L(el);inputBindingEnabled=null!==L(zT,{optional:!0});titleStrategy=L(YV);options=L($g,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(JT);createViewTransition=L(pne,{optional:!0});navigationErrorHandler=L(_ne,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new ete(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Xee(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})}setupNavigations(n){return this.transitions=new nr(null),this.transitions.pipe(uo(r=>null!==r),Ur(r=>{let i=!1;return de(r).pipe(Ur(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ln.SupersededByNewNavigation),Er;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:"string"==typeof o.extras.browserUrl?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>o.abortController.abort()};const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const u="";return this.events.next(new ld(o.id,this.urlSerializer.serialize(o.rawUrl),u,OT.IgnoredSameUrlNavigation)),o.resolve(!1),Er}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return de(o).pipe(Ur(u=>(this.events.next(new xT(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Er:Promise.resolve(u))),function one(t,e,n,r,i,o){return wn(s=>function ene(t,e,n,r,i,o,s="emptyOnly"){return new nne(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Se(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),an(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects};const c=new PV(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){const{id:u,extractedUrl:c,source:d,restoredState:h,extras:f}=o,g=new xT(u,this.urlSerializer.serialize(c),d,h);this.events.next(g);const _=kV(this.rootComponentType).snapshot;return this.currentTransition=r={...o,targetSnapshot:_,urlAfterRedirects:c,extras:{...f,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=c,de(r)}{const u="";return this.events.next(new ld(o.id,this.urlSerializer.serialize(o.extractedUrl),u,OT.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Er}}),an(o=>{const s=new Qee(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Se(o=>(this.currentTransition=r={...o,guards:Ite(o.targetSnapshot,o.currentSnapshot,this.rootContexts)},r)),function Nte(t,e){return wn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?de({...n,guardsResult:!0}):function kte(t,e,n,r){return sn(t).pipe(wn(i=>function Ute(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?de(o.map(a=>{const u=dd(e)??i,c=_u(a,u);return fi(function Rte(t){return t&&md(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):zn(u,()=>c(t,e,n,r))).pipe(Ps())})).pipe(yu()):de(!0)}(i.component,i.route,n,e,r)),Ps(i=>!0!==i,!0))}(s,r,i,t).pipe(wn(a=>a&&function Dte(t){return"boolean"==typeof t}(a)?function xte(t,e,n,r){return sn(e).pipe(Dg(i=>CT(function Fte(t,e){return null!==t&&e&&e(new tte(t)),de(!0)}(i.route.parent,r),function Ote(t,e){return null!==t&&e&&e(new rte(t)),de(!0)}(i.route,r),function Lte(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Tte(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>DT(()=>de(s.guards.map(u=>{const c=dd(s.node)??n,d=_u(u,c);return fi(function Ste(t){return t&&md(t.canActivateChild)}(d)?d.canActivateChild(r,t):zn(c,()=>d(r,t))).pipe(Ps())})).pipe(yu())));return de(o).pipe(yu())}(t,i.path,n),function Vte(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return de(!0);const i=r.map(o=>DT(()=>{const s=dd(e)??n,a=_u(o,s);return fi(function Ate(t){return t&&md(t.canActivate)}(a)?a.canActivate(e,t):zn(s,()=>a(e,t))).pipe(Ps())}));return de(i).pipe(yu())}(t,i.route,n))),Ps(i=>!0!==i,!0))}(r,o,t,e):de(a)),Se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),an(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&"boolean"!=typeof o.guardsResult)throw Lg(0,o.guardsResult);const s=new Yee(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),uo(o=>!!o.guardsResult||(this.cancelNavigationTransition(o,"",Ln.GuardRejected),!1)),YT(o=>{if(0!==o.guards.canActivateChecks.length)return de(o).pipe(an(s=>{const a=new Zee(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ur(s=>{let a=!1;return de(s).pipe(function sne(t,e){return wn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return de(n);const o=new Set(i.map(u=>u.route)),s=new Set;for(const u of o)if(!s.has(u))for(const c of QV(u))s.add(c);let a=0;return sn(s).pipe(Dg(u=>o.has(u)?function ane(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!FV(i)&&(o[od]=i.title),DT(()=>(t.data=Fg(t,t.parent,n).resolve,function une(t,e,n,r){const i=RT(t);if(0===i.length)return de({});const o={};return sn(i).pipe(wn(s=>function cne(t,e,n,r){const i=dd(e)??r,o=_u(t,i);return fi(o.resolve?o.resolve(e,n):zn(i,()=>o(e,n)))}(t[s],e,n,r).pipe(Ps(),an(a=>{if(a instanceof qT)throw Lg(new Sg,a);o[s]=a}))),AT(1),Se(()=>o),pu(s=>$V(s)?Er:wg(s)))}(o,t,e,r).pipe(Se(s=>(t._resolvedData=s,t.data={...t.data,...s},null)))))}(u,r,t,e):(u.data=Fg(u,u.parent,t).resolve,de(void 0))),an(()=>a++),AT(1),wn(u=>a===s.size?de(n):Er))})}(this.paramsInheritanceStrategy,this.environmentInjector),an({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ln.NoDataFromResolver)}}))}),an(s=>{const a=new Jee(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),YT(o=>{const s=a=>{const u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(an(c=>{a.component=c}),Se(()=>{})));for(const c of a.children)u.push(...s(c));return u};return iV(s(o.targetSnapshot.root)).pipe(Cg(null),fu(1))}),YT(()=>this.afterPreactivation()),Ur(()=>{const{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?sn(a).pipe(Se(()=>r)):de(r)}),Se(o=>{const s=function gte(t,e,n){const r=fd(t,e._root,n?n._root:void 0);return new NV(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r={...o,targetRouterState:s},this.currentNavigation.targetRouterState=s,r}),an(()=>{this.events.next(new VT)}),((t,e,n,r)=>Se(i=>(new Ete(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),fu(1),uV(new tt(o=>{const s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(uo(()=>!i&&!r.targetRouterState),an(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ln.Aborted)}))),an({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),uV(this.transitionAbortWithErrorSubject.pipe(an(o=>{throw o}))),ST(()=>{i||this.cancelNavigationTransition(r,"",Ln.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),pu(o=>{if(this.destroyed)return r.resolve(!1),Er;if(i=!0,BV(o))this.events.next(new Os(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),function yte(t){return BV(t)&&ks(t.url)}(o)?this.events.next(new Og(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{const s=new FT(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{const a=zn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof qT))throw this.events.next(s),o;{const{message:u,cancellationCode:c}=Lg(0,a);this.events.next(new Os(r.id,this.urlSerializer.serialize(r.extractedUrl),u,c)),this.events.next(new Og(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Er}))}))}cancelNavigationTransition(n,r,i){const o=new Os(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vne(t){return t!==xg}let Ene=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>L(Tne),providedIn:"root"})}return t})();class Ine{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Tne=(()=>{class t extends Ine{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lt(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XV=(()=>{class t{urlSerializer=L(Ag);options=L($g,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(el);urlHandlingStrategy=L(JT);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ms;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Ms?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=kV(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>L(wne),providedIn:"root"})}return t})(),wne=(()=>{class t extends XV{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof xT?this.updateStateMemento():n instanceof ld?this.commitTransition(r):n instanceof PV?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof VT?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Os&&n.code!==Ln.SupersededByNewNavigation&&n.code!==Ln.Redirect?this.restoreHistory(r):n instanceof FT?this.restoreHistory(r,!0):n instanceof xs&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){const a=this.browserPageId,u={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(n,"",u)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&0===o&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lt(t)))(i||t)}})();static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Dne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(jx);stateManager=L(XV);options=L($g,{optional:!0})||{};pendingTasks=L(as);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(yne);urlSerializer=L(Ag);location=L(el);urlHandlingStrategy=L(JT);injector=L(nn);_events=new Sn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(Ene);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(ZT,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(zT,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new tn;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Os&&r.code!==Ln.Redirect&&r.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xs)this.navigated=!0;else if(r instanceof Og){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||vne(i.source),...s};this.scheduleNavigation(a,xg,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function ote(t){return!(t instanceof VT||t instanceof Og)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.injector.get(mr)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(GT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=wV(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return CV(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ks(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,xg,null,r)}navigate(n,r={skipLocationChange:!1}){return function Ane(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new O(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...Dne}:!1===r?{...bne}:r,ks(n))return pV(this.currentUrlTree,n,i);const o=this.parseUrl(n);return pV(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,u=f});const d=this.pendingTasks.add();return function Cne(t,e){t.events.pipe(uo(n=>n instanceof xs||n instanceof Os||n instanceof FT||n instanceof ld),Se(n=>n instanceof xs||n instanceof ld?0:n instanceof Os&&(n.code===Ln.Redirect||n.code===Ln.SupersededByNewNavigation)?2:1),uo(n=>2!==n),fu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sne=(()=>{class t{router=L(wr);onTap(){this.router.navigate(["menu"],{replaceUrl:!0})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Xi({type:t,selectors:[["app-starting-page"]],decls:29,vars:0,consts:[[1,"container",3,"click"],[1,"prompt"],[1,"typewriter"],[1,"cursor"]],template:function(r,i){1&r&&(fe(0,"div",0),Ne("click",function(){return i.onTap()}),fe(1,"p")(2,"span",1),ve(3,">"),ge(),ve(4," hello Asya"),ge(),fe(5,"p")(6,"span",1),ve(7,">"),ge(),ve(8," dumping all thoughts here:"),ge(),fe(9,"p"),ve(10," - movies"),ge(),fe(11,"p"),ve(12," - drugs"),ge(),fe(13,"p"),ve(14," - places"),ge(),fe(15,"p")(16,"span",1),ve(17,">"),ge(),ve(18," you name it."),ge(),fe(19,"p")(20,"span",1),ve(21,">"),ge(),ve(22," ready to roll?"),ge(),fe(23,"p",2)(24,"span",1),ve(25,">"),ge(),ve(26," tap anywhere to start"),fe(27,"span",3),ve(28,"|"),ge()()())},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;height:100vh;padding:2rem;background-color:#000;color:#0f0;font-family:Roboto Mono,monospace;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}p[_ngcontent-%COMP%]{margin:.25rem 0;white-space:pre-wrap}.prompt[_ngcontent-%COMP%]{color:#0f0;font-weight:700}.cursor[_ngcontent-%COMP%]{display:inline-block;margin-left:4px;animation:_ngcontent-%COMP%_blink 1.2s steps(2,start) infinite;color:#0f0}@keyframes _ngcontent-%COMP%_blink{0%,50%{opacity:1}51%,to{opacity:0}}.typewriter[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;border-right:.15em solid transparent;display:inline-block;animation:_ngcontent-%COMP%_typing 4s steps(30,end) forwards;width:25ch}@keyframes _ngcontent-%COMP%_typing{0%{width:0}to{width:25ch}}']})}return t})(),Rne=(()=>{class t{router;constructor(n){this.router=n}navigateTo(n){this.router.navigate([n])}restart(){this.navigateTo("")}static \u0275fac=function(r){return new(r||t)(j(wr))};static \u0275cmp=Xi({type:t,selectors:[["app-menu-page"]],decls:10,vars:0,consts:[[1,"restart-button",3,"click"],[1,"container",3,"click"],[1,"button-group"],[3,"click"]],template:function(r,i){1&r&&(fe(0,"button",0),Ne("click",function(){return i.restart()}),ve(1,"Restart"),ge(),fe(2,"div",1),Ne("click",function(s){return s.stopPropagation()}),fe(3,"h1"),ve(4,"Random Riot"),ge(),fe(5,"div",2)(6,"button",3),Ne("click",function(){return i.navigateTo("notes")}),ve(7,"Notes"),ge(),fe(8,"button",3),Ne("click",function(){return i.navigateTo("categories")}),ve(9,"Categories"),ge()()())},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:844px;width:390px;background-color:#000;font-family:Roboto Mono,monospace;color:#0f0;-webkit-user-select:none;user-select:none;padding:2rem;box-sizing:border-box}.container[_ngcontent-%COMP%]{text-align:center;width:100%;max-width:360px}button[_ngcontent-%COMP%]{background-color:transparent;border:1.5px solid #0a0;color:#0a0;font-family:Roboto Mono,monospace;font-size:1.1rem;padding:.4rem 1.2rem;cursor:pointer;transition:background-color .25s ease,color .25s ease;text-transform:uppercase;border-radius:4px;box-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{background-color:#0a0;color:#000;outline:none}.left-buttons[_ngcontent-%COMP%]{display:flex;gap:1.2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.restart-button[_ngcontent-%COMP%]{background-color:transparent;border:1.5px solid #0a0;color:#0a0;font-family:Roboto Mono,monospace;font-size:1.1rem;padding:.4rem 1.2rem;cursor:pointer;transition:background-color .25s ease,color .25s ease;text-transform:uppercase;border-radius:4px;box-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap}[_nghost-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;height:844px;width:390px;background-color:#000;font-family:Roboto Mono,monospace;color:#0f0;-webkit-user-select:none;user-select:none;padding:2rem;box-sizing:border-box}.container[_ngcontent-%COMP%]{text-align:center;width:100%;max-width:360px;position:relative}.restart-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background-color:transparent;border:1.5px solid #0a0;color:#0a0;font-family:Roboto Mono,monospace;font-size:1.1rem;padding:.4rem 1.2rem;cursor:pointer;transition:background-color .25s ease,color .25s ease;text-transform:uppercase;border-radius:4px;box-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap}.restart-button[_ngcontent-%COMP%]:hover, .restart-button[_ngcontent-%COMP%]:focus{background-color:#0a0;color:#000;outline:none}h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:2rem;letter-spacing:.2em;color:#0a0;text-shadow:0 0 4px #0a0}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.2rem}']})}return t})();function It(t){return function kne(t){const e=ie(null);try{return t()}finally{ie(e)}}(t)}function $r(t,e){return function SG(t,e){const n=Object.create(RG);n.computation=t,void 0!==e&&(n.equal=e);const r=()=>{if(Oc(n),xc(n),n.value===Oi)throw n.error;return n.value};return r[Ht]=n,r}(t,e?.equal)}Error,Error;class kre{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let em=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new kre(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),_L(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{_L(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(j(vr),j(ci),j(pT))};static \u0275dir=se({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function _L(t,e){t.context.$implicit=e.item}class Lre{createSubscription(e,n,r){return It(()=>e.subscribe({next:n,error:r}))}dispose(e){It(()=>e.unsubscribe())}}class Ure{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}}const Bre=new Ure,jre=new Lre;let tm=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=L(mr);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(jl(n))return Bre;if(tO(n))return jre;throw function Dr(t,e){return new O(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(j(hg,16))};static \u0275pipe=xn({name:"async",type:t,pure:!1})}return t})(),pw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=xl({type:t});static \u0275inj=Ia({})}return t})(),IL=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(j(li),j(Qn))};static \u0275dir=se({type:t})}return t})(),Vs=(()=>{class t extends IL{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Lt(t)))(i||t)}})();static \u0275dir=se({type:t,features:[Oe]})}return t})();const Hr=new z(""),aie={provide:Hr,useExisting:ze(()=>Iu),multi:!0},cie=new z("");let Iu=(()=>{class t extends IL{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function uie(){const t=qi()?qi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(j(li),j(Qn),j(cie,8))};static \u0275dir=se({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ne("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[rt([aie]),Oe]})}return t})();const un=new z(""),lo=new z("");function ML(t){return null!=t}function NL(t){return jl(t)?sn(t):t}function kL(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function xL(t,e){return e.map(n=>n(t))}function OL(t){return t.map(e=>function die(t){return!t.validate}(e)?e:n=>e.validate(n))}function _w(t){return null!=t?function FL(t){if(!t)return null;const e=t.filter(ML);return 0==e.length?null:function(n){return kL(xL(n,e))}}(OL(t)):null}function yw(t){return null!=t?function VL(t){if(!t)return null;const e=t.filter(ML);return 0==e.length?null:function(n){return function oie(...t){const e=eV(t),{args:n,keys:r}=tV(t),i=new tt(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let d=0;d<s;d++){let h=!1;Lr(n[d]).subscribe(kt(o,f=>{h||(h=!0,c--),a[d]=f},()=>u--,void 0,()=>{(!u||!h)&&(c||o.next(r?rV(r,a):a),o.complete())}))}});return e?i.pipe(nV(e)):i}(xL(n,e).map(NL)).pipe(Se(kL))}}(OL(t)):null}function LL(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vw(t){return t?Array.isArray(t)?t:[t]:[]}function rm(t,e){return Array.isArray(t)?t.includes(e):t===e}function jL(t,e){const n=vw(e);return vw(t).forEach(i=>{rm(n,i)||n.push(i)}),n}function $L(t,e){return vw(e).filter(n=>!rm(t,n))}class HL{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_w(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Dn extends HL{name;get formDirective(){return null}get path(){return null}}class ho extends HL{_parent=null;name=null;valueAccessor=null}class zL{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let im=(()=>{class t extends zL{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(j(ho,2))};static \u0275dir=se({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Xp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Oe]})}return t})();const yd="VALID",sm="INVALID",Tu="PENDING",vd="DISABLED";class wu{}class qL extends wu{value;source;constructor(e,n){super(),this.value=e,this.source=n}}class Tw extends wu{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}}class ww extends wu{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}}class am extends wu{status;source;constructor(e,n){super(),this.status=e,this.source=n}}function um(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bw{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return It(this.statusReactive)}set status(e){It(()=>this.statusReactive.set(e))}_status=$r(()=>this.statusReactive());statusReactive=Gi(void 0);get valid(){return this.status===yd}get invalid(){return this.status===sm}get pending(){return this.status==Tu}get disabled(){return this.status===vd}get enabled(){return this.status!==vd}errors;get pristine(){return It(this.pristineReactive)}set pristine(e){It(()=>this.pristineReactive.set(e))}_pristine=$r(()=>this.pristineReactive());pristineReactive=Gi(!0);get dirty(){return!this.pristine}get touched(){return It(this.touchedReactive)}set touched(e){It(()=>this.touchedReactive.set(e))}_touched=$r(()=>this.touchedReactive());touchedReactive=Gi(!1);get untouched(){return!this.touched}_events=new Sn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($L(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($L(e,this._rawAsyncValidators))}hasValidator(e){return rm(this._rawValidators,e)}hasAsyncValidator(e){return rm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new ww(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new ww(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new Tw(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new Tw(!0,r))}markAsPending(e={}){this.status=Tu;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new am(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=vd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new qL(this.value,r)),this._events.next(new am(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=yd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yd||this.status===Tu)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new qL(this.value,n)),this._events.next(new am(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vd:yd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Tu,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==e};const r=NL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new am(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new At,this.statusChanges=new At}_calculateStatus(){return this._allControlsDisabled()?vd:this.errors?sm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tu)?Tu:this._anyControlsHaveStatus(sm)?sm:yd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Tw(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ww(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){um(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function vie(t){return Array.isArray(t)?_w(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Eie(t){return Array.isArray(t)?yw(t):t||null}(this._rawAsyncValidators)}}const Cu=new z("",{providedIn:"root",factory:()=>cm}),cm="always";function Ed(t,e,n=cm){(function Sw(t,e){const n=function UL(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(LL(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function BL(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(LL(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();hm(e._rawValidators,i),hm(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function wie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ZL(t,e)})}(t,e),function Die(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Cie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ZL(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Tie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function hm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ZL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function e2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function t2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const n2=class extends bw{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(function Cw(t){return(um(t)?t.validators:t)||null}(n),function Dw(t,e){return(um(e)?e.asyncValidators:t)||null}(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),um(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=t2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){e2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){e2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){t2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Oie={provide:ho,useExisting:ze(()=>Td)},r2=Promise.resolve();let Td=(()=>{class t extends ho{_changeDetectorRef;callSetDisabledState;control=new n2;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new At;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Mw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Iu?n=o:function Sie(t){return Object.getPrototypeOf(t.constructor)===Vs}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Pw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ed(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){r2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function hu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);r2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function lm(t,e){return[...e.path,t]}(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(j(Dn,9),j(un,10),j(lo,10),j(Hr,10),j(hg,8),j(Cu,8))};static \u0275dir=se({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[rt([Oie]),Oe,_r]})}return t})(),soe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=xl({type:t});static \u0275inj=Ia({})}return t})(),Ow=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Cu,useValue:n.callSetDisabledState??cm}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=xl({type:t});static \u0275inj=Ia({imports:[soe]})}return t})();const T2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let f=(15&a)<<2|c>>6,g=63&c;u||(g=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new hoe;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hoe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vm=function(t){return function(t){const e=T2(t);return Vw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Cd=function(t){try{return Vw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const Em=()=>{try{return function C2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cd(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},D2=()=>{var t;return null===(t=Em())||void 0===t?void 0:t.config};class Im{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Dd(t){return t.endsWith(".cloudworkstations.dev")}function Lw(){return(Lw=C(function*(t){return(yield fetch(t,{credentials:"include"})).ok})).apply(this,arguments)}const bd={};let b2=!1;function Doe(t,e){if(typeof window>"u"||typeof document>"u"||!Dd(window.location.host)||bd[t]===e||bd[t]||b2)return;function n(f){return`__firebase__banner__${f}`}bd[t]=e;const r="__firebase__banner",o=function woe(){const t={prod:[],emulator:[]};for(const e of Object.keys(bd))bd[e]?t.emulator.push(e):t.prod.push(e);return t}().prod.length>0;function h(){const f=function Coe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),I=document.getElementById(v)||document.createElement("a"),S=n("preprendIcon"),A=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const F=f.element;(function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"})(F),function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}(I,v);const K=function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{b2=!0,function s(){const f=document.getElementById(r);f&&f.remove()}()},f}();(function u(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"})(A,S),F.append(A,_,I,K),document.body.appendChild(F)}o?(_.innerText="Preview backend disconnected.",A.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(A.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h()}function Kt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function S2(){return!function A2(){var t;const e=null===(t=Em())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uw(){try{return"object"==typeof indexedDB}catch{return!1}}class gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function koe(t,e){return t.replace(xoe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new gi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const xoe=/\{\$([^}]+)}/g;function bu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(M2(o)&&M2(s)){if(!bu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M2(t){return null!==t&&"object"==typeof t}function Bw(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Foe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Voe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=jw),void 0===i.error&&(i.error=jw),void 0===i.complete&&(i.complete=jw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jw(){}function Qt(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Us="[DEFAULT]";class Hoe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Im;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Goe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return C(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Us?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qoe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Hoe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Hw=[];var Ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ie||{});const N2={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Woe=Ie.INFO,Koe={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Qoe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Koe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class wm{constructor(e){this.name=e,this._logLevel=Woe,this._logHandler=Qoe,this._userLogHandler=null,Hw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?N2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}let k2,x2;const O2=new WeakMap,zw=new WeakMap,F2=new WeakMap,Gw=new WeakMap,qw=new WeakMap;let Ww={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return zw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||F2.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function rse(t){return"function"==typeof t?function nse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Joe(){return x2||(x2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Kw(this),e),fo(O2.get(this))}:function(...e){return fo(t.apply(Kw(this),e))}:function(e,...n){const r=t.call(Kw(this),e,...n);return F2.set(r,e.sort?e.sort():[e]),fo(r)}}(t):(t instanceof IDBTransaction&&function ese(t){if(zw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});zw.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function Zoe(){return k2||(k2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ww):t)}function fo(t){if(t instanceof IDBRequest)return function Xoe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&O2.set(n,t)}).catch(()=>{}),qw.set(e,t),e}(t);if(Gw.has(t))return Gw.get(t);const e=rse(t);return e!==t&&(Gw.set(t,e),qw.set(e,t)),e}const Kw=t=>qw.get(t),ose=["get","getKey","getAll","getAllKeys","count"],sse=["put","add","delete","clear"],Qw=new Map;function V2(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Qw.get(e))return Qw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ose.includes(n))return;const o=function(){var s=C(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Qw.set(e,o),o}!function tse(t){Ww=t(Ww)}(t=>({...t,get:(e,n,r)=>V2(e,n)||t.get(e,n,r),has:(e,n)=>!!V2(e,n)||t.has(e,n)}));class ase{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function use(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Cm="@firebase/app",_i=new wm("@firebase/app"),cse="@firebase/app-compat",lse="@firebase/analytics-compat",dse="@firebase/analytics",hse="@firebase/app-check-compat",fse="@firebase/app-check",pse="@firebase/auth",gse="@firebase/auth-compat",mse="@firebase/database",_se="@firebase/data-connect",yse="@firebase/database-compat",vse="@firebase/functions",Ese="@firebase/functions-compat",Ise="@firebase/installations",Tse="@firebase/installations-compat",wse="@firebase/messaging",Cse="@firebase/messaging-compat",Dse="@firebase/performance",bse="@firebase/performance-compat",Ase="@firebase/remote-config",Sse="@firebase/remote-config-compat",Rse="@firebase/storage",Pse="@firebase/storage-compat",Mse="@firebase/firestore",Nse="@firebase/ai",kse="@firebase/firestore-compat",xse="firebase",Dm="[DEFAULT]",Fse={[Cm]:"fire-core",[cse]:"fire-core-compat",[dse]:"fire-analytics",[lse]:"fire-analytics-compat",[fse]:"fire-app-check",[hse]:"fire-app-check-compat",[pse]:"fire-auth",[gse]:"fire-auth-compat",[mse]:"fire-rtdb",[_se]:"fire-data-connect",[yse]:"fire-rtdb-compat",[vse]:"fire-fn",[Ese]:"fire-fn-compat",[Ise]:"fire-iid",[Tse]:"fire-iid-compat",[wse]:"fire-fcm",[Cse]:"fire-fcm-compat",[Dse]:"fire-perf",[bse]:"fire-perf-compat",[Ase]:"fire-rc",[Sse]:"fire-rc-compat",[Rse]:"fire-gcs",[Pse]:"fire-gcs-compat",[Mse]:"fire-fst",[kse]:"fire-fst-compat",[Nse]:"fire-vertex","fire-js":"fire-js",[xse]:"fire-js-all"},Bs=new Map,Ad=new Map,Sd=new Map;function L2(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function po(t){const e=t.name;if(Sd.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Sd.set(e,t);for(const n of Bs.values())L2(n,t);for(const n of Ad.values())L2(n,t);return!0}function yi(t){return null!=t&&void 0!==t.settings}const lr=new Du("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class B2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const bm="11.9.0";function $2(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!0},e),i=r.name;if("string"!=typeof i||!i)throw lr.create("bad-app-name",{appName:String(i)});if(n||(n=D2()),!n)throw lr.create("no-options");const o=Bs.get(i);if(o){if(bu(n,o.options)&&bu(r,o.config))return o;throw lr.create("duplicate-app",{appName:i})}const s=new qoe(i);for(const u of Sd.values())s.addComponent(u);const a=new B2(n,r,s);return Bs.set(i,a),a}function H2(t=Dm){const e=Bs.get(t);if(!e&&t===Dm&&D2())return $2();if(!e)throw lr.create("no-app",{appName:t});return e}function z2(){return Array.from(Bs.values())}function Un(t,e,n){var r;let i=null!==(r=Fse[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void _i.warn(a.join(" "))}po(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Rd="firebase-heartbeat-store";let Jw=null;function G2(){return Jw||(Jw=function ise(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=fo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(fo(s.result),u.oldVersion,u.newVersion,fo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Rd)}catch(n){console.warn(n)}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Jw}function Xw(){return(Xw=C(function*(t){try{const n=(yield G2()).transaction(Rd),r=yield n.objectStore(Rd).get(W2(t));return yield n.done,r}catch(e){if(e instanceof gi)_i.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}})).apply(this,arguments)}function q2(t,e){return eC.apply(this,arguments)}function eC(){return(eC=C(function*(t,e){try{const r=(yield G2()).transaction(Rd,"readwrite");yield r.objectStore(Rd).put(e,W2(t)),yield r.done}catch(n){if(n instanceof gi)_i.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n?.message});_i.warn(r.message)}}})).apply(this,arguments)}function W2(t){return`${t.name}!${t.options.appId}`}class qse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return C(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=K2();if(null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats.length>30){const a=function Qse(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(a,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(i){_i.warn(i)}})()}getHeartbeatsHeader(){var e=this;return C(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=K2(),{heartbeatsToSend:i,unsentEntries:o}=function Wse(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Q2(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=vm(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return _i.warn(r),""}})()}}function K2(){return(new Date).toISOString().substring(0,10)}class Kse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(function*(){return!!Uw()&&function Moe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return C(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Hse(t){return Xw.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return C(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return q2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return C(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return q2(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function Q2(t){return vm(JSON.stringify({version:2,heartbeats:t})).length}!function Yse(t){po(new mi("platform-logger",e=>new ase(e),"PRIVATE")),po(new mi("heartbeat",e=>new qse(e),"PRIVATE")),Un(Cm,"0.13.1",t),Un(Cm,"0.13.1","esm2017"),Un("fire-js","")}(""),Un("firebase","11.9.1","app");class rae extends tn{constructor(e,n){super()}schedule(e,n=0){return this}}const Am={setInterval(t,e,...n){const{delegate:r}=Am;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Am;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Y2 extends rae{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Am.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Am.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vf(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Z2={now:()=>(Z2.delegate||Date).now(),delegate:void 0};class Pd{constructor(e,n=Pd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Pd.now=Z2.now;class J2 extends Pd{constructor(e,n=Pd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const sae=new class oae extends J2{}(class iae extends Y2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),aae=new J2(Y2),tC=new td("ANGULARFIRE2_VERSION");const rC=(t,e)=>{const n=e?[e]:z2(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};var Au=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Au||{}),iC=_F()&&typeof Zone<"u"?Au.WARN:Au.SILENT;class X2{zone;delegate;constructor(e,n=sae){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])},n,r)}}let oC=(()=>{class t{outsideAngular;insideAngular;constructor(){const n=L(Ae);this.outsideAngular=n.runOutsideAngular(()=>new X2(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new X2(typeof Zone>"u"?void 0:Zone.current,aae))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var eU=!1;function js(t){const e=L(Ae,{optional:!0});return e?e.run(()=>t()):t()}const lae=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),zn(n,()=>js(()=>t.apply(void 0,r)))),go=(t,e,n)=>(n||=e?Au.WARN:Au.VERBOSE,function(){let r;const i=arguments;let o,s,a;try{o=L(oC),s=L($f),a=L(nn)}catch{return function uae(t,e){!eU&&(iC>Au.SILENT||!1)&&(eU=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),iC>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}(t,n),t.apply(this,i)}for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(r||=js(()=>s.add())),i[c]=lae(i[c],r,a));const u=function cae(t){const e=L(Ae,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}(()=>t.apply(this,i));return e?u instanceof tt?u.pipe(Eg(o.outsideAngular),vg(o.insideAngular),function nae(t){void 0===t&&(t=L(on));const e=t.get($f);return n=>new tt(r=>{const i=e.add();let o=!1;function s(){o||(i(),o=!0)}const a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}(a)):u instanceof Promise?js(()=>{const c=s.add();return new Promise((d,h)=>{u.then(f=>zn(a,()=>js(()=>d(f))),f=>zn(a,()=>js(()=>h(f)))).finally(c)})}):"function"==typeof u&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:js(()=>u):u instanceof tt?u.pipe(Eg(o.outsideAngular),vg(o.insideAngular)):js(()=>u)});class Su{constructor(e){return e}}class tU{constructor(){return z2()}}const sC=new z("angularfire2._apps"),hae={provide:Su,useFactory:function dae(t){return t&&1===t.length?t[0]:new Su(H2())},deps:[[new Kn,sC]]},fae={provide:tU,deps:[[new Kn,sC]]};function pae(t){return(e,n)=>{const r=n.get(cl);Un("angularfire",tC.full,"core"),Un("angularfire",tC.full,"app"),Un("angular",TJ.full,r.toString());const i=e.runOutsideAngular(()=>t(n));return new Su(i)}}const mae=go($2,!0),aC=new Map,nU={activated:!1,tokenObservers:[]},_ae={initialized:!1,enabled:!1};function mt(t){return aC.get(t)||Object.assign({},nU)}function Sm(){return _ae}class wae{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return C(function*(){n.stop();try{n.pending=new Im,n.pending.promise.catch(r=>{}),yield function Cae(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Im,n.pending.promise.catch(r=>{}),yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Yt=new Du("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function cC(t){if(!mt(t).activated)throw Yt.create("use-before-activation",{appName:t.name})}function Mm(t,e){return dC.apply(this,arguments)}function dC(){return(dC=C(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(h){throw Yt.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw Yt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw Yt.create("fetch-parse-error",{originalErrorMessage:h?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+c,issuedAtTimeMillis:d}})).apply(this,arguments)}function iU(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Md="firebase-app-check-store";let Nm=null;function hC(){return(hC=C(function*(t,e){const r=(yield function sU(){return Nm||(Nm=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Yt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Md,{keyPath:"compositeKey"})}}catch(n){e(Yt.create("storage-open",{originalErrorMessage:n?.message}))}}),Nm)}()).transaction(Md,"readwrite"),o=r.objectStore(Md).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(Yt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const mo=new wm("@firebase/app-check");function gC(t,e){return Uw()?function Mae(t,e){return function aU(t,e){return hC.apply(this,arguments)}(function cU(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{mo.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function _C(){return Sm().enabled}function yC(){return vC.apply(this,arguments)}function vC(){return(vC=C(function*(){const t=Sm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Vae={error:"UNKNOWN_ERROR"};function Lae(t){return Vw.encodeString(JSON.stringify(t),!1)}function km(t){return EC.apply(this,arguments)}function EC(){return(EC=C(function*(t,e=!1,n=!1){const r=t.app;cC(r);const i=mt(r);let s,o=i.token;if(o&&!Ru(o)&&(i.token=void 0,o=void 0),!o){const c=yield i.cachedTokenPromise;c&&(Ru(c)?o=c:yield gC(r,void 0))}if(!e&&o&&Ru(o))return{token:o.token};let u,a=!1;if(_C())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Mm(iU(r,yield yC()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const c=yield i.exchangeTokenPromise;return yield gC(r,c),i.token=c,{token:c.token}}catch(c){return"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?mo.warn(c.message):n&&mo.error(c),CC(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield mt(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code||"appCheck/initial-throttle"===c.code?mo.warn(c.message):n&&mo.error(c),s=c}return o?s?u=Ru(o)?{token:o.token,internalError:s}:CC(s):(u={token:o.token},i.token=o,yield gC(r,o)):u=CC(s),a&&function hU(t,e){const n=mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,u),u})).apply(this,arguments)}function IC(){return(IC=C(function*(t){const e=t.app;cC(e);const{provider:n}=mt(e);if(_C()){const r=yield yC(),{token:i}=yield Mm(iU(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function wC(t,e){const n=mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function dU(t){const{app:e}=t,n=mt(e);let r=n.tokenRefresher;r||(r=function Uae(t){const{app:e}=t;return new wae(C(function*(){let r;if(r=mt(e).token?yield km(t,!0):yield km(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ru(t){return t.expireTimeMillis-Date.now()>0}function CC(t){return{token:Lae(Vae),error:t}}class Bae{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=mt(this.app);for(const n of e)wC(this.app,n.next);return Promise.resolve()}}const EU="app-check-internal";!function eue(){po(new mi("app-check",t=>function jae(t,e){return new Bae(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(EU).initialize()})),po(new mi(EU,t=>function $ae(t){return{getToken:e=>km(t,e),getLimitedUseToken:()=>function lU(t){return IC.apply(this,arguments)}(t),addTokenListener:e=>function TC(t,e,n,r){const{app:i}=t,o=mt(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Ru(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),dU(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>dU(t))}(t,"INTERNAL",e),removeTokenListener:e=>wC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Un("@firebase/app-check","0.10.0")}();class TU{constructor(){return rC("app-check")}}typeof window<"u"&&window;const sue=function wU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},CU=new Du("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Om=new wm("@firebase/auth");function Fm(t,...e){Om.logLevel<=Ie.ERROR&&Om.error(`Auth (${bm}): ${t}`,...e)}function Bn(t,...e){throw PC(t,...e)}function dr(t,...e){return PC(t,...e)}function RC(t,e,n){const r=Object.assign(Object.assign({},sue()),{[e]:n});return new Du("auth","Firebase",r).create(e,{appName:t.name})}function Ut(t){return RC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CU.create(t,...e)}function H(t,e,...n){if(!t)throw PC(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fm(e),new Error(e)}function _o(t,e){t||zr(e)}function DU(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function uue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function MC(){return"http:"===DU()||"https:"===DU()}()||function Roe(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,_o(n>e,"Short delay should be less than long delay!"),this.isMobile=function boe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}()||function Poe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return uue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class bU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},due=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hue=new kd(3e4,6e4);function Ze(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Je(t,e,n,r){return kC.apply(this,arguments)}function kC(){return(kC=C(function*(t,e,n,r,i={}){return AU(t,i,C(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Bw(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},o);return function Soe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Dd(t.emulatorConfig.host)&&(c.credentials="include"),bU.fetch()(yield SU(t,t.config.apiHost,n,a),c)}))})).apply(this,arguments)}function AU(t,e,n){return xC.apply(this,arguments)}function xC(){return(xC=C(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lue),e);try{const i=new pue(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw xd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw xd(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw xd(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw xd(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw RC(t,d,c);Bn(t,d)}}catch(i){if(i instanceof gi)throw i;Bn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function SU(t,e,n,r){return FC.apply(this,arguments)}function FC(){return(FC=C(function*(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?function NC(t,e){_o(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`;return due.includes(n)&&(yield o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())?o._getPersistence()._getFinalTarget(s).toString():s})).apply(this,arguments)}class pue{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),hue.get())})}}function xd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dr(t,e,r);return i.customData._tokenResponse=n,i}function UC(){return(UC=C(function*(t,e){return Je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Vm(t,e){return jC.apply(this,arguments)}function jC(){return(jC=C(function*(t,e){return Je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Od(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $C(){return($C=C(function*(t,e=!1){const n=Qt(t),r=yield n.getIdToken(e),i=Lm(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Od(HC(i.auth_time)),issuedAtTime:Od(HC(i.iat)),expirationTime:Od(HC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function HC(t){return 1e3*Number(t)}function Lm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Fm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cd(n);return i?JSON.parse(i):(Fm("Failed to decode base64 JWT payload"),null)}catch(i){return Fm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kU(t){const e=Lm(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ei(t,e){return zC.apply(this,arguments)}function zC(){return(zC=C(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof gi&&function vue({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Eue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(C(function*(){yield n.iteration()}),r)}iteration(){var e=this;return C(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class GC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Od(this.lastLoginAt),this.creationTime=Od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fd(t){return qC.apply(this,arguments)}function qC(){return(qC=C(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ei(t,Vm(n,{idToken:r}));H(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?xU(o.providerUserInfo):[],a=function Tue(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),d=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new GC(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)})).apply(this,arguments)}function WC(){return(WC=C(function*(t){const e=Qt(t);yield Fd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function xU(t){return t.map(e=>{var{providerId:n}=e,r=yg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function KC(){return(KC=C(function*(t,e){const n=yield AU(t,{},C(function*(){const r=Bw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield SU(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Dd(t.emulatorConfig.host)&&(u.credentials="include"),bU.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function QC(){return(QC=C(function*(t,e){return Je(t,"POST","/v2/accounts:revokeToken",Ze(t,e))})).apply(this,arguments)}class Mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){H(0!==e.length,"internal-error");const n=kU(e);this.updateTokensAndExpiration(e,null,n)}getToken(e){var n=this;return C(function*(r,i=!1){return i||!n.accessToken||n.isExpired?(H(n.refreshToken,r,"user-token-expired"),n.refreshToken?(yield n.refresh(r,n.refreshToken),n.accessToken):null):n.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return C(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function wue(t,e){return KC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Mu;return r&&(H("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(H("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(H("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mu,this.toJSON())}_performRefresh(){return zr("not implemented")}}function yo(t,e){H("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=yg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new GC(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return C(function*(){const r=yield Ei(n,n.stsTokenManager.getToken(n.auth,e));return H(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function yue(t){return $C.apply(this,arguments)}(this,e)}reload(){return function Iue(t){return WC.apply(this,arguments)}(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var n=this;return C(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield Fd(n)),yield n.auth._persistUserIfCurrent(n),o&&n.auth._notifyListenersIfCurrent(n)}).apply(this,arguments)}delete(){var e=this;return C(function*(){if(yi(e.auth.app))return Promise.reject(Ut(e.auth));const n=yield e.getIdToken();return yield Ei(e,function mue(t,e){return UC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,d;const h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,g=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,I=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,S=null!==(c=n.createdAt)&&void 0!==c?c:void 0,A=null!==(d=n.lastLoginAt)&&void 0!==d?d:void 0,{uid:F,emailVerified:K,isAnonymous:Q,providerData:ne,stsTokenManager:D}=n;H(F&&D,e,"internal-error");const E=Mu.fromJSON(this.name,D);H("string"==typeof F,e,"internal-error"),yo(h,e.name),yo(f,e.name),H("boolean"==typeof K,e,"internal-error"),H("boolean"==typeof Q,e,"internal-error"),yo(g,e.name),yo(_,e.name),yo(v,e.name),yo(I,e.name),yo(S,e.name),yo(A,e.name);const T=new br({uid:F,auth:e,email:f,emailVerified:K,displayName:h,isAnonymous:Q,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:E,createdAt:S,lastLoginAt:A});return ne&&Array.isArray(ne)&&(T.providerData=ne.map(b=>Object.assign({},b))),I&&(T._redirectEventId=I),T}static _fromIdTokenResponse(e,n){return C(function*(r,i,o=!1){const s=new Mu;s.updateFromServerResponse(i);const a=new br({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield Fd(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,n,r){return C(function*(){const i=n.users[0];H(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?xU(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Mu;a.updateFromIdToken(r);const u=new br({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new GC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const OU=new Map;function Ii(t){_o(t instanceof Function,"Expected a class definition");let e=OU.get(t);return e?(_o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OU.set(t,e),e)}const FU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(function*(){return!0})()}_set(n,r){var i=this;return C(function*(){i.storage[n]=r})()}_get(n){var r=this;return C(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return C(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Um(t,e,n){return`firebase:${t}:${e}:${n}`}class Nu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Um(this.userKey,i.apiKey,o),this.fullPersistenceKey=Um("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return C(function*(){const n=yield e.persistence._get(e.fullUserKey);if(!n)return null;if("string"==typeof n){const r=yield Vm(e.auth,{idToken:n}).catch(()=>{});return r?br._fromGetAccountInfoResponse(e.auth,r,n):null}return br._fromJSON(e.auth,n)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return C(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n){return C(function*(r,i,o="authUser"){if(!i.length)return new Nu(Ii(FU),r,o);const s=(yield Promise.all(i.map(function(){var h=C(function*(f){if(yield f._isAvailable())return f});return function(f){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||Ii(FU);const u=Um(o,r.config.apiKey,r.name);let c=null;for(const h of i)try{const f=yield h._get(u);if(f){let g;if("string"==typeof f){const _=yield Vm(r,{idToken:f}).catch(()=>{});if(!_)break;g=yield br._fromGetAccountInfoResponse(r,_,f)}else g=br._fromJSON(r,f);h!==a&&(c=g),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&d.length?(a=d[0],c&&(yield a._set(u,c.toJSON())),yield Promise.all(i.map(function(){var h=C(function*(f){if(f!==a)try{yield f._remove(u)}catch{}});return function(f){return h.apply(this,arguments)}}())),new Nu(a,r,o)):new Nu(a,r,o)}).apply(this,arguments)}}function VU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function jU(t=Kt()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function LU(t=Kt()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function HU(t=Kt()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function zU(t=Kt()){return/webos/i.test(t)}(e))return"Webos";if(function UU(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function BU(t=Kt()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function $U(t=Kt()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function GU(t,e=[]){let n;switch(t){case"Browser":n=VU(Kt());break;case"Worker":n=`${VU(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bm}/${r}`}class Aue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return C(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function ZC(){return(ZC=C(function*(t,e={}){return Je(t,"GET","/v2/passwordPolicy",Ze(t,e))})).apply(this,arguments)}class Pue{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Mue{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qU(this),this.idTokenSubscription=new qU(this),this.beforeStateQueue=new Aue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(C(function*(){var i,o,s;if(!r._deleted&&(r.persistenceManager=yield Nu.create(r,e),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return C(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return C(function*(){try{const r=yield Vm(n,{idToken:e}),i=yield br._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return C(function*(){var r;if(yi(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(u,u))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return H(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return C(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return C(function*(){try{yield Fd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cue(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return C(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return C(function*(){if(yi(n.app))return Promise.reject(Ut(n));const r=e?Qt(e):null;return r&&H(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return C(function*(r,i=!1){if(!n._deleted)return r&&H(n.tenantId===r.tenantId,n,"tenant-id-mismatch"),i||(yield n.beforeStateQueue.runMiddleware(r)),n.queue(C(function*(){yield n.directlySetCurrentUser(r),n.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return C(function*(){return yi(e.app)?Promise.reject(Ut(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return yi(this.app)?Promise.reject(Ut(this)):this.queue(C(function*(){yield n.assertedPersistence.setPersistence(Ii(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return C(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return C(function*(){const n=yield function Sue(t){return ZC.apply(this,arguments)}(e),r=new Pue(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return C(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function Cue(t,e){return QC.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return C(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return C(function*(){if(!n.redirectPersistenceManager){const r=e&&Ii(e)||n._popupRedirectResolver;H(r,n,"argument-error"),n.redirectPersistenceManager=yield Nu.create(n,[Ii(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return C(function*(){var r,i;return n._isInitialized&&(yield n.queue(C(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return C(function*(){if(e===n.currentUser)return n.queue(C(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return C(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return C(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return C(function*(){var n;if(yi(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function aue(t,...e){Om.logLevel<=Ie.WARN&&Om.warn(`Auth (${bm}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class qU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Ooe(t,e){const n=new Foe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vd={loadJS:()=>C(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function WU(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new kd(3e4,6e4),new kd(2e3,1e4),new kd(3e4,6e4),new kd(5e3,15e3),encodeURIComponent("fac");var SB="@firebase/auth";class Nle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return C(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Em(),function Nue(t){Vd=t}({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=dr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Lle(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function xle(t){po(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;H(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GU(t)},c=new Mue(r,i,o,u);return function Gue(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),po(new mi("auth-internal",e=>{const n=function Tt(t){return Qt(t)}(e.getProvider("auth").getImmediate());return new Nle(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(SB,"1.10.7",function kle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Un(SB,"1.10.7","esm2017")}("Browser");class NB{constructor(){return rC("auth")}}var Eo,OB,kB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xB={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(D,E,T){T||(T=0);var b=Array(16);if("string"==typeof E)for(var R=0;16>R;++R)b[R]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(R=0;16>R;++R)b[R]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;var N=D.g[3],w=(E=D.g[0])+(N^(T=D.g[1])&((R=D.g[2])^N))+b[0]+3614090360&4294967295;w=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=(T=(R=(N=(E=T+(w<<7&4294967295|w>>>25))+((w=N+(R^E&(T^R))+b[1]+3905402710&4294967295)<<12&4294967295|w>>>20))+((w=R+(T^N&(E^T))+b[2]+606105819&4294967295)<<17&4294967295|w>>>15))+((w=T+(E^R&(N^E))+b[3]+3250441966&4294967295)<<22&4294967295|w>>>10))+((w=E+(N^T&(R^N))+b[4]+4118548399&4294967295)<<7&4294967295|w>>>25))+((w=N+(R^E&(T^R))+b[5]+1200080426&4294967295)<<12&4294967295|w>>>20))+((w=R+(T^N&(E^T))+b[6]+2821735955&4294967295)<<17&4294967295|w>>>15))+((w=T+(E^R&(N^E))+b[7]+4249261313&4294967295)<<22&4294967295|w>>>10))+((w=E+(N^T&(R^N))+b[8]+1770035416&4294967295)<<7&4294967295|w>>>25))+((w=N+(R^E&(T^R))+b[9]+2336552879&4294967295)<<12&4294967295|w>>>20))+((w=R+(T^N&(E^T))+b[10]+4294925233&4294967295)<<17&4294967295|w>>>15))+((w=T+(E^R&(N^E))+b[11]+2304563134&4294967295)<<22&4294967295|w>>>10))+((w=E+(N^T&(R^N))+b[12]+1804603682&4294967295)<<7&4294967295|w>>>25))+((w=N+(R^E&(T^R))+b[13]+4254626195&4294967295)<<12&4294967295|w>>>20))+((w=R+(T^N&(E^T))+b[14]+2792965006&4294967295)<<17&4294967295|w>>>15))+((w=T+(E^R&(N^E))+b[15]+1236535329&4294967295)<<22&4294967295|w>>>10))+((w=E+(R^N&(T^R))+b[1]+4129170786&4294967295)<<5&4294967295|w>>>27))+((w=N+(T^R&(E^T))+b[6]+3225465664&4294967295)<<9&4294967295|w>>>23))+((w=R+(E^T&(N^E))+b[11]+643717713&4294967295)<<14&4294967295|w>>>18))+((w=T+(N^E&(R^N))+b[0]+3921069994&4294967295)<<20&4294967295|w>>>12))+((w=E+(R^N&(T^R))+b[5]+3593408605&4294967295)<<5&4294967295|w>>>27))+((w=N+(T^R&(E^T))+b[10]+38016083&4294967295)<<9&4294967295|w>>>23))+((w=R+(E^T&(N^E))+b[15]+3634488961&4294967295)<<14&4294967295|w>>>18))+((w=T+(N^E&(R^N))+b[4]+3889429448&4294967295)<<20&4294967295|w>>>12))+((w=E+(R^N&(T^R))+b[9]+568446438&4294967295)<<5&4294967295|w>>>27))+((w=N+(T^R&(E^T))+b[14]+3275163606&4294967295)<<9&4294967295|w>>>23))+((w=R+(E^T&(N^E))+b[3]+4107603335&4294967295)<<14&4294967295|w>>>18))+((w=T+(N^E&(R^N))+b[8]+1163531501&4294967295)<<20&4294967295|w>>>12))+((w=E+(R^N&(T^R))+b[13]+2850285829&4294967295)<<5&4294967295|w>>>27))+((w=N+(T^R&(E^T))+b[2]+4243563512&4294967295)<<9&4294967295|w>>>23))+((w=R+(E^T&(N^E))+b[7]+1735328473&4294967295)<<14&4294967295|w>>>18))+((w=T+(N^E&(R^N))+b[12]+2368359562&4294967295)<<20&4294967295|w>>>12))+((w=E+(T^R^N)+b[5]+4294588738&4294967295)<<4&4294967295|w>>>28))+((w=N+(E^T^R)+b[8]+2272392833&4294967295)<<11&4294967295|w>>>21))+((w=R+(N^E^T)+b[11]+1839030562&4294967295)<<16&4294967295|w>>>16))+((w=T+(R^N^E)+b[14]+4259657740&4294967295)<<23&4294967295|w>>>9))+((w=E+(T^R^N)+b[1]+2763975236&4294967295)<<4&4294967295|w>>>28))+((w=N+(E^T^R)+b[4]+1272893353&4294967295)<<11&4294967295|w>>>21))+((w=R+(N^E^T)+b[7]+4139469664&4294967295)<<16&4294967295|w>>>16))+((w=T+(R^N^E)+b[10]+3200236656&4294967295)<<23&4294967295|w>>>9))+((w=E+(T^R^N)+b[13]+681279174&4294967295)<<4&4294967295|w>>>28))+((w=N+(E^T^R)+b[0]+3936430074&4294967295)<<11&4294967295|w>>>21))+((w=R+(N^E^T)+b[3]+3572445317&4294967295)<<16&4294967295|w>>>16))+((w=T+(R^N^E)+b[6]+76029189&4294967295)<<23&4294967295|w>>>9))+((w=E+(T^R^N)+b[9]+3654602809&4294967295)<<4&4294967295|w>>>28))+((w=N+(E^T^R)+b[12]+3873151461&4294967295)<<11&4294967295|w>>>21))+((w=R+(N^E^T)+b[15]+530742520&4294967295)<<16&4294967295|w>>>16))+((w=T+(R^N^E)+b[2]+3299628645&4294967295)<<23&4294967295|w>>>9))+((w=E+(R^(T|~N))+b[0]+4096336452&4294967295)<<6&4294967295|w>>>26))+((w=N+(T^(E|~R))+b[7]+1126891415&4294967295)<<10&4294967295|w>>>22))+((w=R+(E^(N|~T))+b[14]+2878612391&4294967295)<<15&4294967295|w>>>17))+((w=T+(N^(R|~E))+b[5]+4237533241&4294967295)<<21&4294967295|w>>>11))+((w=E+(R^(T|~N))+b[12]+1700485571&4294967295)<<6&4294967295|w>>>26))+((w=N+(T^(E|~R))+b[3]+2399980690&4294967295)<<10&4294967295|w>>>22))+((w=R+(E^(N|~T))+b[10]+4293915773&4294967295)<<15&4294967295|w>>>17))+((w=T+(N^(R|~E))+b[1]+2240044497&4294967295)<<21&4294967295|w>>>11))+((w=E+(R^(T|~N))+b[8]+1873313359&4294967295)<<6&4294967295|w>>>26))+((w=N+(T^(E|~R))+b[15]+4264355552&4294967295)<<10&4294967295|w>>>22))+((w=R+(E^(N|~T))+b[6]+2734768916&4294967295)<<15&4294967295|w>>>17))+((w=T+(N^(R|~E))+b[13]+1309151649&4294967295)<<21&4294967295|w>>>11))+((N=(E=T+((w=E+(R^(T|~N))+b[4]+4149444226&4294967295)<<6&4294967295|w>>>26))+((w=N+(T^(E|~R))+b[11]+3174756917&4294967295)<<10&4294967295|w>>>22))^((R=N+((w=R+(E^(N|~T))+b[2]+718787259&4294967295)<<15&4294967295|w>>>17))|~E))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+R&4294967295,D.g[3]=D.g[3]+N&4294967295}function s(D,E){this.h=E;for(var T=[],b=!0,R=D.length-1;0<=R;R--){var N=0|D[R];b&&N==E||(T[R]=N,b=!1)}this.g=T}(function e(D,E){function T(){}T.prototype=E.prototype,D.D=E.prototype,D.prototype=new T,D.prototype.constructor=D,D.C=function(b,R,N){for(var w=Array(arguments.length-2),Ni=2;Ni<arguments.length;Ni++)w[Ni-2]=arguments[Ni];return E.prototype[R].apply(b,w)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(D,E){void 0===E&&(E=D.length);for(var T=E-this.blockSize,b=this.B,R=this.h,N=0;N<E;){if(0==R)for(;N<=T;)i(this,D,N),N+=this.blockSize;if("string"==typeof D){for(;N<E;)if(b[R++]=D.charCodeAt(N++),R==this.blockSize){i(this,b),R=0;break}}else for(;N<E;)if(b[R++]=D[N++],R==this.blockSize){i(this,b),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;var T=8*this.o;for(E=D.length-8;E<D.length;++E)D[E]=255&T,T/=256;for(this.u(D),D=Array(16),E=T=0;4>E;++E)for(var b=0;32>b;b+=8)D[T++]=this.g[E]>>>b&255;return D};var a={};function u(D){return-128<=D&&128>D?function o(D,E){var T=a;return Object.prototype.hasOwnProperty.call(T,D)?T[D]:T[D]=E(D)}(D,function(E){return new s([0|E],0>E?-1:0)}):new s([0|D],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return I(c(-D));for(var E=[],T=1,b=0;D>=T;b++)E[b]=D/T|0,T*=4294967296;return new s(E,0)}var h=u(0),f=u(1),g=u(16777216);function _(D){if(0!=D.h)return!1;for(var E=0;E<D.g.length;E++)if(0!=D.g[E])return!1;return!0}function v(D){return-1==D.h}function I(D){for(var E=D.g.length,T=[],b=0;b<E;b++)T[b]=~D.g[b];return new s(T,~D.h).add(f)}function S(D,E){return D.add(I(E))}function A(D,E){for(;(65535&D[E])!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function F(D,E){this.g=D,this.h=E}function K(D,E){if(_(E))throw Error("division by zero");if(_(D))return new F(h,h);if(v(D))return E=K(I(D),E),new F(I(E.g),I(E.h));if(v(E))return E=K(D,I(E)),new F(I(E.g),E.h);if(30<D.g.length){if(v(D)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var T=f,b=E;0>=b.l(D);)T=Q(T),b=Q(b);var R=ne(T,1),N=ne(b,1);for(b=ne(b,2),T=ne(T,2);!_(b);){var w=N.add(b);0>=w.l(D)&&(R=R.add(T),N=w),b=ne(b,1),T=ne(T,1)}return E=S(D,R.j(E)),new F(R,E)}for(R=h;0<=D.l(E);){for(T=Math.max(1,Math.floor(D.m()/E.m())),b=48>=(b=Math.ceil(Math.log(T)/Math.LN2))?1:Math.pow(2,b-48),w=(N=c(T)).j(E);v(w)||0<w.l(D);)w=(N=c(T-=b)).j(E);_(N)&&(N=f),R=R.add(N),D=S(D,w)}return new F(R,D)}function Q(D){for(var E=D.g.length+1,T=[],b=0;b<E;b++)T[b]=D.i(b)<<1|D.i(b-1)>>>31;return new s(T,D.h)}function ne(D,E){var T=E>>5;E%=32;for(var b=D.g.length-T,R=[],N=0;N<b;N++)R[N]=0<E?D.i(N+T)>>>E|D.i(N+T+1)<<32-E:D.i(N+T);return new s(R,D.h)}(t=s.prototype).m=function(){if(v(this))return-I(this).m();for(var D=0,E=1,T=0;T<this.g.length;T++){var b=this.i(T);D+=(0<=b?b:4294967296+b)*E,E*=4294967296}return D},t.toString=function(D){if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(v(this))return"-"+I(this).toString(D);for(var E=c(Math.pow(D,6)),T=this,b="";;){var R=K(T,E).g,N=((0<(T=S(T,R.j(E))).g.length?T.g[0]:T.h)>>>0).toString(D);if(_(T=R))return N+b;for(;6>N.length;)N="0"+N;b=N+b}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h},t.l=function(D){return v(D=S(this,D))?-1:_(D)?0:1},t.abs=function(){return v(this)?I(this):this},t.add=function(D){for(var E=Math.max(this.g.length,D.g.length),T=[],b=0,R=0;R<=E;R++){var N=b+(65535&this.i(R))+(65535&D.i(R)),w=(N>>>16)+(this.i(R)>>>16)+(D.i(R)>>>16);b=w>>>16,T[R]=(w&=65535)<<16|(N&=65535)}return new s(T,-2147483648&T[T.length-1]?-1:0)},t.j=function(D){if(_(this)||_(D))return h;if(v(this))return v(D)?I(this).j(I(D)):I(I(this).j(D));if(v(D))return I(this.j(I(D)));if(0>this.l(g)&&0>D.l(g))return c(this.m()*D.m());for(var E=this.g.length+D.g.length,T=[],b=0;b<2*E;b++)T[b]=0;for(b=0;b<this.g.length;b++)for(var R=0;R<D.g.length;R++){var N=this.i(b)>>>16,w=65535&this.i(b),Ni=D.i(R)>>>16,Hh=65535&D.i(R);T[2*b+2*R]+=w*Hh,A(T,2*b+2*R),T[2*b+2*R+1]+=N*Hh,A(T,2*b+2*R+1),T[2*b+2*R+1]+=w*Ni,A(T,2*b+2*R+1),T[2*b+2*R+2]+=N*Ni,A(T,2*b+2*R+2)}for(b=0;b<E;b++)T[b]=T[2*b+1]<<16|T[2*b];for(b=E;b<2*E;b++)T[b]=0;return new s(T,0)},t.A=function(D){return K(this,D).h},t.and=function(D){for(var E=Math.max(this.g.length,D.g.length),T=[],b=0;b<E;b++)T[b]=this.i(b)&D.i(b);return new s(T,this.h&D.h)},t.or=function(D){for(var E=Math.max(this.g.length,D.g.length),T=[],b=0;b<E;b++)T[b]=this.i(b)|D.i(b);return new s(T,this.h|D.h)},t.xor=function(D){for(var E=Math.max(this.g.length,D.g.length),T=[],b=0;b<E;b++)T[b]=this.i(b)^D.i(b);return new s(T,this.h^D.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OB=xB.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(D,E){if(0==D.length)throw Error("number format error: empty string");if(2>(E=E||10)||36<E)throw Error("radix out of range: "+E);if("-"==D.charAt(0))return I(d(D.substring(1),E));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(E,8)),b=h,R=0;R<D.length;R+=8){var N=Math.min(8,D.length-R),w=parseInt(D.substring(R,R+N),E);8>N?(N=c(Math.pow(E,N)),b=b.j(N).add(c(w))):b=(b=b.j(T)).add(c(w))}return b},Eo=xB.Integer=s}).apply(typeof kB<"u"?kB:typeof self<"u"?self:typeof window<"u"?window:{});var FB,Wd,VB,Jm,Hb,LB,UB,BB,Zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ci={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,p,m){return l==Array.prototype||l==Object.prototype||(l[p]=m.value),l},r=function n(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Zm&&Zm];for(var p=0;p<l.length;++p){var m=l[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,p){if(p)e:{var m=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in m))break e;m=m[P]}(p=p(y=m[l=l[l.length-1]]))!=y&&null!=p&&e(m,l,{configurable:!0,writable:!0,value:p})}}("Array.prototype.values",function(l){return l||function(){return function o(l,p){l instanceof String&&(l+="");var m=0,y=!1,P={next:function(){if(!y&&m<l.length){var x=m++;return{value:p(x,l[x]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}(this,function(p,m){return m})}});var s=s||{},a=this||self;function u(l){var p=typeof l;return"array"==(p="object"!=p?p:l?Array.isArray(l)?"array":p:"null")||"object"==p&&"number"==typeof l.length}function c(l){var p=typeof l;return"object"==p&&null!=l||"function"==p}function d(l,p,m){return l.call.apply(l.bind,arguments)}function h(l,p,m){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(p,P)}}return function(){return l.apply(p,arguments)}}function f(l,p,m){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function g(l,p){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function _(l,p){function m(){}m.prototype=p.prototype,l.aa=p.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(y,P,x){for(var q=Array(arguments.length-2),He=2;He<arguments.length;He++)q[He-2]=arguments[He];return p.prototype[P].apply(y,q)}}function v(l){const p=l.length;if(0<p){const m=Array(p);for(let y=0;y<p;y++)m[y]=l[y];return m}return[]}function I(l,p){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(u(y)){const P=l.length||0,x=y.length||0;l.length=P+x;for(let q=0;q<x;q++)l[P+q]=y[q]}else l.push(y)}}function A(l){return/^[\s\xa0]*$/.test(l)}function F(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function K(l){return K[" "](l),l}K[" "]=function(){};var Q=!(-1==F().indexOf("Gecko")||-1!=F().toLowerCase().indexOf("webkit")&&-1==F().indexOf("Edge")||-1!=F().indexOf("Trident")||-1!=F().indexOf("MSIE")||-1!=F().indexOf("Edge"));function ne(l,p,m){for(const y in l)p.call(m,l[y],y,l)}function E(l){const p={};for(const m in l)p[m]=l[m];return p}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,p){let m,y;for(let P=1;P<arguments.length;P++){for(m in y=arguments[P],y)l[m]=y[m];for(let x=0;x<T.length;x++)m=T[x],Object.prototype.hasOwnProperty.call(y,m)&&(l[m]=y[m])}}function R(l){var p=1;l=l.split(":");const m=[];for(;0<p&&l.length;)m.push(l.shift()),p--;return l.length&&m.push(l.join(":")),m}function N(l){a.setTimeout(()=>{throw l},0)}function w(){var l=WR;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}var Hh=new class S{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}(()=>new Tme,l=>l.reset());class Tme{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let zh,Gh=!1,WR=new class Ni{constructor(){this.h=this.g=null}add(p,m){const y=Hh.get();y.set(p,m),this.h?this.h.next=y:this.g=y,this.h=y}},wz=()=>{const l=a.Promise.resolve(void 0);zh=()=>{l.then(wme)}};var wme=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(m){N(m)}var p=Hh;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}Gh=!1};function jo(){this.s=this.s,this.C=this.C}function fn(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}jo.prototype.s=!1,jo.prototype.ma=function(){this.s||(this.s=!0,this.N())},jo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},fn.prototype.h=function(){this.defaultPrevented=!0};var Cme=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return l}();function qh(l,p){if(fn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Q){e:{try{K(p.nodeName);var P=!0;break e}catch{}P=!1}P||(p=null)}}else"mouseover"==m?p=l.fromElement:"mouseout"==m&&(p=l.toElement);this.relatedTarget=p,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Dme[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&qh.aa.h.call(this)}}_(qh,fn);var Dme={2:"touch",3:"pen",4:"mouse"};qh.prototype.h=function(){qh.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Wh="closure_listenable_"+(1e6*Math.random()|0),bme=0;function Ame(l,p,m,y,P){this.listener=l,this.proxy=null,this.src=p,this.type=m,this.capture=!!y,this.ha=P,this.key=++bme,this.da=this.fa=!1}function hy(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function fy(l){this.src=l,this.g={},this.h=0}function KR(l,p){var m=p.type;if(m in l.g){var x,y=l.g[m],P=Array.prototype.indexOf.call(y,p,void 0);(x=0<=P)&&Array.prototype.splice.call(y,P,1),x&&(hy(p),0==l.g[m].length&&(delete l.g[m],l.h--))}}function QR(l,p,m,y){for(var P=0;P<l.length;++P){var x=l[P];if(!x.da&&x.listener==p&&x.capture==!!m&&x.ha==y)return P}return-1}fy.prototype.add=function(l,p,m,y,P){var x=l.toString();(l=this.g[x])||(l=this.g[x]=[],this.h++);var q=QR(l,p,y,P);return-1<q?(p=l[q],m||(p.fa=!1)):((p=new Ame(p,this.src,x,!!y,P)).fa=m,l.push(p)),p};var YR="closure_lm_"+(1e6*Math.random()|0),ZR={};function Cz(l,p,m,y,P){if(y&&y.once)return bz(l,p,m,y,P);if(Array.isArray(p)){for(var x=0;x<p.length;x++)Cz(l,p[x],m,y,P);return null}return m=t0(m),l&&l[Wh]?l.K(p,m,c(y)?!!y.capture:!!y,P):Dz(l,p,m,!1,y,P)}function Dz(l,p,m,y,P,x){if(!p)throw Error("Invalid event type");var q=c(P)?!!P.capture:!!P,He=XR(l);if(He||(l[YR]=He=new fy(l)),(m=He.add(p,m,y,q,x)).proxy)return m;if(y=function Sme(){const p=Rme;return function l(m){return p.call(l.src,l.listener,m)}}(),m.proxy=y,y.src=l,y.listener=m,l.addEventListener)Cme||(P=q),void 0===P&&(P=!1),l.addEventListener(p.toString(),y,P);else if(l.attachEvent)l.attachEvent(Sz(p.toString()),y);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(y)}return m}function bz(l,p,m,y,P){if(Array.isArray(p)){for(var x=0;x<p.length;x++)bz(l,p[x],m,y,P);return null}return m=t0(m),l&&l[Wh]?l.L(p,m,c(y)?!!y.capture:!!y,P):Dz(l,p,m,!0,y,P)}function Az(l,p,m,y,P){if(Array.isArray(p))for(var x=0;x<p.length;x++)Az(l,p[x],m,y,P);else y=c(y)?!!y.capture:!!y,m=t0(m),l&&l[Wh]?(l=l.i,(p=String(p).toString())in l.g&&-1<(m=QR(x=l.g[p],m,y,P))&&(hy(x[m]),Array.prototype.splice.call(x,m,1),0==x.length&&(delete l.g[p],l.h--))):l&&(l=XR(l))&&(p=l.g[p.toString()],l=-1,p&&(l=QR(p,m,y,P)),(m=-1<l?p[l]:null)&&JR(m))}function JR(l){if("number"!=typeof l&&l&&!l.da){var p=l.src;if(p&&p[Wh])KR(p.i,l);else{var m=l.type,y=l.proxy;p.removeEventListener?p.removeEventListener(m,y,l.capture):p.detachEvent?p.detachEvent(Sz(m),y):p.addListener&&p.removeListener&&p.removeListener(y),(m=XR(p))?(KR(m,l),0==m.h&&(m.src=null,p[YR]=null)):hy(l)}}}function Sz(l){return l in ZR?ZR[l]:ZR[l]="on"+l}function Rme(l,p){if(l.da)l=!0;else{p=new qh(p,this);var m=l.listener,y=l.ha||l.src;l.fa&&JR(l),l=m.call(y,p)}return l}function XR(l){return(l=l[YR])instanceof fy?l:null}var e0="__closure_events_fn_"+(1e9*Math.random()>>>0);function t0(l){return"function"==typeof l?l:(l[e0]||(l[e0]=function(p){return l.handleEvent(p)}),l[e0])}function pn(){jo.call(this),this.i=new fy(this),this.M=this,this.F=null}function bn(l,p){var m,y=l.F;if(y)for(m=[];y;y=y.F)m.push(y);if(l=l.M,y=p.type||p,"string"==typeof p)p=new fn(p,l);else if(p instanceof fn)p.target=p.target||l;else{var P=p;b(p=new fn(y,l),P)}if(P=!0,m)for(var x=m.length-1;0<=x;x--){var q=p.g=m[x];P=py(q,y,!0,p)&&P}if(P=py(q=p.g=l,y,!0,p)&&P,P=py(q,y,!1,p)&&P,m)for(x=0;x<m.length;x++)P=py(q=p.g=m[x],y,!1,p)&&P}function py(l,p,m,y){if(!(p=l.i.g[String(p)]))return!0;p=p.concat();for(var P=!0,x=0;x<p.length;++x){var q=p[x];if(q&&!q.da&&q.capture==m){var He=q.listener,en=q.ha||q.src;q.fa&&KR(l.i,q),P=!1!==He.call(en,y)&&P}}return P&&!y.defaultPrevented}function Rz(l,p,m){if("function"==typeof l)m&&(l=f(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=f(l.handleEvent,l)}return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function Pz(l){l.g=Rz(()=>{l.g=null,l.i&&(l.i=!1,Pz(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}_(pn,jo),pn.prototype[Wh]=!0,pn.prototype.removeEventListener=function(l,p,m,y){Az(this,l,p,m,y)},pn.prototype.N=function(){if(pn.aa.N.call(this),this.i){var p,l=this.i;for(p in l.g){for(var m=l.g[p],y=0;y<m.length;y++)hy(m[y]);delete l.g[p],l.h--}}this.F=null},pn.prototype.K=function(l,p,m,y){return this.i.add(String(l),p,!1,m,y)},pn.prototype.L=function(l,p,m,y){return this.i.add(String(l),p,!0,m,y)};class Pme extends jo{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pz(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kh(l){jo.call(this),this.h=l,this.g={}}_(Kh,jo);var Mz=[];function Nz(l){ne(l.g,function(p,m){this.g.hasOwnProperty(m)&&JR(p)},l),l.g={}}Kh.prototype.N=function(){Kh.aa.N.call(this),Nz(this)},Kh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var n0=a.JSON.stringify,Mme=a.JSON.parse,Nme=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function r0(){}function xz(){}r0.prototype.h=null;var Qh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function o0(){fn.call(this,"d")}function s0(){fn.call(this,"c")}_(o0,fn),_(s0,fn);var pa={},Oz=null;function gy(){return Oz=Oz||new pn}function Fz(l){fn.call(this,pa.La,l)}function Yh(l){const p=gy();bn(p,new Fz(p))}function Vz(l,p){fn.call(this,pa.STAT_EVENT,l),this.stat=p}function An(l){const p=gy();bn(p,new Vz(p,l))}function Lz(l,p){fn.call(this,pa.Ma,l),this.size=p}function Zh(l,p){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function Jh(){this.g=!0}function Sc(l,p,m,y){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+function Fme(l,p){if(!l.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var y=m[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var x=P[0];if("noop"!=x&&"stop"!=x&&"close"!=x)for(var q=1;q<P.length;q++)P[q]=""}}}return n0(m)}catch{return p}}(l,m)+(y?" "+y:"")})}pa.La="serverreachability",_(Fz,fn),pa.STAT_EVENT="statevent",_(Vz,fn),pa.Ma="timingevent",_(Lz,fn),Jh.prototype.xa=function(){this.g=!1},Jh.prototype.info=function(){};var a0,my={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uz={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function _y(){}function $o(l,p,m,y){this.j=l,this.i=p,this.l=m,this.R=y||1,this.U=new Kh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bz}function Bz(){this.i=null,this.g="",this.h=!1}_(_y,r0),_y.prototype.g=function(){return new XMLHttpRequest},_y.prototype.i=function(){return{}},a0=new _y;var jz={},u0={};function c0(l,p,m){l.L=1,l.v=Iy(ki(p)),l.m=m,l.P=!0,$z(l,null)}function $z(l,p){l.F=Date.now(),yy(l),l.A=ki(l.v);var m=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),nG(m.i,"t",y),l.C=0,m=l.j.J,l.h=new Bz,l.g=EG(l.j,m?p:null,!l.m),0<l.O&&(l.M=new Pme(f(l.Y,l,l.g),l.O)),p=l.U,m=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(Mz[0]=P.toString()),P=Mz);for(var x=0;x<P.length;x++){var q=Cz(m,P[x],y||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),Yh(),function kme(l,p,m,y,P,x){l.info(function(){if(l.g)if(x)for(var q="",He=x.split("&"),en=0;en<He.length;en++){var Re=He[en].split("=");if(1<Re.length){var gn=Re[0];Re=Re[1];var mn=gn.split("_");q=2<=mn.length&&"type"==mn[1]?q+(gn+"=")+Re+"&":q+(gn+"=redacted&")}}else q=null;else q=x;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+p+"\n"+m+"\n"+q})}(l.i,l.u,l.A,l.l,l.R,l.m)}function Hz(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function Vme(l,p){var m=l.C,y=p.indexOf("\n",m);return-1==y?u0:(m=Number(p.substring(m,y)),isNaN(m)?jz:(y+=1)+m>p.length?u0:(p=p.slice(y,y+m),l.C=y+m,p))}function yy(l){l.S=Date.now()+l.I,zz(l,l.I)}function zz(l,p){if(null!=l.B)throw Error("WatchDog timer not null");l.B=Zh(f(l.ba,l),p)}function l0(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function Xh(l){0==l.j.G||l.J||mG(l.j,l)}function ga(l){l0(l);var p=l.M;p&&"function"==typeof p.ma&&p.ma(),l.M=null,Nz(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function d0(l,p){try{var m=l.j;if(0!=m.G&&(m.g==l||h0(m.h,l)))if(!l.K&&h0(m.h,l)&&3==m.G){try{var y=m.Da.g.parse(p)}catch{y=null}if(Array.isArray(y)&&3==y.length){var P=y;if(0==P[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;by(m),Cy(m)}m0(m),An(18)}}else m.za=P[1],0<m.za-m.T&&37500>P[2]&&m.F&&0==m.v&&!m.C&&(m.C=Zh(f(m.Za,m),6e3));if(1>=Wz(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else _a(m,11)}else if((l.K||m.g==l)&&by(m),!A(p))for(P=m.Da.g.parse(p),p=0;p<P.length;p++){let Re=P[p];if(m.T=Re[0],Re=Re[1],2==m.G)if("c"==Re[0]){m.K=Re[1],m.ia=Re[2];const gn=Re[3];null!=gn&&(m.la=gn,m.j.info("VER="+m.la));const mn=Re[4];null!=mn&&(m.Aa=mn,m.j.info("SVER="+m.Aa));const Mc=Re[5];null!=Mc&&"number"==typeof Mc&&0<Mc&&(m.L=y=1.5*Mc,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const Sr=l.g;if(Sr){const Sy=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sy){var x=y.h;x.g||-1==Sy.indexOf("spdy")&&-1==Sy.indexOf("quic")&&-1==Sy.indexOf("h2")||(x.j=x.l,x.g=new Set,x.h&&(f0(x,x.h),x.h=null))}if(y.D){const y0=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;y0&&(y.ya=y0,et(y.I,y.D,y0))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var q=l;if((y=m).qa=vG(y,y.J?y.ia:null,y.W),q.K){Kz(y.h,q);var He=q,en=y.L;en&&(He.I=en),He.B&&(l0(He),yy(He)),y.g=q}else pG(y);0<m.i.length&&Dy(m)}else"stop"!=Re[0]&&"close"!=Re[0]||_a(m,7);else 3==m.G&&("stop"==Re[0]||"close"==Re[0]?"stop"==Re[0]?_a(m,7):g0(m):"noop"!=Re[0]&&m.l&&m.l.ta(Re),m.v=0)}Yh()}catch{}}$o.prototype.ca=function(l){l=l.target;const p=this.M;p&&3==xi(l)?p.j():this.Y(l)},$o.prototype.Y=function(l){try{if(l==this.g)e:{const mn=xi(this.g);var p=this.g.Ba();if(this.g.Z(),!(3>mn)&&(3!=mn||this.g&&(this.h.h||this.g.oa()||cG(this.g)))){this.J||4!=mn||7==p||Yh(),l0(this);var m=this.g.Z();this.X=m;t:if(Hz(this)){var y=cG(this.g);l="";var P=y.length,x=4==xi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ga(this),Xh(this);var q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,l+=this.h.i.decode(y[p],{stream:!(x&&p==P-1)});y.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=200==m,function xme(l,p,m,y,P,x,q){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+p+"\n"+m+"\n"+x+" "+q})}(this.i,this.u,this.A,this.l,this.R,mn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var He,en=this.g;if((He=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(He)){var Re=He;break t}}Re=null}if(!(m=Re)){this.o=!1,this.s=3,An(12),ga(this),Xh(this);break e}Sc(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,d0(this,m)}if(this.P){let Sr;for(m=!0;!this.J&&this.C<q.length;){if(Sr=Vme(this,q),Sr==u0){4==mn&&(this.s=4,An(14),m=!1),Sc(this.i,this.l,null,"[Incomplete Response]");break}if(Sr==jz){this.s=4,An(15),Sc(this.i,this.l,q,"[Invalid Chunk]"),m=!1;break}Sc(this.i,this.l,Sr,null),d0(this,Sr)}if(Hz(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=mn||0!=q.length||this.h.h||(this.s=1,An(16),m=!1),this.o=this.o&&m,m){if(0<q.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),_0(gn),gn.M=!0,An(11))}}else Sc(this.i,this.l,q,"[Invalid Chunked Response]"),ga(this),Xh(this)}else Sc(this.i,this.l,q,null),d0(this,q);4==mn&&ga(this),this.o&&!this.J&&(4==mn?mG(this.j,this):(this.o=!1,yy(this)))}else(function e_e(l){const p={};l=(l.g&&2<=xi(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let y=0;y<l.length;y++){if(A(l[y]))continue;var m=R(l[y]);const P=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const x=p[P]||[];p[P]=x,x.push(m)}!function D(l,p){for(const m in l)p.call(void 0,l[m],m,l)}(p,function(y){return y.join(", ")})})(this.g),400==m&&0<q.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),ga(this),Xh(this)}}}catch{}},$o.prototype.cancel=function(){this.J=!0,ga(this)},$o.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function Ome(l,p){l.info(function(){return"TIMEOUT: "+p})}(this.i,this.A),2!=this.L&&(Yh(),An(17)),ga(this),this.s=2,Xh(this)):zz(this,this.S-l)};var Lme=class{constructor(l,p){this.g=l,this.map=p}};function Gz(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qz(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Wz(l){return l.h?1:l.g?l.g.size:0}function h0(l,p){return l.h?l.h==p:!!l.g&&l.g.has(p)}function f0(l,p){l.g?l.g.add(p):l.h=p}function Kz(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}function Qz(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let p=l.i;for(const m of l.g.values())p=p.concat(m.D);return p}return v(l.i)}function Yz(l,p){if(l.forEach&&"function"==typeof l.forEach)l.forEach(p,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,p,void 0);else for(var m=function Bme(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var p=[];l=l.length;for(var m=0;m<l;m++)p.push(m);return p}p=[],m=0;for(const y in l)p[m++]=y;return p}}}(l),y=function Ume(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var p=[],m=l.length,y=0;y<m;y++)p.push(l[y]);return p}for(y in p=[],m=0,l)p[m++]=l[y];return p}(l),P=y.length,x=0;x<P;x++)p.call(void 0,y[x],m&&m[x],l)}Gz.prototype.cancel=function(){if(this.i=Qz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var Zz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ma){this.h=l.h,vy(this,l.j),this.o=l.o,this.g=l.g,Ey(this,l.s),this.l=l.l;var p=l.i,m=new nf;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),Jz(this,m),this.m=l.m}else l&&(p=String(l).match(Zz))?(this.h=!1,vy(this,p[1]||"",!0),this.o=ef(p[2]||""),this.g=ef(p[3]||"",!0),Ey(this,p[4]),this.l=ef(p[5]||"",!0),Jz(this,p[6]||"",!0),this.m=ef(p[7]||"")):(this.h=!1,this.i=new nf(null,this.h))}function ki(l){return new ma(l)}function vy(l,p,m){l.j=m?ef(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Ey(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Jz(l,p,m){p instanceof nf?(l.i=p,function Wme(l,p){p&&!l.j&&(Ho(l),l.i=null,l.g.forEach(function(m,y){var P=y.toLowerCase();y!=P&&(eG(this,y),nG(this,P,m))},l)),l.j=p}(l.i,l.h)):(m||(p=tf(p,Gme)),l.i=new nf(p,l.h))}function et(l,p,m){l.i.set(p,m)}function Iy(l){return et(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ef(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function tf(l,p,m){return"string"==typeof l?(l=encodeURI(l).replace(p,$me),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function $me(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ma.prototype.toString=function(){var l=[],p=this.j;p&&l.push(tf(p,Xz,!0),":");var m=this.g;return(m||"file"==p)&&(l.push("//"),(p=this.o)&&l.push(tf(p,Xz,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(tf(m,"/"==m.charAt(0)?zme:Hme,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",tf(m,qme)),l.join("")};var Xz=/[#\/\?@]/g,Hme=/[#\?:]/g,zme=/[#\?]/g,Gme=/[#\?@]/g,qme=/#/g;function nf(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Ho(l){l.g||(l.g=new Map,l.h=0,l.i&&function jme(l,p){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var y=l[m].indexOf("="),P=null;if(0<=y){var x=l[m].substring(0,y);P=l[m].substring(y+1)}else x=l[m];p(x,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}(l.i,function(p,m){l.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}function eG(l,p){Ho(l),p=Rc(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function tG(l,p){return Ho(l),p=Rc(l,p),l.g.has(p)}function nG(l,p,m){eG(l,p),0<m.length&&(l.i=null,l.g.set(Rc(l,p),v(m)),l.h+=m.length)}function Rc(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function zo(l,p,m,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(m)}catch{}}function Yme(){this.g=new Nme}function Zme(l,p,m){const y=m||"";try{Yz(l,function(P,x){let q=P;c(P)&&(q=n0(P)),p.push(y+x+"="+encodeURIComponent(q))})}catch(P){throw p.push(y+"type="+encodeURIComponent("_badmap")),P}}function rf(l){this.l=l.Ub||null,this.j=l.eb||!1}function Ty(l,p){pn.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function rG(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function sf(l){l.readyState=4,l.l=null,l.j=null,l.v=null,af(l)}function af(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function iG(l){let p="";return ne(l,function(m,y){p+=y,p+=":",p+=m,p+="\r\n"}),p}function p0(l,p,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=iG(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):et(l,p,m))}function yt(l){pn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=nf.prototype).add=function(l,p){Ho(this),this.i=null,l=Rc(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(p),this.h+=1,this},t.forEach=function(l,p){Ho(this),this.g.forEach(function(m,y){m.forEach(function(P){l.call(p,P,y,this)},this)},this)},t.na=function(){Ho(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let y=0;y<p.length;y++){const P=l[y];for(let x=0;x<P.length;x++)m.push(p[y])}return m},t.V=function(l){Ho(this);let p=[];if("string"==typeof l)tG(this,l)&&(p=p.concat(this.g.get(Rc(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)p=p.concat(l[m])}return p},t.set=function(l,p){return Ho(this),this.i=null,tG(this,l=Rc(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l&&0<(l=this.V(l)).length?String(l[0]):p},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var y=p[m];const x=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var P=x;""!==q[y]&&(P+="="+encodeURIComponent(String(q[y]))),l.push(P)}}return this.i=l.join("&")},_(rf,r0),rf.prototype.g=function(){return new Ty(this.l,this.j)},rf.prototype.i=function(l){return function(){return l}}({}),_(Ty,pn),(t=Ty.prototype).open=function(l,p){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,af(this)},t.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sf(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,af(this)),this.g&&(this.readyState=3,af(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rG(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?sf(this):af(this),3==this.readyState&&rG(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,sf(this))},t.Qa=function(l){this.g&&(this.response=l,sf(this))},t.ga=function(){this.g&&sf(this)},t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var m=p.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=p.next();return l.join("\r\n")},Object.defineProperty(Ty.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),_(yt,pn);var Jme=/^https?$/i,Xme=["POST","PUT"];function oG(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,sG(l),wy(l)}function sG(l){l.A||(l.A=!0,bn(l,"complete"),bn(l,"error"))}function aG(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=xi(l)||2!=l.Z()))if(l.u&&4==xi(l))Rz(l.Ea,0,l);else if(bn(l,"readystatechange"),4==xi(l)){l.h=!1;try{const q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var y;if(y=0===q){var P=String(l.D).match(Zz)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!Jme.test(P?P.toLowerCase():"")}m=y}if(m)bn(l,"complete"),bn(l,"success");else{l.m=6;try{var x=2<xi(l)?l.g.statusText:""}catch{x=""}l.l=x+" ["+l.Z()+"]",sG(l)}}finally{wy(l)}}}function wy(l,p){if(l.g){uG(l);const m=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||bn(l,"ready");try{m.onreadystatechange=y}catch{}}}function uG(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function xi(l){return l.g?l.g.readyState:0}function cG(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(l,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||p}function lG(l){this.Aa=0,this.i=[],this.j=new Jh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uf("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uf("baseRetryDelayMs",5e3,l),this.cb=uf("retryDelaySeedMs",1e4,l),this.Wa=uf("forwardChannelMaxRetries",2,l),this.wa=uf("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Gz(l&&l.concurrentRequestLimit),this.Da=new Yme,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function g0(l){if(dG(l),3==l.G){var p=l.U++,m=ki(l.I);if(et(m,"SID",l.K),et(m,"RID",p),et(m,"TYPE","terminate"),cf(l,m),(p=new $o(l,l.j,p)).L=2,p.v=Iy(ki(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=p.v,m=!0),m||(p.g=EG(p.j,null),p.g.ea(p.v)),p.F=Date.now(),yy(p)}yG(l)}function Cy(l){l.g&&(_0(l),l.g.cancel(),l.g=null)}function dG(l){Cy(l),l.u&&(a.clearTimeout(l.u),l.u=null),by(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function Dy(l){if(!qz(l.h)&&!l.s){l.s=!0;var p=l.Ga;zh||wz(),Gh||(zh(),Gh=!0),WR.add(p,l),l.B=0}}function hG(l,p){var m;m=p?p.l:l.U++;const y=ki(l.I);et(y,"SID",l.K),et(y,"RID",m),et(y,"AID",l.T),cf(l,y),l.m&&l.o&&p0(y,l.m,l.o),m=new $o(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),p&&(l.i=p.D.concat(l.i)),p=fG(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),f0(l.h,m),c0(m,y,p)}function cf(l,p){l.H&&ne(l.H,function(m,y){et(p,y,m)}),l.l&&Yz({},function(m,y){et(p,y,m)})}function fG(l,p,m){m=Math.min(l.i.length,m);var y=l.l?f(l.l.Na,l.l,l):null;e:{var P=l.i;let x=-1;for(;;){const q=["count="+m];-1==x?0<m?(x=P[0].g,q.push("ofs="+x)):x=0:q.push("ofs="+x);let He=!0;for(let en=0;en<m;en++){let Re=P[en].g;const gn=P[en].map;if(Re-=x,0>Re)x=Math.max(0,P[en].g-100),He=!1;else try{Zme(gn,q,"req"+Re+"_")}catch{y&&y(gn)}}if(He){y=q.join("&");break e}}}return l=l.i.splice(0,m),p.D=l,y}function pG(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;zh||wz(),Gh||(zh(),Gh=!0),WR.add(p,l),l.v=0}}function m0(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=Zh(f(l.Fa,l),_G(l,l.v)),l.v++,0))}function _0(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function gG(l){l.g=new $o(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var p=ki(l.qa);et(p,"RID","rpc"),et(p,"SID",l.K),et(p,"AID",l.T),et(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&et(p,"TO",l.ja),et(p,"TYPE","xmlhttp"),cf(l,p),l.m&&l.o&&p0(p,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Iy(ki(p)),m.m=null,m.P=!0,$z(m,l)}function by(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function mG(l,p){var m=null;if(l.g==p){by(l),_0(l),l.g=null;var y=2}else{if(!h0(l.h,p))return;m=p.D,Kz(l.h,p),y=1}if(0!=l.G)if(p.o)if(1==y){m=p.m?p.m.length:0,p=Date.now()-p.F;var P=l.B;bn(y=gy(),new Lz(y,m)),Dy(l)}else pG(l);else if(3==(P=p.s)||0==P&&0<p.X||!(1==y&&function t_e(l,p){return!(Wz(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=p.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=Zh(f(l.Ga,l,p),_G(l,l.B)),l.B++,0)))}(l,p)||2==y&&m0(l)))switch(m&&0<m.length&&(p=l.h,p.i=p.i.concat(m)),P){case 1:_a(l,5);break;case 4:_a(l,10);break;case 3:_a(l,6);break;default:_a(l,2)}}function _G(l,p){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*p}function _a(l,p){if(l.j.info("Error code "+p),2==p){var m=f(l.fb,l),y=l.Xa;const P=!y;y=new ma(y||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||vy(y,"https"),Iy(y),P?function Kme(l,p){const m=new Jh;if(a.Image){const y=new Image;y.onload=g(zo,m,"TestLoadImage: loaded",!0,p,y),y.onerror=g(zo,m,"TestLoadImage: error",!1,p,y),y.onabort=g(zo,m,"TestLoadImage: abort",!1,p,y),y.ontimeout=g(zo,m,"TestLoadImage: timeout",!1,p,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else p(!1)}(y.toString(),m):function Qme(l,p){new Jh;const y=new AbortController,P=setTimeout(()=>{y.abort(),zo(0,0,!1,p)},1e4);fetch(l,{signal:y.signal}).then(x=>{clearTimeout(P),zo(0,0,!!x.ok,p)}).catch(()=>{clearTimeout(P),zo(0,0,!1,p)})}(y.toString(),m)}else An(2);l.G=0,l.l&&l.l.sa(p),yG(l),dG(l)}function yG(l){if(l.G=0,l.ka=[],l.l){const p=Qz(l.h);(0!=p.length||0!=l.i.length)&&(I(l.ka,p),I(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function vG(l,p,m){var y=m instanceof ma?ki(m):new ma(m);if(""!=y.g)p&&(y.g=p+"."+y.g),Ey(y,y.s);else{var P=a.location;y=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var x=new ma(null);y&&vy(x,y),p&&(x.g=p),P&&Ey(x,P),m&&(x.l=m),y=x}return p=l.ya,(m=l.D)&&p&&et(y,m,p),et(y,"VER",l.la),cf(l,y),y}function EG(l,p,m){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(p=new yt(l.Ca&&!l.pa?new rf({eb:m}):l.pa)).Ha(l.J),p}function IG(){}function Ay(){}function tr(l,p){pn.call(this),this.g=new lG(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!A(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.D=p,null!==(l=this.h)&&p in l&&p in(l=this.h)&&delete l[p]),this.j=new Pc(this)}function TG(l){o0.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const m in p){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,p=null!==p&&l in p?p[l]:void 0),this.data=p}else this.data=l}function wG(){s0.call(this),this.status=1}function Pc(l){this.g=l}(t=yt.prototype).Ha=function(l){this.J=l},t.ea=function(l,p,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():a0.g(),this.v=function kz(l){return l.h||(l.h=l.i())}(this.o?this.o:a0),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(x){return void oG(this,x)}if(l=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)m.set(P,y[P]);else{if("function"!=typeof y.keys||"function"!=typeof y.get)throw Error("Unknown input type for opt_headers: "+String(y));for(const x of y.keys())m.set(x,y.get(x))}y=Array.from(m.keys()).find(x=>"content-type"==x.toLowerCase()),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Xme,p,void 0))||y||P||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,q]of m)this.g.setRequestHeader(x,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uG(this),this.u=!0,this.g.send(l),this.u=!1}catch(x){oG(this,x)}},t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,bn(this,"complete"),bn(this,"abort"),wy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wy(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?aG(this):this.bb())},t.bb=function(){aG(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&0==p.indexOf(l)&&(p=p.substring(l.length)),Mme(p)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=lG.prototype).la=8,t.G=1,t.connect=function(l,p,m,y){An(0),this.W=l,this.H=p||{},m&&void 0!==y&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=vG(this,null,this.W),Dy(this)},t.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const P=new $o(this,this.j,l);let x=this.o;if(this.S&&(x?(x=E(x),b(x,this.S)):x=this.S),null!==this.m||this.O||(P.H=x,x=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){var y=this.i[m];if(void 0===(y="__data__"in y.map&&"string"==typeof(y=y.map.__data__)?y.length:void 0))break;if(4096<(p+=y)){p=m;break e}if(4096===p||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=fG(this,P,p),et(m=ki(this.I),"RID",l),et(m,"CVER",22),this.D&&et(m,"X-HTTP-Session-Id",this.D),cf(this,m),x&&(this.O?p="headers="+encodeURIComponent(String(iG(x)))+"&"+p:this.m&&p0(m,this.m,x)),f0(this.h,P),this.Ua&&et(m,"TYPE","init"),this.P?(et(m,"$req",p),et(m,"SID","null"),P.T=!0,c0(P,m,null)):c0(P,m,p),this.G=2}}else 3==this.G&&(l?hG(this,l):0==this.i.length||qz(this.h)||hG(this))},t.Fa=function(){if(this.u=null,gG(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Zh(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,An(10),Cy(this),gG(this))},t.Za=function(){null!=this.C&&(this.C=null,Cy(this),m0(this),An(19))},t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=IG.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},Ay.prototype.g=function(l,p){return new tr(l,p)},_(tr,pn),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){g0(this.g)},tr.prototype.o=function(l){var p=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=n0(l),l=m);p.i.push(new Lme(p.Ya++,l)),3==p.G&&Dy(p)},tr.prototype.N=function(){this.g.l=null,delete this.j,g0(this.g),delete this.g,tr.aa.N.call(this)},_(TG,o0),_(wG,s0),_(Pc,IG),Pc.prototype.ua=function(){bn(this.g,"a")},Pc.prototype.ta=function(l){bn(this.g,new TG(l))},Pc.prototype.sa=function(l){bn(this.g,new wG)},Pc.prototype.ra=function(){bn(this.g,"b")},Ay.prototype.createWebChannel=Ay.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,BB=Ci.createWebChannelTransport=function(){return new Ay},UB=Ci.getStatEventTarget=function(){return gy()},LB=Ci.Event=pa,Hb=Ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},my.NO_ERROR=0,my.TIMEOUT=8,my.HTTP_ERROR=6,Jm=Ci.ErrorCode=my,Uz.COMPLETE="complete",VB=Ci.EventType=Uz,xz.EventType=Qh,Qh.OPEN="a",Qh.CLOSE="b",Qh.ERROR="c",Qh.MESSAGE="d",pn.prototype.listen=pn.prototype.K,Wd=Ci.WebChannel=xz,Ci.FetchXmlHttpFactory=rf,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,FB=Ci.XhrIo=yt}).apply(typeof Zm<"u"?Zm:typeof self<"u"?self:typeof window<"u"?window:{});const jB="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let xu="11.9.0";const Io=new wm("@firebase/firestore");function Ou(){return Io.logLevel}function U(t,...e){if(Io.logLevel<=Ie.DEBUG){const n=e.map(zb);Io.debug(`Firestore (${xu}): ${t}`,...n)}}function wt(t,...e){if(Io.logLevel<=Ie.ERROR){const n=e.map(zb);Io.error(`Firestore (${xu}): ${t}`,...n)}}function fr(t,...e){if(Io.logLevel<=Ie.WARN){const n=e.map(zb);Io.warn(`Firestore (${xu}): ${t}`,...n)}}function zb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Y(t,e,n){let r="Unexpected state";"string"==typeof e?r=e:n=e,HB(t,r,n)}function HB(t,e,n){let r=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wt(r),new Error(r)}function Z(t,e,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,t||HB(e,i,r)}function G(t,e){return t}const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class Gle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qle{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;Z(void 0===this.o,42304);let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new jt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(C(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z("string"==typeof r.accessToken,31837,{l:r}),new zB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e,2055,{h:e}),new Bt(e)}}class Wle{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Kle{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Wle(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qle{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Z(void 0===this.o,3512);const r=o=>{null!=o.error&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z("string"==typeof n.token,44558,{tokenResult:n}),this.m=n.token,new Gb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Yle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function qb(){return new TextEncoder}class GB{static newId(){const n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Yle(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function Wb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return te(r,i);{const o=qb(),s=Zle(o.encode(qB(t,n)),o.encode(qB(e,n)));return 0!==s?s:te(r,i)}}n+=r>65535?2:1}return te(t.length,e.length)}function qB(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Zle(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return te(t[n],e[n]);return te(t.length,e.length)}function Fu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const KB=-62135596800;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KB)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-KB).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new ct(0,0))}static max(){return new X(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kb="__name__";class Gr{constructor(e,n,r){void 0===n?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),void 0===r?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Gr.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Gr.compareSegments(e.get(i),n.get(i));if(0!==o)return o}return te(e.length,n.length)}static compareSegments(e,n){const r=Gr.isNumericId(e),i=Gr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):Wb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class Te extends Gr{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const Jle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Gr{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return Jle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Kb}static keyField(){return new it([Kb])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}class W{constructor(e){this.path=e}static fromPath(e){return new W(Te.fromString(e))}static fromName(e){return new W(Te.fromString(e).popFirst(5))}static empty(){return new W(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Te.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Te(e.slice()))}}function ZB(t){return new Jn(t.readTime,t.key,-1)}class Jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jn(X.min(),W.empty(),-1)}static max(){return new Jn(X.max(),W.empty(),-1)}}function Yb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=W.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}class XB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function To(t){return Zb.apply(this,arguments)}function Zb(){return Zb=C(function*(t){if(t.code!==k.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;U("LocalStore","Unexpectedly lost primary lease")}),Zb.apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new M((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function wo(t){return"IndexedDbTransactionError"===t.name}let er=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ce&&this.ce(n),n}}return t.le=-1,t})();function Yd(t){return null==t}function Zd(t){return 0===t&&1/t==-1/0}function ode(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function rj(t){return t+"\x01\x01"}const Xd="mutationQueues",Ar="mutations",ju="documentMutations",eh="remoteDocumentGlobal",$u="targets",Hu="targetDocuments",Qs="targetGlobal",th="collectionParents",zu="clientMetadata",o_="bundles",s_="namedQueries";function mj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class We{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new u_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new u_(this.root,e,this.comparator,!1)}getReverseIterator(){return new u_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new u_(this.root,e,this.comparator,!0)}}class u_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vj(this.data.getIterator())}getIteratorFrom(e){return new vj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class vj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Fe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ej extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ej("Invalid base64 string: "+o):o}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const Mde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Z(!!t,39018),"string"==typeof t){let e=0;const n=Mde.exec(t);if(Z(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bi(t){return"string"==typeof t?_t.fromBase64String(t):_t.fromUint8Array(t)}const Ij="server_timestamp",Tj="__type__",wj="__previous_value__",Cj="__local_write_time__";function c_(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[Tj])||void 0===n?void 0:n.stringValue)===Ij}function l_(t){const e=t.mapValue.fields[wj];return c_(e)?l_(e):e}function ih(t){const e=Di(t.mapValue.fields[Cj].timestampValue);return new ct(e.seconds,e.nanos)}class Nde{constructor(e,n,r,i,o,s,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const oh="(default)";class Ys{constructor(e,n){this.projectId=e,this.database=n||oh}static empty(){return new Ys("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Ys&&e.projectId===this.projectId&&e.database===this.database}}const aA="__type__",Dj="__max__",bo_mapValue={fields:{__type__:{stringValue:Dj}}},uA="__vector__",qu="value";function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?c_(t)?4:Pj(t)?9007199254740991:p_(t)?10:11:Y(28295,{value:t})}function Kr(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Di(i.timestampValue),a=Di(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,bi(t.bytesValue).isEqual(bi(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ot(i.geoPointValue.latitude)===ot(o.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ot(i.integerValue)===ot(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ot(i.doubleValue),a=ot(o.doubleValue);return s===a?Zd(s)===Zd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(mj(s)!==mj(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Kr(s[u],a[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}var o}function sh(t,e){return void 0!==(t.values||[]).find(n=>Kr(n,e))}function So(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ot(o.integerValue||o.doubleValue),u=ot(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return bj(t.timestampValue,e.timestampValue);case 4:return bj(ih(t),ih(e));case 5:return Wb(t.stringValue,e.stringValue);case 6:return function(o,s){const a=bi(o),u=bi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=te(a[c],u[c]);if(0!==d)return d}return te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=te(ot(o.latitude),ot(s.latitude));return 0!==a?a:te(ot(o.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Aj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const g=null===(a=(o.fields||{})[qu])||void 0===a?void 0:a.arrayValue,_=null===(u=(s.fields||{})[qu])||void 0===u?void 0:u.arrayValue,v=te((null===(c=g?.values)||void 0===c?void 0:c.length)||0,(null===(d=_?.values)||void 0===d?void 0:d.length)||0);return 0!==v?v:Aj(g,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===bo_mapValue&&s===bo_mapValue)return 0;if(o===bo_mapValue)return 1;if(s===bo_mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const f=Wb(u[h],d[h]);if(0!==f)return f;const g=So(a[u[h]],c[d[h]]);if(0!==g)return g}return te(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{Pe:n})}}function bj(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=Di(t),r=Di(e),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function Aj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=So(n[i],r[i]);if(o)return o}return te(n.length,r.length)}function Wu(t){return cA(t)}function cA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bi(t.bytesValue).toBase64():"referenceValue"in t?W.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=cA(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${cA(n.fields[s])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function h_(t){switch(Ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=l_(t);return e?16+h_(e):16;case 5:return 2*t.stringValue.length;case 6:return bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((i,o)=>i+h_(o),0);case 10:case 11:return function(r){let i=0;return Do(r.fields,(o,s)=>{i+=o.length+h_(s)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function lA(t){return!!t&&"integerValue"in t}function ah(t){return!!t&&"arrayValue"in t}function Sj(t){return!!t&&"nullValue"in t}function Rj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function f_(t){return!!t&&"mapValue"in t}function p_(t){var e,n;return(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{})[aA])||void 0===n?void 0:n.stringValue)===uA}function uh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Pj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Dj}class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!f_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uh(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=uh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());f_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];f_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Do(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Jt(uh(this.value))}}function xj(t){const e=[];return Do(t.fields,(n,r)=>{const i=new it([n]);if(f_(r)){const o=xj(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new jn(e)}class Xe{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Xe(e,0,X.min(),X.min(),X.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new Xe(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new Xe(e,2,n,X.min(),X.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Xe(e,3,n,X.min(),X.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ro{constructor(e,n){this.position=e,this.inclusive=n}}function Oj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(s.referenceValue),n.key):So(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Fj(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ode(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Vj{}class we extends Vj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Fde(e,n,r):"array-contains"===n?new Ude(e,r):"in"===n?new Hj(e,r):"not-in"===n?new Bde(e,r):"array-contains-any"===n?new jde(e,r):new we(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Vde(e,r):new Lde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&void 0===n.nullValue&&this.matchesComparison(So(n,this.value)):null!==n&&Ao(this.value)===Ao(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends Vj{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ve(e,n)}matches(e){return Ku(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ku(t){return"and"===t.op}function hA(t){return function Lj(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}(t)&&Ku(t)}function fA(t){if(t instanceof we)return t.field.canonicalString()+t.op.toString()+Wu(t.value);if(hA(t))return t.filters.map(e=>fA(e)).join(",");{const e=t.filters.map(n=>fA(n)).join(",");return`${t.op}(${e})`}}function Uj(t,e){return t instanceof we?(r=t,(i=e)instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)):t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&Uj(s,i.filters[a]),!0)}(t,e):void Y(19439);var r,i}function jj(t){return t instanceof we?`${(n=t).field.canonicalString()} ${n.op} ${Wu(n.value)}`:t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(jj).join(" ,")+"}"}(t):"Filter";var n}class Fde extends we{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vde extends we{constructor(e,n){super(e,"in",n),this.keys=$j(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lde extends we{constructor(e,n){super(e,"not-in",n),this.keys=$j(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $j(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class Ude extends we{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ah(n)&&sh(n.arrayValue,this.value)}}class Hj extends we{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&sh(this.value.arrayValue,n)}}class Bde extends we{constructor(e,n){super(e,"not-in",n)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&void 0===n.nullValue&&!sh(this.value.arrayValue,n)}}class jde extends we{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ah(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sh(this.value.arrayValue,r))}}class $de{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}}function pA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new $de(t,e,n,r,i,o,s)}function Js(t){const e=G(t);if(null===e.Ie){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wu(r)).join(",")),e.Ie=n}return e.Ie}function lh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ode(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Uj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fj(t.startAt,e.startAt)&&Fj(t.endAt,e.endAt)}function g_(t){return W.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ai{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null}}function Qu(t){return new Ai(t)}function Wj(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Yu(t){const e=G(t);if(null===e.Ee){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Fe(it.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ch(o,r))}),n.has(it.keyField().canonicalString())||e.Ee.push(new ch(it.keyField(),r))}return e.Ee}function ln(t){const e=G(t);return e.de||(e.de=function Qj(t,e){if("F"===t.limitType)return pA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new ch(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Ro(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ro(t.startAt.position,t.startAt.inclusive):null;return pA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Yu(t))),e.de}function __(t,e,n){return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dh(t,e){return lh(ln(t),ln(e))&&t.limitType===e.limitType}function Yj(t){return`${Js(ln(t))}|lt:${t.limitType}`}function Zu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jj(i)).join(", ")}]`),Yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wu(i)).join(",")),`Target(${r})`}(ln(t))}; limitType=${t.limitType})`}function hh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Yu(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=Oj(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Yu(r),i)||r.endAt&&!function(s,a,u){const c=Oj(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Yu(r),i)));var r,i}function Jj(t){return(e,n)=>{let r=!1;for(const i of Yu(t)){const o=Hde(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Hde(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?So(u,c):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}class Si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return yj(this.inner)}size(){return this.innerSize}}const zde=new We(W.comparator);function $n(){return zde}const Xj=new We(W.comparator);function fh(...t){let e=Xj;for(const n of t)e=e.insert(n.key,n);return e}function e$(t){let e=Xj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qr(){return ph()}function t$(){return ph()}function ph(){return new Si(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gde=new We(W.comparator),qde=new Fe(W.comparator);function pe(...t){let e=qde;for(const n of t)e=e.add(n);return e}const Wde=new Fe(te);function yA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function n$(t){return{integerValue:""+t}}function r$(t,e){return function nj(t){return"number"==typeof t&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?n$(e):yA(t,e)}class y_{constructor(){this._=void 0}}function Kde(t,e,n){return t instanceof Ju?function(i,o){const s={fields:{[Tj]:{stringValue:Ij},[Cj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&c_(o)&&(o=l_(o)),o&&(s.fields[wj]=o),{mapValue:s}}(n,e):t instanceof Xs?o$(t,e):t instanceof ea?s$(t,e):function(i,o){const s=i$(i,o),a=a$(s)+a$(i.Re);return lA(s)&&lA(i.Re)?n$(a):yA(i.serializer,a)}(t,e)}function Qde(t,e,n){return t instanceof Xs?o$(t,e):t instanceof ea?s$(t,e):n}function i$(t,e){return t instanceof Xu?lA(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Ju extends y_{}class Xs extends y_{constructor(e){super(),this.elements=e}}function o$(t,e){const n=u$(e);for(const r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ea extends y_{constructor(e){super(),this.elements=e}}function s$(t,e){let n=u$(e);for(const r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}class Xu extends y_{constructor(e,n){super(),this.serializer=e,this.Re=n}}function a$(t){return ot(t.integerValue||t.doubleValue)}function u$(t){return ah(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Zde{constructor(e,n){this.version=e,this.transformResults=n}}class st{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new st}static exists(e){return new st(void 0,e)}static updateTime(e){return new st(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function v_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class E_{}function c$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new tc(t.key,st.none()):new ec(t.key,t.data,st.none());{const n=t.data,r=Jt.empty();let i=new Fe(it.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ri(t.key,r,new jn(i.toArray()),st.none())}}function Jde(t,e,n){t instanceof ec?function(i,o,s){const a=i.value.clone(),u=h$(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(i,o,s){if(!v_(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=h$(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(d$(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function mh(t,e,n,r){return t instanceof ec?function(o,s,a,u){if(!v_(o.precondition,s))return a;const c=o.value.clone(),d=f$(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(o,s,a,u){if(!v_(o.precondition,s))return a;const c=f$(o.fieldTransforms,u,s),d=s.data;return d.setAll(d$(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):(a=n,v_(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Xde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=i$(r.transform,i||null);null!=o&&(null===n&&(n=Jt.empty()),n.set(r.field,o))}return n||null}function l$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Fu(r,i,(o,s)=>function Yde(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Xs&&i instanceof Xs||r instanceof ea&&i instanceof ea?Fu(r.elements,i.elements,Kr):r instanceof Xu&&i instanceof Xu?Kr(r.Re,i.Re):r instanceof Ju&&i instanceof Ju);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class ec extends E_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ri extends E_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function d$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function h$(t,e,n){const r=new Map;Z(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Qde(s,a,n[i]))}return r}function f$(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Kde(o,s,e))}return r}class tc extends E_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vA extends E_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Jde(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=t$();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=c$(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,(n,r)=>l$(n,r))&&Fu(this.baseMutations,e.baseMutations,(n,r)=>l$(n,r))}}class IA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Gde}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new IA(e,n,r,i)}}class TA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ehe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,De;function m$(t){if(void 0===t)return wt("GRPC error has no .code"),k.UNKNOWN;switch(t){case Mt.OK:return k.OK;case Mt.CANCELLED:return k.CANCELLED;case Mt.UNKNOWN:return k.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return k.INTERNAL;case Mt.UNAVAILABLE:return k.UNAVAILABLE;case Mt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Mt.NOT_FOUND:return k.NOT_FOUND;case Mt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Mt.ABORTED:return k.ABORTED;case Mt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Mt.DATA_LOSS:return k.DATA_LOSS;default:return Y(39323,{code:t})}}(De=Mt||(Mt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";const the=new Eo([4294967295,4294967295],0);function _$(t){const e=qb().encode(t),n=new OB;return n.update(e),new Uint8Array(n.digest())}function y$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Eo([n,r],0),new Eo([i,o],0)]}class wA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _h(`Invalid padding: ${n}`);if(r<0)throw new _h(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new _h(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new _h(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Eo.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Eo.fromNumber(r)));return 1===i.compare(the)&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const n=_$(e),[r,i]=y$(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new wA(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.pe)return;const n=_$(e),[r,i]=y$(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class _h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yh(X.min(),i,new We(te),$n(),pe())}}class vh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vh(r,n,pe(),pe(),pe())}}class T_{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class v${constructor(e,n){this.targetId=e,this.Ce=n}}class E${constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class I${constructor(){this.Fe=0,this.Me=T$(),this.xe=_t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new vh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=T$()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Z(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nhe{constructor(e){this.ze=e,this.je=new Map,this.He=$n(),this.Je=w_(),this.Ye=w_(),this.Ze=new We(te)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(g_(o))if(0===r){const s=new W(o.path);this.tt(n,s,Xe.newNoDocument(s,X.min()))}else Z(1===r,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const a=this.ct(e),u=a?this.lt(a,e,s):1;0!==u&&(this.st(n),this.Ze=this.Ze.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=bi(r).toUint8Array()}catch(u){if(u instanceof Ej)return fr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new wA(s,i,o)}catch(u){return fr(u instanceof _h?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.pe?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,s)=>{const a=this._t(s);if(a){if(o.current&&g_(a.target)){const u=new W(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Xe.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=pe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this._t(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new yh(e,n,this.Ze,this.He,r);return this.He=$n(),this.Je=w_(),this.Ye=w_(),this.Ze=new We(te),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new I$,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Fe(te),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Fe(te),this.Je=this.Je.insert(e,n)),n}it(e){const n=null!==this._t(e);return n||U("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new I$),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function w_(){return new We(W.comparator)}function T$(){return new We(W.comparator)}const rhe={asc:"ASCENDING",desc:"DESCENDING"},ihe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ohe={and:"AND",or:"OR"};class she{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function CA(t,e){return t.useProto3Json||Yd(e)?e:{value:e}}function nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ahe(t,e){return nc(t,e.toTimestamp())}function Ct(t){return Z(!!t,49232),X.fromTimestamp(function(n){const r=Di(n);return new ct(r.seconds,r.nanos)}(t))}function DA(t,e){return bA(t,e).canonicalString()}function bA(t,e){const n=(i=t,new Te(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function C$(t){const e=Te.fromString(t);return Z(O$(e),10190,{key:e.toString()}),e}function Eh(t,e){return DA(t.databaseId,e.path)}function Yr(t,e){const n=C$(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(A$(n))}function D$(t,e){return DA(t.databaseId,e)}function AA(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function A$(t){return Z(t.length>4&&"documents"===t.get(4),29091,{key:t.toString()}),t.popFirst(5)}function S$(t,e,n){return{name:Eh(t,e),fields:n.value.mapValue.fields}}function P$(t,e){return{documents:[D$(t,e.path)]}}function C_(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=D$(t,i);const o=function(c){if(0!==c.length)return x$(Ve.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:Po((f=d).field),direction:hhe(f.dir)};var f})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=CA(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i};var c}function N$(t){let e=function b$(t){const e=C$(t);return 4===e.length?Te.emptyPath():A$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(1===r,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const f=k$(h);return f instanceof Ve&&hA(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>{return new ch(rc((_=f).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let a=null;n.limit&&(a=function(h){let f;return f="object"==typeof h?h.value:h,Yd(f)?null:f}(n.limit));let u=null;var h;n.startAt&&(u=new Ro((h=n.startAt).values||[],!!h.before));let c=null;return n.endAt&&(c=function(h){return new Ro(h.values||[],!h.before)}(n.endAt)),function qj(t,e,n,r,i,o,s,a){return new Ai(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function k$(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rc(n.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rc(n.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rc(n.unaryFilter.field);return we.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=rc(n.unaryFilter.field);return we.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):void 0!==t.fieldFilter?we.create(rc((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ve.create(n.compositeFilter.filters.map(r=>k$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t});var n}function hhe(t){return rhe[t]}function fhe(t){return ihe[t]}function phe(t){return ohe[t]}function Po(t){return{fieldPath:t.canonicalString()}}function rc(t){return it.fromServerFormat(t.fieldPath)}function x$(t){return t instanceof we?function(n){if("=="===n.op){if(Rj(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(Sj(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Rj(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(Sj(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:fhe(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const r=n.getFilters().map(i=>x$(i));return 1===r.length?r[0]:{compositeFilter:{op:phe(n.op),filters:r}}}(t):Y(54877,{filter:t})}function ghe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function O$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Pi{constructor(e,n,r,i,o=X.min(),s=X.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class F${constructor(e){this.wt=e}}function RA(t){const e=N$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?__(e,e.limit,"L"):e}class ia{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(ot(e.integerValue));else if("doubleValue"in e){const r=ot(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Zd(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),"string"==typeof r&&(r=Di(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(bi(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?Pj(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):p_(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):Y(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){const r=e.fields||{};this.Mt(n,55);for(const i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;const o=e.fields||{};this.Mt(n,53);const s=qu,a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.Mt(n,15),n.xt(ot(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){const r=e.values||[];this.Mt(n,50);for(const i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),W.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}}ia.Wt=new ia;class Che{constructor(){this.Cn=new OA}addToCollectionParentIndex(e,n){return this.Cn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Jn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class OA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(Te.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(Te.comparator)).toArray()}}new Uint8Array(0);const X$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class sa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new sa(0)}static lr(){return new sa(-1)}}const oH="LruGarbageCollector";function aH([t,e],[n,r]){const i=te(t,n);return 0===i?te(e,r):i}class Ahe{constructor(e){this.Er=e,this.buffer=new Fe(aH),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aH(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){var n=this;U(oH,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,C(function*(){n.Vr=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){wo(r)?U(oH,"Ignoring IndexedDB error during garbage collection: ",r):yield To(r)}yield n.mr(3e5)}))}}class She{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return M.resolve(er.le);const r=new Ahe(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(X$)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X$):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ou()<=Ie.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(u-a)+`ms\n\tRemoved ${h} documents in `+(c-u)+`ms\nTotal Duration: ${c-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}class lH{constructor(){this.changes=new Si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&mh(r.mutation,i,jn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Qr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=fh();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Qr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=$n();const s=ph(),a=ph();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof Ri)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),mh(d.mutation,c,d.mutation.getFieldMask(),ct.now())):s.set(c.key,jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new Nhe(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ph();let i=new We((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let d=r.get(u)||jn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=t$();d.forEach(f=>{if(!o.has(f)){const g=c$(n.get(f),r.get(f));null!==g&&h.set(f,g),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return W.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function gA(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Qr());let a=-1,u=o;return s.next(c=>M.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{u=u.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,pe())).next(d=>({batchId:a,changes:e$(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=fh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=fh();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{const c=(h=n,f=u.child(o),new Ai(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,f;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,Xe.newInvalidDocument(d)))});let a=fh();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&mh(d.mutation,c,jn.empty(),ct.now()),hh(n,c)&&(a=a.insert(u,c))}),a})}}class khe{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return M.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,{id:(i=n).id,version:i.version,createTime:Ct(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,{name:(i=n).name,query:RA(i.bundledQuery),readTime:Ct(i.readTime)}),M.resolve();var i}}class xhe{constructor(){this.overlays=new We(W.comparator),this.Qr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qr();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Qr(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new We((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=Qr(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Qr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return M.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new TA(n,r));let o=this.Qr.get(n);void 0===o&&(o=pe(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}class Ohe{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}class FA{constructor(){this.$r=new Fe($t.Ur),this.Kr=new Fe($t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new $t(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new $t(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new W(new Te([])),r=new $t(n,e),i=new $t(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new W(new Te([])),r=new $t(n,e),i=new $t(n,e+1);let o=pe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new $t(e,0),r=this.$r.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return W.comparator(e.key,n.key)||te(e.Zr,n.Zr)}static Wr(e,n){return te(e.Zr,n.Zr)||W.comparator(e.key,n.key)}}class Fhe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Fe($t.Ur)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++;const s=new EA(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Xr=this.Xr.add(new $t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ti(n+1),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{const a=this.ei(s.Zr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(te);return n.forEach(i=>{const o=new $t(i,0),s=new $t(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),M.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const s=new $t(new W(o),0);let a=new Fe(te);return this.Xr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Zr)),!0)},s),M.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Z(0===this.ri(n.batchId,"removed"),55003),this.mutationQueue.shift();let r=this.Xr;return M.forEach(n.mutations,i=>{const o=new $t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new $t(n,0),i=this.Xr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}ri(e,n){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vhe{constructor(e){this.ii=e,this.docs=new We(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(e,n){let r=$n();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xe.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$n();const s=n.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Yb(ZB(d),r)<=0||(i.has(d.key)||hh(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}si(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lhe(this)}getSize(e){return M.resolve(this.size)}}class Lhe extends lH{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}class Uhe{constructor(e){this.persistence=e,this.oi=new Si(n=>Js(n),lh),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this._i=0,this.ai=new FA,this.targetCount=0,this.ui=sa.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),M.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new sa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Tr(n),M.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.ai.containsKey(n))}}class VA{constructor(e,n){this.ci={},this.overlays={},this.li=new er(0),this.hi=!1,this.hi=!0,this.Pi=new Ohe,this.referenceDelegate=e(this),this.Ti=new Uhe(this),this.indexManager=new Che,this.remoteDocumentCache=new Vhe(r=>this.referenceDelegate.Ii(r)),this.serializer=new F$(n),this.Ei=new khe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Fhe(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new Bhe(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return M.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Bhe extends XB{constructor(e){super(),this.currentSequenceNumber=e}}class k_{constructor(e){this.persistence=e,this.Vi=new FA,this.mi=null}static fi(e){return new k_(e)}get gi(){if(this.mi)return this.mi;throw Y(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.gi,r=>{const i=W.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return M.or([()=>M.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class x_{constructor(e,n){this.persistence=e,this.yi=new Si(r=>function cn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rj(e)),e=ode(t.get(n),e);return rj(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function cH(t,e){return new She(t,e)}(this,n)}static fi(e,n){return new x_(e,n)}di(){}Ai(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return M.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),M.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=h_(e.data.value)),n}Dr(e,n,r){return M.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return M.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class HA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=pe(),i=pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new HA(e,n.fromCache,r,i)}}class $he{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yH{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=S2()?8:function ej(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Kt())>0?6:4}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new $he;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Ou()<=Ie.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Zu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),M.resolve()):(Ou()<=Ie.DEBUG&&U("QueryEngine","Query:",Zu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ou()<=Ie.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Zu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(n))):M.resolve())}ws(e,n){if(Wj(n))return M.resolve(null);let r=ln(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=__(n,null,"F"),r=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=pe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.vs(n,a);return this.Cs(n,c,s,u.readTime)?this.ws(e,__(n,null,"F")):this.Fs(e,c,n,u)}))})))}bs(e,n,r,i){return Wj(n)||i.isEqual(X.min())?M.resolve(null):this.ys.getDocuments(e,r).next(o=>{const s=this.vs(n,o);return this.Cs(n,s,r,i)?M.resolve(null):(Ou()<=Ie.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zu(n)),this.Fs(e,s,n,function YB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new ct(n+1,0):new ct(n,r));return new Jn(i,W.empty(),e)}(i,-1)).next(a=>a))})}vs(e,n){let r=new Fe(Jj(e));return n.forEach((i,o)=>{hh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ou()<=Ie.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Zu(n)),this.ys.getDocumentsMatchingQuery(e,n,Jn.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}const zA="LocalStore";class zhe{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new We(te),this.Os=new Si(o=>Js(o),lh),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gH(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function EH(t,e){return GA.apply(this,arguments)}function GA(){return GA=C(function*(t,e){const n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=pe();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ks:c,removedBatchIds:s,addedBatchIds:a}))})})}),GA.apply(this,arguments)}function IH(t){const e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Whe(t,e){const n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lc(t,e,n){return qA.apply(this,arguments)}function qA(){return qA=C(function*(t,e,n){const r=G(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!wo(s))throw s;U(zA,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}),qA.apply(this,arguments)}function F_(t,e,n){const r=G(t);let i=X.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=G(u),f=h.Os.get(d);return void 0!==f?M.resolve(h.xs.get(f)):h.Ti.getTargetData(c,d)}(r,s,ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:pe())).next(a=>(function DH(t,e,n){let r=t.Ns.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}(r,function Zj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,$s:o})))}class ZA{constructor(){this.activeTargetIds=function _A(){return Wde}()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MH{constructor(){this.xo=new ZA,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ZA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yhe{No(e){}shutdown(){}}const NH="ConnectivityMonitor";class kH{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){U(NH,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){U(NH,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let U_=null;function XA(){return null===U_?U_=268435456+Math.round(2147483648*Math.random()):U_++,"0x"+U_.toString(16)}const eS="RestConnection",Zhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jhe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const s=XA(),a=this.jo(e,n.toUriEncodedString());U(eS,`Sending RPC '${e}' ${s}:`,a,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);const{host:c}=new URL(a),d=Dd(c);return this.Jo(e,a,u,r,d).then(h=>(U(eS,`Received RPC '${e}' ${s}: `,h),h),h=>{throw fr(eS,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){return`${this.Ko}/v1/${n}:${Zhe[e]}`}terminate(){}}class Xhe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const hn="WebChannelConnection";class efe extends Jhe{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=XA();return new Promise((a,u)=>{const c=new FB;c.setWithCredentials(!0),c.listenOnce(VB.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jm.NO_ERROR:const h=c.getResponseJson();U(hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case Jm.TIMEOUT:U(hn,`RPC '${e}' ${s} timed out`),u(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Jm.HTTP_ERROR:const f=c.getStatus();if(U(hn,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g?.error;if(_&&_.status&&_.message){const v=function(S){const A=S.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(A)>=0?A:k.UNKNOWN}(_.status);u(new B(v,_.message))}else u(new B(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new B(k.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{h_:e,streamId:s,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{U(hn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);U(hn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}I_(e,n,r){const i=XA(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=BB(),a=UB(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");U(hn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);this.E_(h);let f=!1,g=!1;const _=new Xhe({Zo:I=>{g?U(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||(U(hn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),U(hn,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},Xo:()=>h.close()}),v=(I,S,A)=>{I.listen(S,F=>{try{A(F)}catch(K){setTimeout(()=>{throw K},0)}})};return v(h,Wd.EventType.OPEN,()=>{g||(U(hn,`RPC '${e}' stream ${i} transport opened.`),_.__())}),v(h,Wd.EventType.CLOSE,()=>{g||(g=!0,U(hn,`RPC '${e}' stream ${i} transport closed`),_.u_(),this.d_(h))}),v(h,Wd.EventType.ERROR,I=>{g||(g=!0,fr(hn,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),_.u_(new B(k.UNAVAILABLE,"The operation could not be completed")))}),v(h,Wd.EventType.MESSAGE,I=>{var S;if(!g){const A=I.data[0];Z(!!A,16349);const F=A,K=F?.error||(null===(S=F[0])||void 0===S?void 0:S.error);if(K){U(hn,`RPC '${e}' stream ${i} received error:`,K);const Q=K.status;let ne=function(T){const b=Mt[T];if(void 0!==b)return m$(b)}(Q),D=K.message;void 0===ne&&(ne=k.INTERNAL,D="Unknown error status: "+Q+" with message "+K.message),g=!0,_.u_(new B(ne,D)),h.close()}else U(hn,`RPC '${e}' stream ${i} received:`,A),_.c_(A)}}),v(a,LB.STAT_EVENT,I=>{I.stat===Hb.PROXY?U(hn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Hb.NOPROXY&&U(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function B_(){return typeof document<"u"?document:null}function Rh(t){return new she(t,!0)}class tS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const OH="PersistentStream";class FH{constructor(e,n,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new tS(e,n)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}stop(){var e=this;return C(function*(){e.O_()&&(yield e.close(0))})()}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){var e=this;return C(function*(){if(e.N_())return e.close(0)})()}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,n){var r=this;return C(function*(){r.U_(),r.K_(),r.x_.cancel(),r.v_++,4!==e?r.x_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(wt(n.toString()),wt("Using maximum backoff delay to prevent overloading the backend."),r.x_.p_()):n&&n.code===k.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.W_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.i_(n)})()}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.M_?this.J_(i):this.onNext(i))})}B_(){var e=this;this.state=5,this.x_.y_(C(function*(){e.state=0,e.start()}))}j_(e){return U(OH,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(U(OH,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tfe extends FH{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=function che(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Y(39313,{state:c}),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Z(void 0===d||"string"==typeof d,58123),_t.fromBase64String(d||"")):(Z(void 0===d||d instanceof Buffer||d instanceof Uint8Array,16193),_t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?k.UNKNOWN:m$(c.code);return new B(d,c.message||"")}(s);n=new E$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Yr(t,r.document.name),o=Ct(r.document.updateTime),s=r.document.createTime?Ct(r.document.createTime):X.min(),a=new Jt({mapValue:{fields:r.document.fields}}),u=Xe.newFoundDocument(i,o,s,a);n=new T_(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Yr(t,r.document),o=r.readTime?Ct(r.readTime):X.min(),s=Xe.newNoDocument(i,o);n=new T_([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Yr(t,r.document);n=new T_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new ehe(i,o);n=new v$(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Ct(s.readTime):X.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=AA(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=g_(u)?{documents:P$(o,u)}:{query:C_(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=w$(o,s.resumeToken);const c=CA(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=nc(o,s.snapshotVersion.toTimestamp());const c=CA(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function dhe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=AA(this.serializer),n.removeTarget=e,this.Q_(n)}}class nfe extends FH{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Z(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Z(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){Z(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=function lhe(t,e){return t&&t.length>0?(Z(void 0!==e,14353),t.map(n=>function(i,o){let s=Ct(i.updateTime?i.updateTime:o);return s.isEqual(X.min())&&(s=Ct(o)),new Zde(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Ct(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=AA(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ih(t,e){let n;if(e instanceof ec)n={update:S$(t,e.key,e.value)};else if(e instanceof tc)n={delete:Eh(t,e.key)};else if(e instanceof Ri)n={update:S$(t,e.key,e.data),updateMask:ghe(e.fieldMask)};else{if(!(e instanceof vA))return Y(16599,{ft:e.type});n={verify:Eh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ju)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ea)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xu)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Y(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:ahe(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Y(27497)),n;var o}(this.serializer,r))};this.Q_(n)}}class rfe{}class ife extends rfe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,bA(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,bA(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ofe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(wt(n),this.ua=!1):U("OnlineStateTracker",n)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const ua="RemoteStore";class sfe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(a=>{r.enqueueAndForget(C(function*(){var u;Oo(s)&&(U(ua,"Restarting streams for network reachability change."),yield(u=C(function*(d){const h=G(d);h.da.add(4),yield dc(h),h.Va.set("Unknown"),h.da.delete(4),yield Ph(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.Va=new ofe(r,i)}}function Ph(t){return nS.apply(this,arguments)}function nS(){return nS=C(function*(t){if(Oo(t))for(const e of t.Aa)yield e(!0)}),nS.apply(this,arguments)}function dc(t){return rS.apply(this,arguments)}function rS(){return rS=C(function*(t){for(const e of t.Aa)yield e(!1)}),rS.apply(this,arguments)}function j_(t,e){const n=G(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),sS(n)?oS(n):pc(n).N_()&&iS(n,e))}function hc(t,e){const n=G(t),r=pc(n);n.Ea.delete(e),r.N_()&&VH(n,e),0===n.Ea.size&&(r.N_()?r.k_():Oo(n)&&n.Va.set("Unknown"))}function iS(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).Z_(e)}function VH(t,e){t.ma.Ke(e),pc(t).X_(e)}function oS(t){t.ma=new nhe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.Va.ca()}function sS(t){return Oo(t)&&!pc(t).O_()&&t.Ea.size>0}function Oo(t){return 0===G(t).da.size}function LH(t){t.ma=void 0}function afe(t){return aS.apply(this,arguments)}function aS(){return aS=C(function*(t){t.Va.set("Online")}),aS.apply(this,arguments)}function ufe(t){return uS.apply(this,arguments)}function uS(){return uS=C(function*(t){t.Ea.forEach((e,n)=>{iS(t,e)})}),uS.apply(this,arguments)}function cfe(t,e){return cS.apply(this,arguments)}function cS(){return cS=C(function*(t,e){LH(t),sS(t)?(t.Va.Pa(e),oS(t)):t.Va.set("Unknown")}),cS.apply(this,arguments)}function lfe(t,e,n){return lS.apply(this,arguments)}function lS(){return lS=C(function*(t,e,n){if(t.Va.set("Online"),e instanceof E$&&2===e.state&&e.cause)try{yield(r=C(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.Ea.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.Ea.delete(u),o.ma.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){U(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $_(t,r)}else if(e instanceof T_?t.ma.Xe(e):e instanceof v$?t.ma.ot(e):t.ma.nt(e),!n.isEqual(X.min()))try{const r=yield IH(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.ma.It(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.Ea.get(c);d&&o.Ea.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.Ea.get(u);if(!d)return;o.Ea.set(u,d.withResumeToken(_t.EMPTY_BYTE_STRING,d.snapshotVersion)),VH(o,u);const h=new Pi(d.target,u,c,d.sequenceNumber);iS(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U(ua,"Failed to raise snapshot:",r),yield $_(t,r)}var r}),lS.apply(this,arguments)}function $_(t,e,n){return dS.apply(this,arguments)}function dS(){return dS=C(function*(t,e,n){if(!wo(e))throw e;t.da.add(1),yield dc(t),t.Va.set("Offline"),n||(n=()=>IH(t.localStore)),t.asyncQueue.enqueueRetryable(C(function*(){U(ua,"Retrying IndexedDB access"),yield n(),t.da.delete(1),yield Ph(t)}))}),dS.apply(this,arguments)}function UH(t,e){return e().catch(n=>$_(t,n,e))}function fc(t){return hS.apply(this,arguments)}function hS(){return hS=C(function*(t){const e=G(t),n=Fo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:-1;for(;dfe(e);)try{const i=yield Whe(e.localStore,r);if(null===i){0===e.Ia.length&&n.k_();break}r=i.batchId,hfe(e,i)}catch(i){yield $_(e,i)}BH(e)&&jH(e)}),hS.apply(this,arguments)}function dfe(t){return Oo(t)&&t.Ia.length<10}function hfe(t,e){t.Ia.push(e);const n=Fo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function BH(t){return Oo(t)&&!Fo(t).O_()&&t.Ia.length>0}function jH(t){Fo(t).start()}function ffe(t){return fS.apply(this,arguments)}function fS(){return fS=C(function*(t){Fo(t).ia()}),fS.apply(this,arguments)}function pfe(t){return pS.apply(this,arguments)}function pS(){return pS=C(function*(t){const e=Fo(t);for(const n of t.Ia)e.ta(n.mutations)}),pS.apply(this,arguments)}function gfe(t,e,n){return gS.apply(this,arguments)}function gS(){return gS=C(function*(t,e,n){const r=t.Ia.shift(),i=IA.from(r,e,n);yield UH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fc(t)}),gS.apply(this,arguments)}function mfe(t,e){return mS.apply(this,arguments)}function mS(){return mS=C(function*(t,e){var n;e&&Fo(t).ea&&(yield(n=C(function*(i,o){if(function g$(t){switch(t){case k.OK:return Y(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}(a=o.code)&&a!==k.ABORTED){const s=i.Ia.shift();Fo(i).L_(),yield UH(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield fc(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),BH(t)&&jH(t)}),mS.apply(this,arguments)}function $H(t,e){return _S.apply(this,arguments)}function _S(){return _S=C(function*(t,e){const n=G(t);n.asyncQueue.verifyOperationInProgress(),U(ua,"RemoteStore received new credentials");const r=Oo(n);n.da.add(3),yield dc(n),r&&n.Va.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),yield Ph(n)}),_S.apply(this,arguments)}function vS(){return vS=C(function*(t,e){const n=G(t);e?(n.da.delete(2),yield Ph(n)):e||(n.da.add(2),yield dc(n),n.Va.set("Unknown"))}),vS.apply(this,arguments)}function pc(t){return t.fa||(t.fa=function(n,r,i){const o=G(n);return o.oa(),new tfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:afe.bind(null,t),n_:ufe.bind(null,t),i_:cfe.bind(null,t),Y_:lfe.bind(null,t)}),t.Aa.push(function(){var e=C(function*(n){n?(t.fa.L_(),sS(t)?oS(t):t.Va.set("Unknown")):(yield t.fa.stop(),LH(t))});return function(n){return e.apply(this,arguments)}}())),t.fa}function Fo(t){return t.ga||(t.ga=function(n,r,i){const o=G(n);return o.oa(),new nfe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:ffe.bind(null,t),i_:mfe.bind(null,t),na:pfe.bind(null,t),ra:gfe.bind(null,t)}),t.Aa.push(function(){var e=C(function*(n){n?(t.ga.L_(),yield fc(t)):(yield t.ga.stop(),t.Ia.length>0&&(U(ua,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))});return function(n){return e.apply(this,arguments)}}())),t.ga}class ES{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ES(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gc(t,e){if(wt("AsyncQueue",`${e}: ${t}`),wo(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}class mc{static emptySet(e){return new mc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=fh(),this.sortedSet=new We(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new mc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class HH{constructor(){this.pa=new We(W.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?0!==e.type&&3===r.type?this.pa=this.pa.insert(n,e):3===e.type&&1!==r.type?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pa=this.pa.remove(n):1===e.type&&2===r.type?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class _c{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new _c(e,n,mc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class _fe{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class yfe{constructor(){this.queries=zH(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(n,r){const i=G(n),o=i.queries;i.queries=zH(),o.forEach((s,a)=>{for(const u of a.Sa)u.onError(r)})}(this,new B(k.ABORTED,"Firestore shutting down"))}}function zH(){return new Si(t=>Yj(t),dh)}function TS(){return TS=C(function*(t,e){const n=G(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new _fe,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield n.onListen(i,!0);break;case 1:o.ba=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=gc(s,`Initialization of query '${Zu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&DS(n)}),TS.apply(this,arguments)}function CS(){return CS=C(function*(t,e){const n=G(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),0===o.Sa.length?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),CS.apply(this,arguments)}function vfe(t,e){const n=G(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&DS(n)}function Efe(t,e,n){const r=G(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function DS(t){t.Ca.forEach(e=>{e.next()})}var bS,GH;(GH=bS||(bS={})).xa="default",GH.Cache="cache";class AS{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new _c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){return!e.fromCache||!this.va()||(!this.options.Qa||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}La(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qa(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==bS.Cache}}class KH{constructor(e){this.key=e}}class QH{constructor(e){this.key=e}}class YH{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.Za=Jj(e),this.Xa=new mc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new HH,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=hh(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;f&&g?f.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),I=!0):this.ru(f,g)||(r.track({type:2,doc:g}),I=!0,(u&&this.Za(g,u)>0||c&&this.Za(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),I=!0):f&&!g&&(r.track({type:1,doc:f}),I=!0,(u||c)&&(a=!0)),I&&(g?(s=s.add(g),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((d,h)=>function(g,_){const v=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:I})}};return v(g)-v(_)}(d.type,h.type)||this.Za(d.doc,h.doc)),this.iu(r),i=null!=i&&i;const a=n&&!i?this.su():[],u=0===this.Ya.size&&this.current&&!i?1:0,c=u!==this.Ja;return this.Ja=u,0!==s.length||c?{snapshot:new _c(this.query,e.Xa,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new HH,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=pe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new QH(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new KH(r))}),n}au(e){this.Ha=e.$s,this.Ya=pe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return _c.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const Vo="SyncEngine";class wfe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Cfe{constructor(e){this.key=e,this.cu=!1}}class Dfe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Si(a=>Yj(a),dh),this.Pu=new Map,this.Tu=new Set,this.Iu=new We(W.comparator),this.Eu=new Map,this.du=new FA,this.Au={},this.Ru=new Map,this.Vu=sa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}function bfe(t,e){return SS.apply(this,arguments)}function SS(){return SS=C(function*(t,e,n=!0){const r=H_(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield ZH(r,e,n,!0),i}),SS.apply(this,arguments)}function Afe(t,e){return RS.apply(this,arguments)}function RS(){return RS=C(function*(t,e){const n=H_(t);yield ZH(n,e,!0,!1)}),RS.apply(this,arguments)}function ZH(t,e,n,r){return PS.apply(this,arguments)}function PS(){return PS=C(function*(t,e,n,r){const i=yield function cc(t,e){const n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Pi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}(t.localStore,ln(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function MS(t,e,n,r,i){return NS.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&j_(t.remoteStore,i),a}),PS.apply(this,arguments)}function NS(){return NS=C(function*(t,e,n,r,i){t.fu=(h,f,g)=>{return(_=C(function*(I,S,A,F){let K=S.view.tu(A);K.Cs&&(K=yield F_(I.localStore,S.query,!1).then(({documents:E})=>S.view.tu(E,K)));const Q=F&&F.targetChanges.get(S.targetId),ne=F&&null!=F.targetMismatches.get(S.targetId),D=S.view.applyChanges(K,I.isPrimaryClient,Q,ne);return HS(I,S.targetId,D.ou),D.snapshot}),function v(I,S,A,F){return _.apply(this,arguments)})(t,h,f,g);var _};const o=yield F_(t.localStore,e,!0),s=new YH(e,o.$s),a=s.tu(o.documents),u=vh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);HS(t,n,c.ou);const d=new wfe(e,n,s);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),c.snapshot}),NS.apply(this,arguments)}function Sfe(t,e,n){return kS.apply(this,arguments)}function kS(){return kS=C(function*(t,e,n){const r=G(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!dh(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hc(r.remoteStore,i.targetId),yc(r,i.targetId)}).catch(To))):(yc(r,i.targetId),yield lc(r.localStore,i.targetId,!0))}),kS.apply(this,arguments)}function Rfe(t,e){return xS.apply(this,arguments)}function xS(){return xS=C(function*(t,e){const n=G(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hc(n.remoteStore,r.targetId))}),xS.apply(this,arguments)}function OS(){return OS=C(function*(t,e,n){const r=function eR(t){const e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kfe.bind(null,e),e}(t);try{const i=yield function(s,a){const u=G(s),c=ct.now(),d=a.reduce((g,_)=>g.add(_.key),pe());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=$n(),v=pe();return u.Bs.getEntries(g,d).next(I=>{_=I,_.forEach((S,A)=>{A.isValidDocument()||(v=v.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(I=>{h=I;const S=[];for(const A of a){const F=Xde(A,h.get(A.key).overlayedDocument);null!=F&&S.push(new Ri(A.key,F,xj(F.value.mapValue),st.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,S,a)}).next(I=>{f=I;const S=I.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(g,I.batchId,S)})}).then(()=>({batchId:f.batchId,changes:e$(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Au[s.currentUser.toKey()];c||(c=new We(te)),c=c.insert(a,u),s.Au[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Mi(r,i.changes),yield fc(r.remoteStore)}catch(i){const o=gc(i,"Failed to persist write");n.reject(o)}}),OS.apply(this,arguments)}function JH(t,e){return FS.apply(this,arguments)}function FS(){return FS=C(function*(t,e){const n=G(t);try{const r=yield function qhe(t,e){const n=G(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ti.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(o,d.addedDocuments,h)));let g=f.withSequenceNumber(o.currentSequenceNumber);var v,I,S;null!==e.targetMismatches.get(h)?g=g.withResumeToken(_t.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),I=g,S=d,(0===(v=f).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(n.Ti.updateTargetData(o,g))});let u=$n(),c=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function TH(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=$n();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(zA,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{qs:s,Qs:i}})}(o,s,e.documentUpdates).next(d=>{u=d.qs,c=d.Qs})),!r.isEqual(X.min())){const d=n.Ti.getLastRemoteSnapshotVersion(o).next(h=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.xs=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Eu.get(o);s&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Z(s.cu,14607):i.removedDocuments.size>0&&(Z(s.cu,42227),s.cu=!1))}),yield Mi(n,r,e)}catch(r){yield To(r)}}),FS.apply(this,arguments)}function XH(t,e,n){const r=G(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.hu.forEach((o,s)=>{const a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=G(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const f of h.Sa)f.Fa(a)&&(c=!0)}),c&&DS(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mfe(t,e,n){return VS.apply(this,arguments)}function VS(){return VS=C(function*(t,e,n){const r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new We(W.comparator);s=s.insert(o,Xe.newNoDocument(o,X.min()));const a=pe().add(o),u=new yh(X.min(),new Map,new We(te),s,a);yield JH(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),zS(r)}else yield lc(r.localStore,e,!1).then(()=>yc(r,e,n)).catch(To)}),VS.apply(this,arguments)}function Nfe(t,e){return LS.apply(this,arguments)}function LS(){return LS=C(function*(t,e){const n=G(t),r=e.batch.batchId;try{const i=yield function Ghe(t,e){const n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,f=h.keys();let g=M.resolve();return f.forEach(_=>{g=g.next(()=>d.getEntry(u,_)).next(v=>{const I=c.docVersions.get(_);Z(null!==I,48541),v.version.compareTo(I)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);$S(n,r,null),jS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Mi(n,i)}catch(i){yield To(i)}}),LS.apply(this,arguments)}function kfe(t,e,n){return US.apply(this,arguments)}function US(){return US=C(function*(t,e,n){const r=G(t);try{const i=yield function(s,a){const u=G(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(Z(null!==h,37113),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);$S(r,e,n),jS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Mi(r,i)}catch(i){yield To(i)}}),US.apply(this,arguments)}function jS(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function $S(t,e,n){const r=G(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function yc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||e4(t,r)})}function e4(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);null!==n&&(hc(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),zS(t))}function HS(t,e,n){for(const r of n)r instanceof KH?(t.du.addReference(r.key,e),Ofe(t,r)):r instanceof QH?(U(Vo,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||e4(t,r.key)):Y(19791,{pu:r})}function Ofe(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(U(Vo,"New document in limbo: "+n),t.Tu.add(r),zS(t))}function zS(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new W(Te.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Cfe(n)),t.Iu=t.Iu.insert(n,r),j_(t.remoteStore,new Pi(ln(Qu(n.path)),r,"TargetPurposeLimboResolution",er.le))}}function Mi(t,e,n){return GS.apply(this,arguments)}function GS(){return GS=C(function*(t,e,n){const r=G(t),i=[],o=[],s=[];var a;r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=n?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=HA.Rs(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.lu.Y_(i),yield(a=C(function*(c,d){const h=G(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(d,g=>M.forEach(g.ds,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>M.forEach(g.As,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!wo(f))throw f;U(zA,"Failed to update sequence numbers: "+f)}for(const f of d){const g=f.targetId;if(!f.fromCache){const _=h.xs.get(g),I=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);h.xs=h.xs.insert(g,I)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),GS.apply(this,arguments)}function Ffe(t,e){return qS.apply(this,arguments)}function qS(){return qS=C(function*(t,e){const n=G(t);if(!n.currentUser.isEqual(e)){U(Vo,"User change. New user:",e.toKey());const r=yield EH(n.localStore,e);n.currentUser=e,(o=n).Ru.forEach(a=>{a.forEach(u=>{u.reject(new B(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ru.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Mi(n,r.ks)}var o}),qS.apply(this,arguments)}function Vfe(t,e){const n=G(t),r=n.Eu.get(e);if(r&&r.cu)return pe().add(r.key);{let i=pe();const o=n.Pu.get(e);if(!o)return i;for(const s of o){const a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function H_(t){const e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mfe.bind(null,e),e.lu.Y_=vfe.bind(null,e.eventManager),e.lu.gu=Efe.bind(null,e.eventManager),e}let z_=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return C(function*(){r.serializer=Rh(n.databaseInfo.databaseId),r.sharedClientState=r.bu(n),r.persistence=r.Su(n),yield r.persistence.start(),r.localStore=r.Du(n),r.gcScheduler=r.vu(n,r.localStore),r.indexBackfillerScheduler=r.Cu(n,r.localStore)})()}vu(n,r){return null}Cu(n,r){return null}Du(n){return function vH(t,e,n,r){return new zhe(t,e,n,r)}(this.persistence,new yH,n.initialUser,this.serializer)}Su(n){return new VA(k_.fi,this.serializer)}bu(n){return new MH}terminate(){var n=this;return C(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})();class tR extends z_{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){return Z(this.persistence.referenceDelegate instanceof x_,46915),new uH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Su(e){const n=void 0!==this.cacheSizeBytes?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new VA(r=>x_.fi(r,n),this.serializer)}}let vc=(()=>{class t{initialize(n,r){var i=this;return C(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>XH(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ffe.bind(null,i.syncEngine),yield function yS(t,e){return vS.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new yfe}createDatastore(n){const r=Rh(n.databaseInfo.databaseId),i=new efe(n.databaseInfo);return new ife(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>XH(this.syncEngine,r,0),u=kH.C()?new kH:new Yhe,new sfe(i,o,s,a,u);var i,o,s,a,u}createSyncEngine(n,r){return function(o,s,a,u,c,d,h){const f=new Dfe(o,s,a,u,c,d);return h&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return C(function*(){var r,i,o;yield(o=C(function*(a){const u=G(a);U(ua,"RemoteStore shutting down."),u.da.add(5),yield dc(u),u.Ra.shutdown(),u.Va.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class G_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):wt("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const Lo="FirestoreClient";class Qfe{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=GB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=C(function*(u){U(Lo,"Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(U(Lo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new jt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(C(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=gc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function rR(t,e){return iR.apply(this,arguments)}function iR(){return iR=C(function*(t,e){t.asyncQueue.verifyOperationInProgress(),U(Lo,"Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=C(function*(o){r.isEqual(o)||(yield EH(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),iR.apply(this,arguments)}function o4(t,e){return oR.apply(this,arguments)}function oR(){return oR=C(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function sR(t){return aR.apply(this,arguments)}(t);U(Lo,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$H(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$H(e.remoteStore,i)),t._onlineComponents=e}),oR.apply(this,arguments)}function aR(){return aR=C(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(Lo,"Using user provided OfflineComponentProvider");try{yield rR(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;fr("Error using user provided cache. Falling back to memory cache: "+e),yield rR(t,new z_)}}else U(Lo,"Using default OfflineComponentProvider"),yield rR(t,new tR(void 0));var i;return t._offlineComponents}),aR.apply(this,arguments)}function q_(t){return uR.apply(this,arguments)}function uR(){return uR=C(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(Lo,"Using user provided OnlineComponentProvider"),yield o4(t,t._uninitializedComponentsProvider._online)):(U(Lo,"Using default OnlineComponentProvider"),yield o4(t,new vc))),t._onlineComponents}),uR.apply(this,arguments)}function Ic(t){return lR.apply(this,arguments)}function lR(){return lR=C(function*(t){const e=yield q_(t),n=e.eventManager;return n.onListen=bfe.bind(null,e.syncEngine),n.onUnlisten=Sfe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Afe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rfe.bind(null,e.syncEngine),n}),lR.apply(this,arguments)}function d4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const h4=new Map;function dR(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f4(t){if(!W.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p4(t){if(W.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function W_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Y(12329,{type:typeof t})}function Ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=W_(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const m4="firestore.googleapis.com";class y4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m4,this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ape(t,e,n,r){if(!0===e&&!0===r)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=d4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y4(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new zle;switch(r.type){case"firstParty":return new Kle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return C(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h4.get(n);r&&(U("ComponentProvider","Removing Datastore"),h4.delete(n),r.terminate())}(this),Promise.resolve()}}class Xt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xt(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class Jr extends Xt{constructor(e,n,r){super(e,n,Qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new W(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function cpe(t,e,...n){if(t=Qt(t),dR("collection","path",e),t instanceof Mh){const r=Te.fromString(e,...n);return p4(r),new Jr(t,null,r)}{if(!(t instanceof Dt||t instanceof Jr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return p4(r),new Jr(t.firestore,null,r)}}function v4(t,e,...n){if(t=Qt(t),1===arguments.length&&(e=GB.newId()),dR("doc","path",e),t instanceof Mh){const r=Te.fromString(e,...n);return f4(r),new Dt(t,null,new W(r))}{if(!(t instanceof Dt||t instanceof Jr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return f4(r),new Dt(t.firestore,t instanceof Jr?t.converter:null,new W(r))}}const I4="AsyncQueue";class T4{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new tS(this,"async_queue_retry"),this.rc=()=>{const r=B_();r&&U(I4,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=B_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=B_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new jt;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){var e=this;return C(function*(){if(0!==e.Ju.length){try{yield e.Ju[0](),e.Ju.shift(),e.x_.reset()}catch(n){if(!wo(n))throw n;U(I4,"Operation failed with retryable error: "+n)}e.Ju.length>0&&e.x_.y_(()=>e.ac())}})()}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,wt("INTERNAL UNHANDLED ERROR: ",w4(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=ES.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Y(47125,{cc:w4(this.Xu)})}verifyOperationInProgress(){}lc(){var e=this;return C(function*(){let n;do{n=e.sc,yield n}while(n!==e.sc)})()}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function w4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}function hR(t){return function(n){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class je extends Mh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new T4,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return C(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new T4(n),e._firestoreClient=void 0,yield n}})()}}function dpe(t,e){const n="object"==typeof t?t:H2(),r="string"==typeof t?t:e||oh,i=function U2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Em())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function upe(t,e,n,r={}){var i;t=Ee(t,Mh);const o=Dd(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(function Ioe(t){Lw.apply(this,arguments)}(`https://${u}`),Doe("Firestore",!0)),s.host!==m4&&s.host!==u&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!bu(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,h;if("string"==typeof r.mockUserToken)d=r.mockUserToken,h=Bt.MOCK_USER;else{d=function Toe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vm(JSON.stringify({alg:"none",type:"JWT"})),vm(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Bt(f)}t._authCredentials=new Gle(new zB(d,h))}}(i,...o)}return i}function lt(t){if(t._terminated)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function C4(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Nde(t._databaseId,u,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator));var u,d;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Qfe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}(t),t._firestoreClient}class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(_t.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ca(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class la{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tc{constructor(e){this._methodName=e}}class pR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}class K_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const fpe=/^__.*__$/;class ppe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new ec(e,this.data,n,this.fieldTransforms)}}class b4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function A4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ic:t})}}class Q_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Q_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return J_(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(A4(this.Ic)&&fpe.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class gpe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rh(e)}bc(e,n,r,i=!1){return new Q_({Ic:e,methodName:n,wc:r,path:it.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function da(t){const e=t._freezeSettings(),n=Rh(t._databaseId);return new gpe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y_(t,e,n,r,i,o={}){const s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);IR("Data must be an object, but it was:",s,r);const a=P4(r,s);let u,c;if(o.merge)u=new jn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=xh(e,h,n);if(!s.contains(f))throw new B(k.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);N4(d,f)||d.push(f)}u=new jn(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new ppe(new Jt(a),u,c)}class kh extends Tc{_toFieldTransform(e){if(2!==e.Ic)throw e.gc(1===e.Ic?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function ha(t,e){if(M4(t=Qt(t)))return IR("Unsupported field value:",e,t),P4(t,e);if(t instanceof Tc)return function(r,i){if(!A4(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&4!==e.Ic)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=ha(a,i.fc(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=Qt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return r$(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ct.fromDate(r);return{timestampValue:nc(i.serializer,o)}}if(r instanceof ct){const o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nc(i.serializer,o)}}if(r instanceof pR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ca)return{bytesValue:w$(i.serializer,r._byteString)};if(r instanceof Dt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:DA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof K_)return s=r,a=i,{mapValue:{fields:{[aA]:{stringValue:uA},[qu]:{arrayValue:{values:s.toArray().map(c=>{if("number"!=typeof c)throw a.gc("VectorValues must only contain numeric values.");return yA(a.serializer,c)})}}}}};var s,a;throw i.gc(`Unsupported field value: ${W_(r)}`)}(t,e)}function P4(t,e){const n={};return yj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,(r,i)=>{const o=ha(i,e.Ac(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function M4(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof pR||t instanceof ca||t instanceof Dt||t instanceof Tc||t instanceof K_)}function IR(t,e,n){if(!M4(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=W_(n);throw e.gc("an object"===r?t+" a custom object":t+" "+r)}var i}function xh(t,e,n){if((e=Qt(e))instanceof la)return e._internalPath;if("string"==typeof e)return Z_(t,e);throw J_("Field path arguments must be of type string or ",t,!1,void 0,n)}const mpe=new RegExp("[~\\*/\\[\\]]");function Z_(t,e,n){if(e.search(mpe)>=0)throw J_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new la(...e.split("."))._internalPath}catch{throw J_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function J_(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(k.INVALID_ARGUMENT,a+t+u)}function N4(t,e){return t.some(n=>n.isEqual(e))}class Oh{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _pe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class _pe extends Oh{data(){return super.data()}}function X_(t,e){return"string"==typeof e?Z_(t,e):e instanceof la?e._internalPath:e._delegate._internalPath}class U4{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Do(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n[qu].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>ot(s.doubleValue));return new K_(o)}convertGeoPoint(e){return new pR(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=l_(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=Di(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);Z(O$(r),9688,{name:e});const i=new Ys(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||wt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends Oh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(X_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class iy extends Cc{data(e={}){return super.data(e)}}class Dc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new iy(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new iy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new iy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Epe(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Epe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}class Uo extends U4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function Ipe(t,e,n,...r){t=Ee(t,Dt);const i=Ee(t.firestore,je),o=da(i);let s;return s="string"==typeof(e=Qt(e))||e instanceof la?function ER(t,e,n,r,i,o){const s=t.bc(1,e,n),a=[xh(e,r,n)],u=[i];if(o.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(xh(e,o[f])),u.push(o[f+1]);const c=[],d=Jt.empty();for(let f=a.length-1;f>=0;--f)if(!N4(c,a[f])){const g=a[f];let _=u[f];_=Qt(_);const v=s.mc(g);if(_ instanceof kh)c.push(g);else{const I=ha(_,v);null!=I&&(c.push(g),d.set(g,I))}}const h=new jn(c);return new b4(d,h,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function vR(t,e,n,r){const i=t.bc(1,e,n);IR("Data must be an object, but it was:",i,r);const o=[],s=Jt.empty();Do(r,(u,c)=>{const d=Z_(e,u,n);c=Qt(c);const h=i.mc(d);if(c instanceof kh)o.push(d);else{const f=ha(c,h);null!=f&&(o.push(d),s.set(d,f))}});const a=new jn(o);return new b4(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),Lh(i,[s.toMutation(t._key,st.exists(!0))])}function Tpe(t){return Lh(Ee(t.firestore,je),[new tc(t._key,st.none())])}function wpe(t,e){const n=Ee(t.firestore,je),r=v4(t),i=function ry(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Lh(n,[Y_(da(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,st.exists(!1))]).then(()=>r)}function Lh(t,e){return function(r,i){const o=new jt;return r.asyncQueue.enqueueAndForget(C(function*(){return function Pfe(t,e,n){return OS.apply(this,arguments)}(yield function cR(t){return q_(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(lt(t),e)}!function(e,n=!0){xu=bm,po(new mi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new je(new qle(r.getProvider("auth-internal")),new Qle(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ys(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Un(jB,"4.7.17",e),Un(jB,"4.7.17","esm2017")}();var sy=function(){return sy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},sy.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Lpe={includeMetadataChanges:!1};function AR(t,e){return void 0===e&&(e=Lpe),new tt(function(n){var r=function Cpe(t,...e){var n,r,i;t=Qt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||hR(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(hR(e[s])){const h=e[s];e[s]=null===(n=h.next)||void 0===n?void 0:n.bind(h),e[s+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),e[s+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let u,c,d;if(t instanceof Dt)c=Ee(t.firestore,je),d=Qu(t._key.path),u={next:h=>{e[s]&&e[s](function CR(t,e,n){const r=n.docs.get(e._key),i=new Uo(t);return new Cc(t,i,e._key,r,new fa(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ee(t,Xt);c=Ee(h.firestore,je),d=h._query;const f=new Uo(c);u={next:g=>{e[s]&&e[s](new Dc(c,f,h,g))},error:e[s+1],complete:e[s+2]},function k4(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,g,_,v){const I=new G_(v),S=new AS(g,I,_);return f.asyncQueue.enqueueAndForget(C(function*(){return function IS(t,e){return TS.apply(this,arguments)}(yield Ic(f),S)})),()=>{I.xu(),f.asyncQueue.enqueueAndForget(C(function*(){return function wS(t,e){return CS.apply(this,arguments)}(yield Ic(f),S)}))}}(lt(c),d,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Gpe(t,e){return void 0===e&&(e={}),function zpe(t){return AR(t,{includeMetadataChanges:!0}).pipe(Se(function(e){return e.docs}))}(t).pipe(Se(function(n){return n.map(function(r){return function H4(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?sy(sy({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class bc{constructor(e){return e}}const W4="firestore",PR=new z("angularfire2.firestore-instances");function Qpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new bc(r)}}const Ype={provide:class Wpe{constructor(){return rC(W4)}},deps:[[new Kn,PR]]},Zpe={provide:bc,useFactory:function Kpe(t,e){const n=function nC(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(W4,t,e);return n&&new bc(n)},deps:[[new Kn,PR],Su]},MR=go(Gpe,!0),NR=go(wpe,!0,2),Ac=go(cpe,!0,2),kR=go(Tpe,!0,2),ay=go(v4,!0,2),Xpe=go(dpe,!0),ege=go(Ipe,!0,2);let tge=(()=>{class t{firestore;constructor(n){this.firestore=n}getNotes(){const n=Ac(this.firestore,"notes");return MR(n,{idField:"id"})}addNote(n){const r=Ac(this.firestore,"notes");return NR(r,{text:n,createdAt:new Date})}deleteNote(n){const r=ay(this.firestore,"notes",n);return kR(r)}static \u0275fac=function(r){return new(r||t)(ce(bc))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nge(t,e){if(1&t){const n=Wp();fe(0,"li")(1,"span",5),ve(2),ge(),fe(3,"small",6),ve(4),ge(),fe(5,"button",3),Ne("click",function(){const i=Kc(n).$implicit;return Qc(ro().deleteNote(i.id))}),ve(6,"\u{1f5d1}\ufe0f"),ge()()}if(2&t){const n=e.$implicit,r=ro();Yn(2),tg(n.text),Yn(2),Ss("(",r.formatDate(n.createdAt),")")}}let rge=(()=>{class t{notesService;notes$;newNoteText="";router=L(wr);constructor(n){this.notesService=n,this.notes$=this.notesService.getNotes()}addNote(){this.newNoteText.trim()&&(this.notesService.addNote(this.newNoteText.trim()),this.newNoteText="")}formatDate(n){return n?n.toDate?n.toDate().toDateString():n instanceof Date?n.toDateString():"":""}deleteNote(n){n&&this.notesService.deleteNote(n).catch(console.error)}goToMenu(){this.router.navigate(["menu"],{replaceUrl:!0})}static \u0275fac=function(r){return new(r||t)(j(tge))};static \u0275cmp=Xi({type:t,selectors:[["app-notes"]],decls:11,vars:4,consts:[[1,"menu-button",3,"click"],[1,"input-group"],["type","text","placeholder","Add new note...",3,"ngModelChange","keyup.enter","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[1,"note-text"],[1,"note-date"]],template:function(r,i){1&r&&(fe(0,"h1"),ve(1," Notes "),fe(2,"button",0),Ne("click",function(){return i.goToMenu()}),ve(3,"Menu"),ge()(),fe(4,"div",1)(5,"input",2),Zl("ngModelChange",function(s){return ng(i.newNoteText,s)||(i.newNoteText=s),s}),Ne("keyup.enter",function(){return i.addNote()}),ge(),fe(6,"button",3),Ne("click",function(){return i.addNote()}),ve(7,"Add"),ge()(),fe(8,"ul"),Ol(9,nge,7,2,"li",4),ig(10,"async"),ge()),2&r&&(Yn(5),Yl("ngModel",i.newNoteText),Yn(4),Hl("ngForOf",og(10,2,i.notes$)))},dependencies:[pw,em,tm,Ow,Iu,im,Td],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;padding:1rem;font-family:Roboto Mono,monospace;background-color:#000;color:#0f0;min-height:100vh}h1[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative;font-weight:400;display:flex;justify-content:space-between;align-items:center}h1[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{position:static;background-color:#0f0;border:none;color:#000;font-weight:700;padding:.25rem .75rem;cursor:pointer;font-family:Roboto Mono,monospace;font-size:.9rem;border-radius:4px;transition:background-color .3s}h1[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]:hover{background-color:#0c0}.input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem}input[_ngcontent-%COMP%]{flex:1;padding:.5rem;background-color:#111;border:1px solid #0f0;color:#0f0;font-family:Roboto Mono,monospace}button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#0f0;border:none;color:#000;font-weight:700;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0c0}ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;gap:1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .note-text[_ngcontent-%COMP%]{flex:1}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .note-date[_ngcontent-%COMP%]{width:120px;flex-shrink:0;color:#0a0;font-size:.85rem;white-space:nowrap;text-align:right;margin-left:.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-shrink:0;padding:.3rem .6rem;font-size:1.1rem;background-color:transparent;border:none;color:#0f0;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#0c0}']})}return t})(),ige=(()=>{class t{firestore;constructor(n){this.firestore=n}getCategories(){const n=Ac(this.firestore,"categories");return MR(n,{idField:"id"})}addCategory(n){const r=Ac(this.firestore,"categories");return NR(r,{name:n,createdAt:new Date})}deleteCategory(n){const r=ay(this.firestore,"categories",n);return kR(r)}static \u0275fac=function(r){return new(r||t)(ce(bc))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oge(t,e){if(1&t){const n=Wp();fe(0,"li")(1,"span",5),Ne("click",function(){const i=Kc(n).$implicit;return Qc(ro().openCategory(i.id))}),ve(2),ge(),fe(3,"small",6),ve(4),ge(),fe(5,"button",3),Ne("click",function(){const i=Kc(n).$implicit;return Qc(ro().deleteCategory(i.id))}),ve(6,"\u{1f5d1}\ufe0f"),ge()()}if(2&t){const n=e.$implicit,r=ro();Yn(2),Ss(" ",n.name," "),Yn(2),Ss("(",r.formatDate(n.createdAt),")")}}let sge=(()=>{class t{categoryService;router;categories$;newCategoryName="";constructor(n,r){this.categoryService=n,this.router=r,this.categories$=this.categoryService.getCategories()}addCategory(){const n=this.newCategoryName.trim();n&&(this.categoryService.addCategory(n),this.newCategoryName="")}deleteCategory(n){!n||!confirm("Really delete this category?")||this.categoryService.deleteCategory(n)}openCategory(n){this.router.navigate(["categories",n,"items"])}formatDate(n){return n?n.toDate?n.toDate().toDateString():n instanceof Date?n.toDateString():"":""}goToMenu(){this.router.navigate(["menu"],{replaceUrl:!0})}static \u0275fac=function(r){return new(r||t)(j(ige),j(wr))};static \u0275cmp=Xi({type:t,selectors:[["app-categories-page"]],decls:11,vars:4,consts:[[1,"menu-button",3,"click"],[1,"input-group"],["type","text","placeholder","Add new category...",3,"ngModelChange","keyup.enter","ngModel"],[3,"click"],[4,"ngFor","ngForOf"],[1,"cat-name",3,"click"],[1,"cat-date"]],template:function(r,i){1&r&&(fe(0,"h1"),ve(1," Categories "),fe(2,"button",0),Ne("click",function(){return i.goToMenu()}),ve(3,"Menu"),ge()(),fe(4,"div",1)(5,"input",2),Zl("ngModelChange",function(s){return ng(i.newCategoryName,s)||(i.newCategoryName=s),s}),Ne("keyup.enter",function(){return i.addCategory()}),ge(),fe(6,"button",3),Ne("click",function(){return i.addCategory()}),ve(7,"Add"),ge()(),fe(8,"ul"),Ol(9,oge,7,2,"li",4),ig(10,"async"),ge()),2&r&&(Yn(5),Yl("ngModel",i.newCategoryName),Yn(4),Hl("ngForOf",og(10,2,i.categories$)))},dependencies:[pw,em,tm,Ow,Iu,im,Td],styles:["[_nghost-%COMP%]{display:block;padding:1rem;font-family:Roboto Mono,monospace;background-color:#000;color:#0f0;min-height:100vh}h1[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative;font-weight:400;display:flex;justify-content:space-between;align-items:center}h1[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{position:static;background-color:#0f0;border:none;color:#000;font-weight:700;padding:.25rem .75rem;cursor:pointer;font-family:Roboto Mono,monospace;font-size:.9rem;border-radius:4px;transition:background-color .3s}h1[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]:hover{background-color:#0c0}.input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem}input[_ngcontent-%COMP%]{flex:1;padding:.5rem;background-color:#111;border:1px solid #0f0;color:#0f0}button[_ngcontent-%COMP%]{background-color:#0f0;color:#000;border:none;padding:.5rem 1rem;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700}button[_ngcontent-%COMP%]:hover{background-color:#0c0}ul[_ngcontent-%COMP%]{list-style:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cat-name[_ngcontent-%COMP%]{flex:1;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cat-name[_ngcontent-%COMP%]:hover{text-decoration:underline}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .cat-date[_ngcontent-%COMP%]{width:120px;flex-shrink:0;color:#0a0;font-size:.85rem;white-space:nowrap;text-align:right;margin:0 1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-shrink:0;background:transparent;color:#0f0;border:none;font-size:1.1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#c00}"]})}return t})(),age=(()=>{class t{firestore;constructor(n){this.firestore=n}getItems(n){const r=Ac(this.firestore,`categories/${n}/items`);return MR(r,{idField:"id"})}addItem(n,r){const i=Ac(this.firestore,`categories/${n}/items`);return NR(i,{content:r,createdAt:new Date}).then(()=>{})}deleteItem(n,r){const i=ay(this.firestore,`categories/${n}/items/${r}`);return kR(i)}updateItem(n,r,i){const o=ay(this.firestore,`categories/${n}/items/${r}`);return ege(o,{content:i})}static \u0275fac=function(r){return new(r||t)(ce(bc))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uge(t,e){if(1&t){const n=Wp();fe(0,"li")(1,"span",4),ve(2),ge(),fe(3,"small",5),ve(4),ge(),fe(5,"button",0),Ne("click",function(){const i=Kc(n).$implicit;return Qc(ro().deleteItem(i.id))}),ve(6,"\u{1f5d1}\ufe0f"),ge()()}if(2&t){const n=e.$implicit,r=ro();Yn(2),tg(n.content),Yn(2),Ss("(",r.formatDate(n.createdAt),")")}}const cge=[{path:"",component:Sne},{path:"menu",component:Rne},{path:"notes",component:rge},{path:"categories",component:sge},{path:"",redirectTo:"menu",pathMatch:"full"},{path:"categories/:id/items",component:(()=>{class t{itemService;route;router;items$;newItemText="";categoryId;constructor(n,r,i){this.itemService=n,this.route=r,this.router=i}ngOnInit(){this.categoryId=this.route.snapshot.paramMap.get("id"),this.items$=this.itemService.getItems(this.categoryId)}addItem(){const n=this.newItemText.trim();n&&(this.itemService.addItem(this.categoryId,n),this.newItemText="")}deleteItem(n){!n||!confirm("Really delete this item?")||this.itemService.deleteItem(this.categoryId,n)}back(){this.router.navigate(["/categories"])}formatDate(n){return n?n.toDate?n.toDate().toDateString():n instanceof Date?n.toDateString():"":""}static \u0275fac=function(r){return new(r||t)(j(age),j(Fs),j(wr))};static \u0275cmp=Xi({type:t,selectors:[["app-category-items-page"]],decls:11,vars:4,consts:[[3,"click"],[1,"input-group"],["type","text","placeholder","Add new item...",3,"ngModelChange","keyup.enter","ngModel"],[4,"ngFor","ngForOf"],[1,"item-text"],[1,"item-date"]],template:function(r,i){1&r&&(fe(0,"h1"),ve(1," Items "),fe(2,"button",0),Ne("click",function(){return i.back()}),ve(3,"\u2190 Back"),ge()(),fe(4,"div",1)(5,"input",2),Zl("ngModelChange",function(s){return ng(i.newItemText,s)||(i.newItemText=s),s}),Ne("keyup.enter",function(){return i.addItem()}),ge(),fe(6,"button",0),Ne("click",function(){return i.addItem()}),ve(7,"Add"),ge()(),fe(8,"ul"),Ol(9,uge,7,2,"li",3),ig(10,"async"),ge()),2&r&&(Yn(5),Yl("ngModel",i.newItemText),Yn(4),Hl("ngForOf",og(10,2,i.items$)))},dependencies:[pw,em,tm,Ow,Iu,im,Td],styles:["[_nghost-%COMP%]{display:block;padding:1rem;font-family:Roboto Mono,monospace;background-color:#000;color:#0f0;min-height:100vh}h1[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}h1[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background:transparent;border:1px solid #0a0;color:#0a0;padding:.25rem .75rem;cursor:pointer}h1[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background-color:#0a0;color:#000}.input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem}input[_ngcontent-%COMP%]{flex:1;padding:.5rem;background-color:#111;border:1px solid #0f0;color:#0f0}button[_ngcontent-%COMP%]{background:#0f0;border:none;color:#000;padding:.5rem 1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0c0}ul[_ngcontent-%COMP%]{list-style:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]{flex:1}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-date[_ngcontent-%COMP%]{width:120px;flex-shrink:0;color:#0a0;font-size:.85rem;white-space:nowrap;text-align:right;margin:0 1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;color:#0f0;font-size:1.1rem;flex-shrink:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#c00}"]})}return t})()}],VR=new z("");let oz=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ce(VR),ce(Ae))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();class sz{_doc;constructor(e){this._doc=e}manager}const dy="ng-app-id";function az(t){for(const e of t)e.remove()}function uz(t,e){const n=e.createElement("style");return n.textContent=t,n}function LR(t,e){const n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}let cz=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=function fge(t){return"server"===t}(o),function $ge(t,e,n,r){const i=t.head?.querySelectorAll(`style[${dy}="${e}"],link[${dy}="${e}"]`);if(i)for(const o of i)o.removeAttribute(dy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,uz);r?.forEach(i=>this.addUsage(i,this.external,LR))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(az(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])az(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,uz(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,LR(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(dy,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ce(gr),ce(tp),ce(NM,8),ce(cl))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const UR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},BR=/%COMP%/g,Kge=new z("",{providedIn:"root",factory:()=>!0});function dz(t,e){return e.map(n=>n.replace(BR,t))}let hz=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new jR(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof pz?i.applyToHost(n):i instanceof $R&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case ai.Emulated:o=new pz(u,c,r,this.appId,d,s,a,h,f);break;case ai.ShadowDom:return new Jge(u,c,n,r,s,a,this.nonce,h,f);default:o=new $R(u,c,r,d,s,a,h,f)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ce(oz),ce(cz),ce(tp),ce(Kge),ce(gr),ce(cl),ce(Ae),ce(NM),ce(Ll,8))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();class jR{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(UR[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fz(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fz(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=UR[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=UR[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yi.DashCase|Yi.Important)?e.style.setProperty(n,r,i&Yi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if("string"==typeof e&&!(e=qi().getGlobalEventTarget(this.doc,e)))throw new O(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&n.preventDefault()}}}function fz(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Jge extends jR{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,c){super(e,o,s,u,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=dz(i.id,d);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}const h=i.getExternalStyles?.();if(h)for(const f of h){const g=LR(f,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $R extends jR{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,c){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?dz(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class pz extends $R{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,c){const d=i+"-"+r.id;super(e,n,r,o,s,a,u,c,d),this.contentAttr=function Qge(t){return"_ngcontent-%COMP%".replace(BR,t)}(d),this.hostAttr=function Yge(t){return"_nghost-%COMP%".replace(BR,t)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class HR extends i6{supportsDOMEvents=!0;static makeCurrent(){!function r6(t){NP??=t}(new HR)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Xge(){return $h=$h||document.head.querySelector("base"),$h?$h.getAttribute("href"):null}();return null==n?null:function eme(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){$h=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function lge(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let $h=null,nme=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),rme=(()=>{class t extends sz{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ce(gr))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();const gz=["alt","control","meta","shift"],ime={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ome={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let sme=(()=>{class t extends sz{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i,o){const s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qi().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gz.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=ime[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gz.forEach(s=>{s!==i&&(0,ome[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||t)(ce(gr))};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})();function mz(t){return{appProviders:[...fme,...t?.providers??[]],platformProviders:dme}}const dme=[{provide:cl,useValue:"browser"},{provide:MM,useValue:function ume(){HR.makeCurrent()},multi:!0},{provide:gr,useFactory:function lme(){return function wq(t){Wv=t}(document),document}}],fme=[{provide:sv,useValue:"root"},{provide:ka,useFactory:function cme(){return new ka}},{provide:VR,useClass:rme,multi:!0,deps:[gr]},{provide:VR,useClass:sme,multi:!0,deps:[gr]},hz,cz,oz,{provide:JE,useExisting:hz},{provide:class dge{},useClass:nme},[]],GR=new z("");function yz(t){return t.routerState.root}function vz(){const t=L(on);return e=>{const n=t.get(to);if(e!==n.components[0])return;const r=t.get(wr),i=t.get(Ez);1===t.get(qR)&&r.initialNavigation(),t.get(Iz,null,{optional:!0})?.setUpPreloading(),t.get(GR,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Ez=new z("",{factory:()=>new Sn}),qR=new z("",{providedIn:"root",factory:()=>1}),Iz=new z("");!function ame(t,e){HJ({rootComponent:t,...mz(e)})}((()=>{class t{title="movieList";static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Xi({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&qp(0,"router-outlet")},dependencies:[HT],encapsulation:2})}return t})(),{providers:[function yme(t,...e){return zc([{provide:ZT,multi:!0,useValue:t},[],{provide:Fs,useFactory:yz,deps:[wr]},{provide:iO,multi:!0,useFactory:vz},e.map(n=>n.\u0275providers)])}(cge),function gae(t,...e){return zc([hae,fae,{provide:sC,useFactory:pae(t),multi:!0,deps:[Ae,on,oC,...e]}])}(()=>mae(lf)),function Jpe(t,...e){return Un("angularfire",tC.full,"fst"),zc([Zpe,Ype,{provide:PR,useFactory:Qpe(t),multi:!0,deps:[Ae,on,oC,tU,[new Kn,NB],[new Kn,TU],...e]}])}(()=>Xpe())]})}},lf=>{lf(lf.s=154)}]);